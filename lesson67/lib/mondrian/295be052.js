"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[183],{8761:(t,e,n)=>{n.d(e,{A:()=>l,b:()=>s});var i=n(1182),o=n.n(i),r=n(2806),a=n.n(r)()(o());a.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2, h3, h4, h5) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2, h3, h4, h5) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2, h3, h4, h5)) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2, h3, h4, h5)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);var s="hXRin0tc";const l=a},9183:(t,e,n)=>{n.r(e),n.d(e,{default:()=>ui});var i=n(6218),o=(n(9763),n(2604)),r=n.n(o),a=n(101),s=n.n(a),l=n(5863),d=n.n(l),c=n(3124),u=n.n(c),p=n(6896),m=n.n(p),g=n(9917),f=n.n(g),h=n(8761),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=m(),r()(h.A,_),h.A&&h.A.locals&&h.A.locals;var $=n(7268);const y="isLearn",b=()=>(0,$.getContext)(y)??!1;function v(t){return`assets/${t.path}`}var z=n(6195);const x=z.z.object({id:z.z.string(),path:z.z.string(),name:z.z.string(),width:z.z.number().optional(),height:z.z.number().optional()}),w=z.z.object({unit:z.z.enum(["px","%","auto","fr"]),value:z.z.number()}),k=z.z.object({applied:z.z.boolean().default(!1),type:z.z.enum(["none","fill"]).default("none"),color:z.z.string().default("#000000"),opacity:z.z.number().default(1),style:z.z.enum(["solid","dashed","dotted"]).default("solid"),width:w.default({value:1,unit:"px"})}),A=z.z.object({assetId:z.z.string().optional(),color:z.z.string().optional(),opacity:z.z.number().min(0).max(1).default(1)}),S=A.extend({type:z.z.literal("color"),color:z.z.string().default("#e4e4e4")}),C=z.z.object({width:z.z.number(),height:z.z.number(),left:z.z.number(),top:z.z.number()}),I=A.extend({type:z.z.literal("image"),assetId:z.z.string(),crop:C.default({width:1,height:1,left:0,top:0})}),M=A.extend({type:z.z.literal("none")}),E=z.z.discriminatedUnion("type",[S,I,M]),L=z.z.discriminatedUnion("type",[S,M]),T=z.z.object({top:w.default({value:0,unit:"px"}),left:w.default({value:0,unit:"px"}),bottom:w.default({value:0,unit:"px"}),right:w.default({value:0,unit:"px"})}),j=z.z.object({id:z.z.string(),name:z.z.string().max(128)}),P=j.extend({x:w.default({value:0,unit:"px"}),y:w.default({value:0,unit:"px"}),xOffset:z.z.number().default(0),yOffset:z.z.number().default(0),position:z.z.literal("absolute").default("absolute"),width:w.default({value:100,unit:"%"}),height:w.default({value:100,unit:"%"}),padding:T,fill:E,overlay:L,aspectRatioLocked:z.z.boolean(),border:k,borderRadius:z.z.object({applied:z.z.boolean().default(!1),topLeft:w.default({value:0,unit:"px"}),topRight:w.default({value:0,unit:"px"}),bottomRight:w.default({value:0,unit:"px"}),bottomLeft:w.default({value:0,unit:"px"})}),rotation:z.z.number().default(0),flipX:z.z.boolean().default(!1),flipY:z.z.boolean().default(!1)}),F=z.z.object({id:z.z.string(),event:z.z.enum(["click","hover"])}),H=F.extend({action:z.z.literal("changeState"),targetId:z.z.string(),targetState:z.z.string().default("default")}),Y=F.extend({action:z.z.literal("changeVisibility"),targetId:z.z.string(),targetVisibility:z.z.boolean()}),B=z.z.discriminatedUnion("action",[H,Y]),R=t=>z.z.intersection(j,t.partial()),q=t=>z.z.intersection(z.z.object({default:t}),z.z.record(R(t))),N=t=>z.z.object({id:z.z.string(),blockumentId:z.z.string(),clonedFromId:z.z.string().optional(),parentId:z.z.string(),type:z.z.string(),name:z.z.string().max(128),tagName:z.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:z.z.boolean().default(!1),authoringVisible:z.z.boolean().default(!0),initialVisible:z.z.boolean().default(!0),initialState:z.z.string().default("default"),states:q(t),triggers:z.z.array(B),assets:z.z.record(x).default({}).optional(),removed:z.z.boolean().default(!1)}),W=(R(P),z.z.object({id:z.z.string(),clonedFromId:z.z.string().optional(),state:z.z.string(),visible:z.z.boolean()})),K=z.z.object({id:z.z.string(),title:z.z.string().max(255),children:z.z.array(W).max(1)}),O=P.extend({children:z.z.array(W)}),X=N(O).extend({type:z.z.literal("group")}),V=(R(O),P.extend({altText:z.z.string().default("")})),U=N(V).extend({type:z.z.literal("image")}),D=(R(V),z.z.intersection(z.z.object({type:z.z.string().optional(),attrs:z.z.record(z.z.any()).optional(),content:z.z.array(z.z.lazy((()=>D))).optional(),marks:z.z.array(z.z.intersection(z.z.object({type:z.z.string(),attrs:z.z.record(z.z.any()).optional()}),z.z.record(z.z.any()))).optional(),text:z.z.string().optional()}),z.z.record(z.z.any()))),Q=z.z.object({id:z.z.string(),type:z.z.literal("tiptap"),json:D}),Z=z.z.enum(["top","middle","bottom"]),J=P.extend({text:Q,textVerticalAlign:Z.default("top")}),G=N(J).extend({type:z.z.literal("text")}),tt=(R(J),J.extend({clipPath:z.z.literal("ellipse").nullable().default(null),altText:z.z.string().nullable().default(null)})),et=N(tt).extend({type:z.z.literal("shape")}),nt=(R(tt),z.z.object({default:z.z.string()})),it=P.extend({videoSources:nt}),ot=N(it).extend({type:z.z.literal("video")}),rt=(R(it),z.z.discriminatedUnion("type",[X,U,et,G,ot])),at=z.z.object({blockuments:z.z.record(K).optional(),items:z.z.record(rt).optional()}),st=(z.z.object({accentContrast:z.z.string(),allowSearch:z.z.boolean(),animateBlockEntrance:z.z.boolean(),blockPaddingBottom:z.z.number(),blockPaddingTop:z.z.number(),bodyTypefaceId:z.z.string(),buttonInlineStyle:z.z.string(),buttonNavigationStyle:z.z.string(),buttonScheme:z.z.string(),colorAccent:z.z.string(),compactShowLessonCount:z.z.boolean(),coverImage:z.z.string(),coverImageAlpha:z.z.number(),coverImageDefault:z.z.string(),coverPageType:z.z.string(),customColorLessonHeaderContrast:z.z.string(),enableVideoPlaybackSpeed:z.z.boolean(),headingTypefaceId:z.z.string(),hideLessonHeaders:z.z.boolean(),lessonHeaderColor:z.z.string().nullable(),lessonHeaderImage:z.z.string(),lessonHeaderImageAlpha:z.z.number(),lessonHeaderImageColor:z.z.string(),lessonHeaderSize:z.z.string(),lessonHeaderStyle:z.z.string(),markLessonsComplete:z.z.boolean(),navigation:z.z.boolean(),navigationRestricted:z.z.boolean(),navigationStyle:z.z.string(),showAuthor:z.z.boolean(),showLessonCount:z.z.boolean(),showNavigationButtons:z.z.boolean(),sidebarStartsOpen:z.z.boolean(),themeId:z.z.string(),uiTypefaceId:z.z.string()}),z.z.enum(["bold","regular","light","italic","black","semibold","semibolditalic","bolditalic","medium"])),lt=z.z.object({id:z.z.string(),key:z.z.string(),original:z.z.string().nullable(),style:st}),dt=z.z.object({id:z.z.string(),name:z.z.string(),author:z.z.string().nullable(),createdAt:z.z.string(),default:z.z.boolean(),fonts:z.z.record(lt)}),ct=(z.z.record(dt),z.z.union([z.z.boolean(),z.z.number(),z.z.string()])),ut=(z.z.record(ct),z.z.object({featureFlags:z.z.any().optional(),theme:z.z.any().optional(),typefaces:z.z.any().optional()}),at);var pt;!function(t){t.APP="app",t.BLOCKUMENT="blockument",t.COURSE="course"}(pt||(pt={})),n(9840);var mt=n(4198),gt=n(2559);const ft=14,ht=1.2,_t="merriweather",$t="lato",yt="#000000",bt={2:{fontSize:24,lineHeight:1.4,fontFamily:$t},3:{fontSize:18,lineHeight:1.4,fontFamily:$t},4:{fontSize:16,lineHeight:1.3,fontFamily:$t},5:{fontSize:14,lineHeight:1.3,fontFamily:$t}};function vt({tr:t}){const{$head:e}=t.selection;return t.setSelection(new gt.U3(t.doc.resolve(e.start()),t.doc.resolve(e.end()))),!0}function zt(t,e,n){const i=n.getAttributes("textStyle").color,o=n.getAttributes("paragraph").textAlign||n.getAttributes("heading").textAlign||"left";if(t=t.command(vt).unsetMark("textStyle").unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),"paragraph"===e)t=t.setParagraph().setTextSize(ft).setLineHeight(ht).setFontFamily(_t);else{const n=parseInt(e.substring(1)),i=bt[n];t=t.setHeading({level:n}).setTextSize(i.fontSize).setLineHeight(i.lineHeight).setFontFamily(i.fontFamily)}return t=t.setColor(i),"left"!==o&&(t=t.setTextAlign(o)),t}function xt(t,e){const n=t.chain(),i=t.isActive("heading"),o=i?t.getAttributes("heading").level:null,r=e.startsWith("h")?parseInt(e.substring(1)):null;if(i&&o===r)return zt(n,"paragraph",t).run();const{$head:a}=t.state.selection,s=0===a.parent.content.size;let l=zt(n,e,t);if(s)if("paragraph"===e)l=l.setTextSize(ft).setFontFamily(_t).setColor(yt);else{const t=parseInt(e.substring(1)),n=bt[t];l=l.setTextSize(n.fontSize).setFontFamily(n.fontFamily).setColor(yt)}return l.run()}const wt=mt.YY.create({name:"headingShortcuts",addKeyboardShortcuts(){return{"Mod-Alt-2":()=>xt(this.editor,"h2"),"Mod-Alt-3":()=>xt(this.editor,"h3"),"Mod-Alt-4":()=>xt(this.editor,"h4"),"Mod-Alt-5":()=>xt(this.editor,"h5")}}});var kt=n(4717),At=n(3004),St=n(4758),Ct=n(2359),It=n(31),Mt=n(2740),Et=n(5873),Lt=n(9395);const Tt=/([a-z%]+)\s*$/i,jt=mt.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle","highlight"],attributes:{textSize:{default:ft,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const i=Tt.exec(e);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e,editor:n})=>{const i=n.isActive("highlight"),o=e().setMark("textStyle",{textSize:t});return i&&o.setMark("highlight",{textSize:t}),o.run()}})}),Pt=mt.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph","heading"],attributes:{lineHeight:{default:ht,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>{const n=e.updateAttributes("paragraph",{lineHeight:t}),i=e.updateAttributes("heading",{lineHeight:t});return n&&i}})}),Ft=mt.YY.create({name:"fontFamily",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{fontFamily:{default:_t,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}],addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run()})});kt.A.configure({types:["textStyle"]});const Ht=mt.YY.create({name:"init",addCommands:()=>({initFontFamily:()=>({chain:t})=>t().setFontFamily(_t).run(),initLineHeight:()=>({chain:t})=>t().setLineHeight(ht).run(),initTextSize:()=>({chain:t})=>t().setTextSize(ft).run(),initColor:()=>({chain:t})=>t().setColor(yt).run()})}),Yt="latestDefocusedSelectionDecoration",Bt=mt.YY.create({name:Yt,addProseMirrorPlugins:()=>[new gt.k_({key:new gt.hs(Yt),state:{init:t=>Et.zF.empty,apply(t,e){const{doc:n,selection:i}=t,o=t.getMeta(Yt),r=i&&i.from!==i.to;if(!r||"focus"===o?.action)return Et.zF.empty;if(r&&"blur"===o?.action){const t=Et.NZ.inline(i.from,i.to,{class:"latest-defocused-selection",nodeName:"mark"});return Et.zF.create(n,[t])}return e}},props:{decorations(t){return this.getState(t)},handleDOMEvents:{blur(t){const{tr:e}=t.state,n=e.setMeta(Yt,{from:e.selection.from,to:e.selection.to,action:"blur"});t.dispatch(n)},focus(t){const{tr:e}=t.state,n=e.setMeta(Yt,{from:e.selection.from,to:e.selection.to,action:"focus"});t.dispatch(n)}}}})]}),Rt=mt.YY.create({name:"clearMarksOnEnter",addKeyboardShortcuts(){return{Enter:()=>{const{state:t}=this.editor,{selection:e}=t,{$from:n,empty:i}=e;if(!i)return!1;if("heading"!==n.parent.type.name)return!1;const o=n.marks().filter((t=>"textStyle"===t.type.name));let r=null;o.length>0&&(r=o[0].attrs.color||null);let a=this.editor.chain().splitBlock().setNode("paragraph");return a=a.unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),a=r?a.setMark("textStyle",{color:r}):a.unsetMark("textStyle"),a.run()}}}}),qt=[Lt.A.configure({history:!1,heading:{levels:[2,3,4,5]}}),Ct.A.configure({types:["heading","paragraph"]}),At.Ay.configure({multicolor:!0}),wt,Rt,It.A,kt.A,jt,Pt,Mt.A,St.A,Ft,Ht,Bt],Nt=((0,mt._w)(qt),"hover"),Wt="changeState",Kt="changeVisibility";var Ot=n(1120);function Xt(t,e,n,i){return e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}}const Vt="ItemRenderingContext",{min:Ut}=Math;function Dt(t,e,n){return t+n<=e?t:t*e/(t+n)}function Qt(t,e,n,i,o){return Ut(Dt(n,e,t),Dt(n,i,o))}var Zt=n(4015),Jt=n.n(Zt);function Gt(t,e,n=Object.keys(t.states.default)){const i=t.states.default,o=structuredClone(t.states[e]);return n.reduce(((t,e)=>(Jt()(t[e])&&(t[e]=structuredClone(i[e])),t)),o)}const te=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}},{Map:ee}=i.globals;function ne(t,e,n){const i=t.slice();return i[2]=e[n],i}function ie(t,e){let n,o;return{key:t,first:null,c(){n=(0,i.element)("link"),(0,i.attr)(n,"rel","prefetch"),(0,i.attr)(n,"href",o=v(e[2])),(0,i.attr)(n,"as","image"),this.first=n},m(t,e){(0,i.insert)(t,n,e)},p(t,r){e=t,1&r&&o!==(o=v(e[2]))&&(0,i.attr)(n,"href",o)},d(t){t&&(0,i.detach)(n)}}}function oe(t){let e,n=[],o=new ee,r=(0,i.ensure_array_like)(t[0].values());const a=t=>t[2].id;for(let e=0;e<r.length;e+=1){let i=ne(t,r,e),s=a(i);o.set(s,n[e]=ie(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,i.empty)()},m(t,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,i.append)(document.head,e)},p(t,[s]){1&s&&(r=(0,i.ensure_array_like)(t[0].values()),n=(0,i.update_keyed_each)(n,s,a,1,t,r,o,e.parentNode,i.destroy_block,ie,e,ne))},i:i.noop,o:i.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,i.detach)(e)}}}function re(t,e,n){let i,{items:o}=e;return t.$$set=t=>{"items"in t&&n(1,o=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=new Map(o.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[i,o]}class ae extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,re,oe,i.safe_not_equal,{items:1})}}const se=ae;function le(t){(0,i.append_styles)(t,"svelte-181z567",".mondrian__mon-clip-path-33A7NL{position:absolute;inset:0;clip-path:content-box}.mondrian__mon-clip-path-33A7NL.mondrian__--ellipse-2-dDi{clip-path:ellipse(50% 50%)}")}function de(t){let e,n;const o=t[3].default,r=(0,i.create_slot)(o,t,t[2],null);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__mon-clip-path-33A7NL"),(0,i.toggle_class)(e,"mondrian__--ellipse-2-dDi","ellipse"===t[0]),(0,i.set_style)(e,"border-radius",t[1])},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||4&a)&&(0,i.update_slot_base)(r,o,t,t[2],n?(0,i.get_slot_changes)(o,t[2],a,null):(0,i.get_all_dirty_from_scope)(t[2]),null),(!n||1&a)&&(0,i.toggle_class)(e,"mondrian__--ellipse-2-dDi","ellipse"===t[0]),2&a&&(0,i.set_style)(e,"border-radius",t[1])},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function ce(t,e,n){let i,{$$slots:o={},$$scope:r}=e,{clipPath:a}=e;return t.$$set=t=>{"clipPath"in t&&n(0,a=t.clipPath),"$$scope"in t&&n(2,r=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i="ellipse"!==a&&a.applied?[a.topLeft,a.topRight,a.bottomRight,a.bottomLeft].map(te).join(" "):void 0)},[a,i,r,o]}class ue extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ce,de,i.safe_not_equal,{clipPath:0},le)}}const pe=ue;function me(t){(0,i.append_styles)(t,"svelte-y172nk",".mondrian__fill-28Ulya{position:absolute;inset:0;transition:inherit;border-radius:inherit}.mondrian__fill-image-3g2lhQ{overflow:hidden}.mondrian__fill-image-3g2lhQ .mondrian__image-lJ-0q6{background-size:cover;background-position:center}")}function ge(t){let e,n,o=100*t[1].crop.width+"%",r=100*t[1].crop.height+"%",a=`translate(${(50*(1-t[1].crop.width)+100*t[1].crop.left)/t[1].crop.width}%, ${(50*(1-t[1].crop.height)+100*t[1].crop.top)/t[1].crop.height}%`;return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","mondrian__image-lJ-0q6"),(0,i.attr)(n,"aria-label",t[0]),(0,i.set_style)(n,"background-image",t[2]),(0,i.set_style)(n,"opacity",t[1].opacity),(0,i.set_style)(n,"width",o),(0,i.set_style)(n,"height",r),(0,i.set_style)(n,"transform",a),(0,i.attr)(e,"class","mondrian__fill-28Ulya mondrian__fill-image-3g2lhQ")},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,e){1&e&&(0,i.attr)(n,"aria-label",t[0]),4&e&&(0,i.set_style)(n,"background-image",t[2]),2&e&&(0,i.set_style)(n,"opacity",t[1].opacity),2&e&&o!==(o=100*t[1].crop.width+"%")&&(0,i.set_style)(n,"width",o),2&e&&r!==(r=100*t[1].crop.height+"%")&&(0,i.set_style)(n,"height",r),2&e&&a!==(a=`translate(${(50*(1-t[1].crop.width)+100*t[1].crop.left)/t[1].crop.width}%, ${(50*(1-t[1].crop.height)+100*t[1].crop.top)/t[1].crop.height}%`)&&(0,i.set_style)(n,"transform",a)},d(t){t&&(0,i.detach)(e)}}}function fe(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"class","mondrian__fill-28Ulya fill-color"),(0,i.set_style)(e,"background-color",t[1].color),(0,i.set_style)(e,"opacity",t[1].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,n){2&n&&(0,i.set_style)(e,"background-color",t[1].color),2&n&&(0,i.set_style)(e,"opacity",t[1].opacity)},d(t){t&&(0,i.detach)(e)}}}function he(t){let e;function n(t,e){return"color"===t[1].type?fe:"image"===t[1].type?ge:void 0}let o=n(t),r=o&&o(t);return{c(){r&&r.c(),e=(0,i.empty)()},m(t,n){r&&r.m(t,n),(0,i.insert)(t,e,n)},p(t,[i]){o===(o=n(t))&&r?r.p(t,i):(r&&r.d(1),r=o&&o(t),r&&(r.c(),r.m(e.parentNode,e)))},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function _e(t,e,n){let i,{altText:o}=e,{assets:r}=e,{fill:a}=e;return t.$$set=t=>{"altText"in t&&n(0,o=t.altText),"assets"in t&&n(3,r=t.assets),"fill"in t&&n(1,a=t.fill)},t.$$.update=()=>{10&t.$$.dirty&&n(2,i="image"===a.type&&r?.[a.assetId]?`url("${v(r?.[a.assetId])}")`:null)},[o,a,i,r]}class $e extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,_e,he,i.safe_not_equal,{altText:0,assets:3,fill:1},me)}}const ye=$e;function be(t){(0,i.append_styles)(t,"svelte-1h2ri7t","svg.mondrian__border-2E5H6C{position:absolute;pointer-events:none}svg.mondrian__border-2E5H6C path{fill:none;stroke-linecap:round}")}function ve(t){let e,n,o,r,a;return{c(){e=(0,i.svg_element)("svg"),n=(0,i.svg_element)("path"),(0,i.attr)(n,"stroke-width",t[3]),(0,i.attr)(n,"stroke",o=t[2].color),(0,i.attr)(n,"stroke-dasharray",t[4]),(0,i.attr)(n,"d",t[5]),(0,i.attr)(e,"class","mondrian__border-2E5H6C"),(0,i.attr)(e,"viewBox",t[7]),(0,i.attr)(e,"width",r=t[0].value+t[3]),(0,i.attr)(e,"height",a=t[1].value+t[3]),(0,i.set_style)(e,"inset",t[6]),(0,i.set_style)(e,"opacity",t[2].opacity)},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,s){8&s&&(0,i.attr)(n,"stroke-width",t[3]),4&s&&o!==(o=t[2].color)&&(0,i.attr)(n,"stroke",o),16&s&&(0,i.attr)(n,"stroke-dasharray",t[4]),32&s&&(0,i.attr)(n,"d",t[5]),128&s&&(0,i.attr)(e,"viewBox",t[7]),9&s&&r!==(r=t[0].value+t[3])&&(0,i.attr)(e,"width",r),10&s&&a!==(a=t[1].value+t[3])&&(0,i.attr)(e,"height",a),64&s&&(0,i.set_style)(e,"inset",t[6]),4&s&&(0,i.set_style)(e,"opacity",t[2].opacity)},d(t){t&&(0,i.detach)(e)}}}function ze(t){let e,n=t[2].applied&&ve(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){t[2].applied?n?n.p(t,i):(n=ve(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}function xe(t,e,n){let i,o,r,a,s,l,d,c,{width:u}=e,{height:p}=e,{border:m}=e,{clipPath:g}=e;return t.$$set=t=>{"width"in t&&n(0,u=t.width),"height"in t&&n(1,p=t.height),"border"in t&&n(2,m=t.border),"clipPath"in t&&n(8,g=t.clipPath)},t.$$.update=()=>{1&t.$$.dirty&&n(10,i=u.value),2&t.$$.dirty&&n(9,o=p.value),4&t.$$.dirty&&n(3,r=m.width.value),8&t.$$.dirty&&n(11,a=r/2),1544&t.$$.dirty&&n(7,s=`0 0 ${i+r} ${o+r}`),2048&t.$$.dirty&&n(6,l=`${-a}px auto auto ${-a}px`),3840&t.$$.dirty&&n(5,d=`M ${a} ${a} `+function(t,e,n){let i="m 0 0";if("ellipse"===n)i+=` m ${t} ${e/2}`,i+=` a ${t/2} ${e/2} 0 0 1 ${-t},0`,i+=` a ${t/2} ${e/2} 0 0 1 ${t},0`;else if(n.applied){const o=n.topRight.value,r=n.bottomRight.value,a=n.bottomLeft.value,s=n.topLeft.value,l=Qt(s,t,o,e,r),d=Qt(o,e,r,t,a),c=Qt(r,t,a,e,s),u=Qt(a,e,s,t,o);i+=` m ${u} 0`,i+=` l ${t-u-l} 0 a ${l} ${l} 0 0 1 ${l},${l}`,i+=` l 0 ${e-l-d} a ${d} ${d} 0 0 1 ${-d},${d}`,i+=` l ${d+c-t} 0 a ${c} ${c} 0 0 1 ${-c},${-c}`,i+=` l 0 ${c+u-e} a ${u} ${u} 0 0 1 ${u},${-u}`}else i+=` l ${t} 0`,i+=` l 0 ${e}`,i+=` l ${-t} 0`,i+=" l 0 "+-e;return i+=" z",i}(i,o,g)),12&t.$$.dirty&&n(4,c="dashed"===m.style?`${2*r} ${2*r}`:"dotted"===m.style?"0 "+2*r:void 0)},[u,p,m,r,c,d,l,s,g,o,i,a]}class we extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,xe,ze,i.safe_not_equal,{width:0,height:1,border:2,clipPath:8},be)}}const ke=we;function Ae(t){(0,i.append_styles)(t,"svelte-mb8d5b",".mondrian__mon-item-image-v7gcDy{position:absolute;inset:0}")}function Se(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"aria-label",t[0]),(0,i.attr)(e,"class","mondrian__mon-item-image-v7gcDy"),(0,i.attr)(e,"role","img")},m(t,n){(0,i.insert)(t,e,n)},p(t,[n]){1&n&&(0,i.attr)(e,"aria-label",t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function Ce(t,e,n){let i,{item:o}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(1,o=t.item),"stateId"in t&&n(2,r=t.stateId)},t.$$.update=()=>{6&t.$$.dirty&&n(0,i=o.states[r]?.altText??"")},[i,o,r]}class Ie extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ce,Se,i.safe_not_equal,{item:1,stateId:2},Ae)}}const Me=Ie;function Ee(t){(0,i.append_styles)(t,"svelte-1nhg2c9",".mondrian__mon-item-mouse-trigger-2f2dTf{position:absolute;inset:0}.mondrian__mon-item-mouse-trigger-2f2dTf.mondrian__--visible-3hMjQT{pointer-events:initial}.mondrian__mon-item-mouse-trigger-2f2dTf.mondrian__--clickable-2-WSjW{cursor:pointer}")}function Le(t){let e,n;return e=new ye({props:{altText:t[4],assets:t[0].assets,fill:t[6]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};16&n&&(i.altText=t[4]),1&n&&(i.assets=t[0].assets),64&n&&(i.fill=t[6]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Te(t){let e,n;return e=new ye({props:{assets:t[0].assets,fill:t[5]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n&&(i.assets=t[0].assets),32&n&&(i.fill=t[5]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function je(t){let e,n,o,r,a,s,l,d=null!=t[6]&&Le(t),c=null!=t[5]&&Te(t);return{c(){d&&d.c(),e=(0,i.space)(),c&&c.c(),n=(0,i.space)(),o=(0,i.element)("div"),(0,i.attr)(o,"class","mondrian__mon-item-mouse-trigger-2f2dTf"),(0,i.toggle_class)(o,"mondrian__--visible-3hMjQT",t[1]),(0,i.toggle_class)(o,"mondrian__--clickable-2-WSjW",t[3])},m(u,p){d&&d.m(u,p),(0,i.insert)(u,e,p),c&&c.m(u,p),(0,i.insert)(u,n,p),(0,i.insert)(u,o,p),a=!0,s||(l=(0,i.action_destroyer)(r=t[2].call(null,o,t[0])),s=!0)},p(t,s){null!=t[6]?d?(d.p(t,s),64&s&&(0,i.transition_in)(d,1)):(d=Le(t),d.c(),(0,i.transition_in)(d,1),d.m(e.parentNode,e)):d&&((0,i.group_outros)(),(0,i.transition_out)(d,1,1,(()=>{d=null})),(0,i.check_outros)()),null!=t[5]?c?(c.p(t,s),32&s&&(0,i.transition_in)(c,1)):(c=Te(t),c.c(),(0,i.transition_in)(c,1),c.m(n.parentNode,n)):c&&((0,i.group_outros)(),(0,i.transition_out)(c,1,1,(()=>{c=null})),(0,i.check_outros)()),r&&(0,i.is_function)(r.update)&&1&s&&r.update.call(null,t[0]),(!a||2&s)&&(0,i.toggle_class)(o,"mondrian__--visible-3hMjQT",t[1]),(!a||8&s)&&(0,i.toggle_class)(o,"mondrian__--clickable-2-WSjW",t[3])},i(t){a||((0,i.transition_in)(d),(0,i.transition_in)(c),a=!0)},o(t){(0,i.transition_out)(d),(0,i.transition_out)(c),a=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(n),(0,i.detach)(o)),d&&d.d(t),c&&c.d(t),s=!1,l()}}}function Pe(t){let e,n;return e=new pe({props:{clipPath:t[7],$$slots:{default:[je]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};128&n&&(i.clipPath=t[7]),2171&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Fe(t){return("clipPath"in t?t.clipPath:null)??t.borderRadius}function He(t,e,n){let i,o,r,a,s,l,{item:d}=e,{stateId:c}=e,{visible:u}=e,{bindTriggers:p}=e,{clickable:m=!1}=e;return t.$$set=t=>{"item"in t&&n(0,d=t.item),"stateId"in t&&n(8,c=t.stateId),"visible"in t&&n(1,u=t.visible),"bindTriggers"in t&&n(2,p=t.bindTriggers),"clickable"in t&&n(3,m=t.clickable)},t.$$.update=()=>{1&t.$$.dirty&&n(10,i=d.states.default),257&t.$$.dirty&&n(9,o=d.states[c]),1536&t.$$.dirty&&n(7,r=Fe(o)??Fe(i)),1536&t.$$.dirty&&n(6,a=o.fill??i.fill),1536&t.$$.dirty&&n(5,s=o.overlay??i.overlay),512&t.$$.dirty&&n(4,l="altText"in o?o.altText??void 0:void 0)},[d,u,p,m,l,s,a,r,c,o,i]}class Ye extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,He,Pe,i.safe_not_equal,{item:0,stateId:8,visible:1,bindTriggers:2,clickable:3},Ee)}}const Be=Ye;function Re(t){(0,i.append_styles)(t,"svelte-11xtlh8",".mondrian__mon-item-transform-35_L4P{position:absolute;pointer-events:none}.mondrian__mon-item-transform-35_L4P.mondrian__--smooth-transitions-1R_oNu{transition:all 100ms ease}")}function qe(t){let e,n,o,r=`${t[8]}px`,a=`${t[7]}px`,s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`;const l=t[15].default,d=(0,i.create_slot)(l,t,t[14],null);return{c(){e=(0,i.element)("div"),d&&d.c(),(0,i.attr)(e,"class","mondrian__mon-item-transform-35_L4P"),(0,i.attr)(e,"data-item-id",n=t[0].id.slice(0,5)),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-1R_oNu",t[9]),(0,i.set_style)(e,"width",r),(0,i.set_style)(e,"height",a),(0,i.set_style)(e,"transform",s),(0,i.set_style)(e,"z-index",t[1])},m(t,n){(0,i.insert)(t,e,n),d&&d.m(e,null),o=!0},p(t,[c]){d&&d.p&&(!o||16384&c)&&(0,i.update_slot_base)(d,l,t,t[14],o?(0,i.get_slot_changes)(l,t[14],c,null):(0,i.get_all_dirty_from_scope)(t[14]),null),(!o||1&c&&n!==(n=t[0].id.slice(0,5)))&&(0,i.attr)(e,"data-item-id",n),256&c&&r!==(r=`${t[8]}px`)&&(0,i.set_style)(e,"width",r),128&c&&a!==(a=`${t[7]}px`)&&(0,i.set_style)(e,"height",a),124&c&&s!==(s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`)&&(0,i.set_style)(e,"transform",s),2&c&&(0,i.set_style)(e,"z-index",t[1])},i(t){o||((0,i.transition_in)(d,t),o=!0)},o(t){(0,i.transition_out)(d,t),o=!1},d(t){t&&(0,i.detach)(e),d&&d.d(t)}}}function Ne(t,e,n){let i,o,r,a,s,l,d,c,{$$slots:u={},$$scope:p}=e,{item:m}=e,{stateId:g}=e,{zIndex:f}=e;const h=!(m.parentId===m.blockumentId)&&b();let _,$;return t.$$set=t=>{"item"in t&&n(0,m=t.item),"stateId"in t&&n(10,g=t.stateId),"zIndex"in t&&n(1,f=t.zIndex),"$$scope"in t&&n(14,p=t.$$scope)},t.$$.update=()=>{if(1&t.$$.dirty&&n(12,i=m.states.default),1025&t.$$.dirty&&n(13,o=m.states[g]),12288&t.$$.dirty&&n(8,r=(o.width??i.width).value),12288&t.$$.dirty&&n(7,a=(o.height??i.height).value),12288&t.$$.dirty&&n(6,s=i.x.value+(o.xOffset??0)),12288&t.$$.dirty&&n(5,l=i.y.value+(o.yOffset??0)),14340&t.$$.dirty){const t=o.rotation??i.rotation;if(null==_)n(2,$=t);else if(t!==_){let e=t-_;e>180?e-=360:e<=-180&&(e+=360),n(2,$+=e)}n(11,_=t)}12288&t.$$.dirty&&n(4,d=o.flipX??i.flipX),12288&t.$$.dirty&&n(3,c=o.flipY??i.flipY)},[m,f,$,c,d,l,s,a,r,h,g,_,i,o,p,u]}class We extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ne,qe,i.safe_not_equal,{item:0,stateId:10,zIndex:1},Re)}}const Ke=We;var Oe=n(3948);function Xe(t){(0,i.append_styles)(t,"svelte-1xyxqy6",".mondrian__text-item-clip-1Mu5To{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.mondrian__text-item-clip-boundary-2wobao{width:100%;height:100%;position:relative}.mondrian__text-item-clip-boundary-2wobao.mondrian__--ellipse-2khF1W{width:calc(100% / sqrt(2));height:calc(100% / sqrt(2))}.mondrian__text-item-padding-boundary-1chpMl{display:flex;flex-direction:column;position:absolute;inset:0}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl{inset:16px}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl.mondrian__--small-3z35LY{left:8px;right:8px}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl.mondrian__--large-3QCvMY{left:32px;right:32px}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-clip-1Mu5To .tiptap{height:auto}")}function Ve(t){let e,n,o,r,a;const s=t[6].default,l=(0,i.create_slot)(s,t,t[5],null);return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.element)("div"),l&&l.c(),(0,i.attr)(o,"class","mondrian__text-item-padding-boundary-1chpMl"),(0,i.attr)(o,"data-vertical-align",r=t[1].textVerticalAlign),(0,i.toggle_class)(o,"mondrian__--small-3z35LY",t[3]<=100),(0,i.toggle_class)(o,"mondrian__--large-3QCvMY",t[3]>300),(0,i.toggle_class)(o,"mondrian__--padded-1zvee6","shape"===t[0].type),(0,i.attr)(n,"class","mondrian__text-item-clip-boundary-2wobao"),(0,i.toggle_class)(n,"mondrian__--ellipse-2khF1W",t[2]),(0,i.attr)(e,"class","mondrian__text-item-clip-1Mu5To")},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(n,o),l&&l.m(o,null),a=!0},p(t,[e]){l&&l.p&&(!a||32&e)&&(0,i.update_slot_base)(l,s,t,t[5],a?(0,i.get_slot_changes)(s,t[5],e,null):(0,i.get_all_dirty_from_scope)(t[5]),null),(!a||2&e&&r!==(r=t[1].textVerticalAlign))&&(0,i.attr)(o,"data-vertical-align",r),(!a||8&e)&&(0,i.toggle_class)(o,"mondrian__--small-3z35LY",t[3]<=100),(!a||8&e)&&(0,i.toggle_class)(o,"mondrian__--large-3QCvMY",t[3]>300),(!a||1&e)&&(0,i.toggle_class)(o,"mondrian__--padded-1zvee6","shape"===t[0].type),(!a||4&e)&&(0,i.toggle_class)(n,"mondrian__--ellipse-2khF1W",t[2])},i(t){a||((0,i.transition_in)(l,t),a=!0)},o(t){(0,i.transition_out)(l,t),a=!1},d(t){t&&(0,i.detach)(e),l&&l.d(t)}}}function Ue(t,e,n){let i,o,r,{$$slots:a={},$$scope:s}=e,{item:l}=e,{stateId:d}=e;return t.$$set=t=>{"item"in t&&n(0,l=t.item),"stateId"in t&&n(4,d=t.stateId),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{17&t.$$.dirty&&n(1,i=Gt(l,d)),2&t.$$.dirty&&n(3,o=i.width.value),2&t.$$.dirty&&n(2,r="clipPath"in i&&"ellipse"===i.clipPath)},[l,i,r,o,d,s,a]}class De extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ue,Ve,i.safe_not_equal,{item:0,stateId:4},Xe)}}const Qe=De;function Ze(t){(0,i.append_styles)(t,"svelte-bkp4g6",".mondrian__content-yaszMT p:empty{min-height:1lh}.mondrian__content-yaszMT{word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;font-variant-ligatures:none;font-feature-settings:'liga' 0}")}function Je(t){let e,n,o=(0,Oe.Z)(t[2],qt)+"";return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap ProseMirror mondrian__content-yaszMT"),(0,i.attr)(e,"class",xn)},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),n.innerHTML=o},p(t,e){4&e&&o!==(o=(0,Oe.Z)(t[2],qt)+"")&&(n.innerHTML=o)},d(t){t&&(0,i.detach)(e)}}}function Ge(t){let e,n;return e=new Qe({props:{item:t[0],stateId:t[1],$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),12&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function tn(t,e,n){let i,{item:o}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item),"stateId"in t&&n(1,r=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(2,i=o.states[r].text?.json??o.states.default.text.json)},[o,r,i]}class en extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,tn,Ge,i.safe_not_equal,{item:0,stateId:1},Ze)}}const nn=en;function on(t){(0,i.append_styles)(t,"svelte-vg4dc1",".mondrian__mon-video-wrapper-37dPyY{position:absolute;inset:0}video.mondrian__mon-item-video-1Wv5W4{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function rn(t){let e,n;return{c(){e=(0,i.element)("video"),(0,i.attr)(e,"class","mondrian__mon-item-video-1Wv5W4"),(0,i.src_url_equal)(e.src,n=t[1])||(0,i.attr)(e,"src",n),e.controls=!0},m(t,n){(0,i.insert)(t,e,n)},p(t,o){2&o&&!(0,i.src_url_equal)(e.src,n=t[1])&&(0,i.attr)(e,"src",n)},d(t){t&&(0,i.detach)(e)}}}function an(t){let e,n=t[0],o=rn(t);return{c(){e=(0,i.element)("div"),o.c(),(0,i.attr)(e,"class","mondrian__mon-video-wrapper-37dPyY")},m(t,n){(0,i.insert)(t,e,n),o.m(e,null)},p(t,[r]){1&r&&(0,i.safe_not_equal)(n,n=t[0])?(o.d(1),o=rn(t),o.c(),o.m(e,null)):o.p(t,r)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),o.d(t)}}}function sn(t,e,n){let i,{item:o}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(2,o=t.item),"stateId"in t&&n(0,r=t.stateId)},t.$$.update=()=>{if(5&t.$$.dirty){const t=(o.states[r].videoSources??o.states.default.videoSources).default,e=t&&o.assets?.[t];n(1,i=e?v(e):void 0)}},[r,i,o]}class ln extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,sn,an,i.safe_not_equal,{item:2,stateId:0},on)}}const dn=ln;function cn(t){(0,i.append_styles)(t,"svelte-1xuhpbp",".mondrian__mon-item-2qYEoK{position:absolute;inset:0}.mondrian__mon-item-2qYEoK.mondrian__--smooth-transitions-fWIe80{transition:opacity 100ms ease}.mondrian__mon-item-2qYEoK.mondrian__--hidden-s36Wik{opacity:0}.mondrian__mon-item-children-3w5s3j{isolation:isolate}")}function un(t,e,n){const i=t.slice();return i[18]=e[n],i[0]=n,i}function pn(t){let e,n,o=[],r=new Map,a=(0,i.ensure_array_like)(t[8]);const s=t=>t[18].id;for(let e=0;e<a.length;e+=1){let n=un(t,a,e),i=s(n);r.set(i,o[e]=mn(i,n))}return{c(){e=(0,i.element)("div");for(let t=0;t<o.length;t+=1)o[t].c();(0,i.attr)(e,"class","mondrian__mon-item-children-3w5s3j")},m(t,r){(0,i.insert)(t,e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,n){256&n&&(a=(0,i.ensure_array_like)(t[8]),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,t,a,r,e,i.outro_and_destroy_block,mn,null,un),(0,i.check_outros)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,i.transition_in)(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,i.transition_out)(o[t]);n=!1},d(t){t&&(0,i.detach)(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function mn(t,e){let n,o,r;return o=new vn({props:{itemId:e[18].id,index:e[0]}}),{key:t,first:null,c(){n=(0,i.empty)(),(0,i.create_component)(o.$$.fragment),this.first=n},m(t,e){(0,i.insert)(t,n,e),(0,i.mount_component)(o,t,e),r=!0},p(t,n){e=t;const i={};256&n&&(i.itemId=e[18].id),256&n&&(i.index=e[0]),o.$set(i)},i(t){r||((0,i.transition_in)(o.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(o.$$.fragment,t),r=!1},d(t){t&&(0,i.detach)(n),(0,i.destroy_component)(o,t)}}}function gn(t){let e,n;return e=new nn({props:{item:t[7],stateId:t[3]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};128&n&&(i.item=t[7]),8&n&&(i.stateId=t[3]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function fn(t){let e,n;return e=new dn({props:{item:t[6],stateId:t[3]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};64&n&&(i.item=t[6]),8&n&&(i.stateId=t[3]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function hn(t){let e,n;return e=new Me({props:{item:t[5],stateId:t[3]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};32&n&&(i.item=t[5]),8&n&&(i.stateId=t[3]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function _n(t){let e,n,o,r,a,s,l,d,c,u,p;n=new Be({props:{item:t[2],stateId:t[3],visible:t[10],clickable:t[4],bindTriggers:t[11]}}),r=new ke({props:{width:t[1].width,height:t[1].height,border:t[1].border,clipPath:t[9]}});let m=t[8]&&pn(t),g=t[7]&&gn(t),f=t[6]&&fn(t),h=t[5]&&hn(t);return{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),o=(0,i.space)(),(0,i.create_component)(r.$$.fragment),a=(0,i.space)(),m&&m.c(),s=(0,i.space)(),g&&g.c(),l=(0,i.space)(),f&&f.c(),d=(0,i.space)(),h&&h.c(),(0,i.attr)(e,"class","mondrian__mon-item-2qYEoK"),e.inert=c=!t[10],(0,i.attr)(e,"aria-hidden",u=!t[10]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-fWIe80",t[15]),(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[10])},m(t,c){(0,i.insert)(t,e,c),(0,i.mount_component)(n,e,null),(0,i.append)(e,o),(0,i.mount_component)(r,e,null),(0,i.append)(e,a),m&&m.m(e,null),(0,i.append)(e,s),g&&g.m(e,null),(0,i.append)(e,l),f&&f.m(e,null),(0,i.append)(e,d),h&&h.m(e,null),p=!0},p(t,o){const a={};4&o&&(a.item=t[2]),8&o&&(a.stateId=t[3]),1024&o&&(a.visible=t[10]),16&o&&(a.clickable=t[4]),n.$set(a);const _={};2&o&&(_.width=t[1].width),2&o&&(_.height=t[1].height),2&o&&(_.border=t[1].border),512&o&&(_.clipPath=t[9]),r.$set(_),t[8]?m?(m.p(t,o),256&o&&(0,i.transition_in)(m,1)):(m=pn(t),m.c(),(0,i.transition_in)(m,1),m.m(e,s)):m&&((0,i.group_outros)(),(0,i.transition_out)(m,1,1,(()=>{m=null})),(0,i.check_outros)()),t[7]?g?(g.p(t,o),128&o&&(0,i.transition_in)(g,1)):(g=gn(t),g.c(),(0,i.transition_in)(g,1),g.m(e,l)):g&&((0,i.group_outros)(),(0,i.transition_out)(g,1,1,(()=>{g=null})),(0,i.check_outros)()),t[6]?f?(f.p(t,o),64&o&&(0,i.transition_in)(f,1)):(f=fn(t),f.c(),(0,i.transition_in)(f,1),f.m(e,d)):f&&((0,i.group_outros)(),(0,i.transition_out)(f,1,1,(()=>{f=null})),(0,i.check_outros)()),t[5]?h?(h.p(t,o),32&o&&(0,i.transition_in)(h,1)):(h=hn(t),h.c(),(0,i.transition_in)(h,1),h.m(e,null)):h&&((0,i.group_outros)(),(0,i.transition_out)(h,1,1,(()=>{h=null})),(0,i.check_outros)()),(!p||1024&o&&c!==(c=!t[10]))&&(e.inert=c),(!p||1024&o&&u!==(u=!t[10]))&&(0,i.attr)(e,"aria-hidden",u),(!p||1024&o)&&(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[10])},i(t){p||((0,i.transition_in)(n.$$.fragment,t),(0,i.transition_in)(r.$$.fragment,t),(0,i.transition_in)(m),(0,i.transition_in)(g),(0,i.transition_in)(f),(0,i.transition_in)(h),p=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),(0,i.transition_out)(r.$$.fragment,t),(0,i.transition_out)(m),(0,i.transition_out)(g),(0,i.transition_out)(f),(0,i.transition_out)(h),p=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),(0,i.destroy_component)(r),m&&m.d(),g&&g.d(),f&&f.d(),h&&h.d()}}}function $n(t){let e,n;return e=new Ke({props:{item:t[2],stateId:t[3],zIndex:null!=t[0]?-t[0]:void 0,$$slots:{default:[_n]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};4&n&&(i.item=t[2]),8&n&&(i.stateId=t[3]),1&n&&(i.zIndex=null!=t[0]?-t[0]:void 0),1050622&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function yn({event:t}){return"click"===t}function bn(t,e,n){let o,r,a,s,l,d,c,u,p,m,{itemId:g}=e,{index:f}=e;const h=function(){const t=(0,$.getContext)(Vt);if(!t)throw new Error("This component must be provided with an ItemRenderingContext");return t}(),{bindTriggers:_}=h,y=h.getItem(g);(0,i.component_subscribe)(t,y,(t=>n(2,u=t)));const v=h.getState(g);(0,i.component_subscribe)(t,v,(t=>n(3,p=t)));const z=h.getVisible(g);(0,i.component_subscribe)(t,z,(t=>n(10,m=t)));const x=b();return t.$$set=t=>{"itemId"in t&&n(16,g=t.itemId),"index"in t&&n(0,f=t.index)},t.$$.update=()=>{12&t.$$.dirty&&n(1,o=Gt(u,p)),2&t.$$.dirty&&n(9,r=("clipPath"in o?o.clipPath:null)??o.borderRadius),6&t.$$.dirty&&n(8,a="group"===u.type?o.children:void 0),4&t.$$.dirty&&n(7,s="shape"===u.type||"text"===u.type?u:void 0),4&t.$$.dirty&&n(6,l="video"===u.type?u:void 0),4&t.$$.dirty&&n(5,d="image"===u.type?u:void 0),4&t.$$.dirty&&n(4,c=u.triggers.some(yn))},[f,o,u,p,c,d,l,s,a,r,m,_,y,v,z,x,g]}class vn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,bn,$n,i.safe_not_equal,{itemId:16,index:0},cn)}}const zn=vn;i.SvelteComponent;const xn=h.b,wn=['input:not([type="checkbox"], [type="radio"])',"textarea","[contenteditable]"].join(", ");var kn=n(9205);const An=n.n(kn)()("mondrian").extend("keyboard"),Sn={activeModifierKeys:new Set,get alt(){return Sn.activeModifierKeys.has("Alt")},get meta(){return Sn.activeModifierKeys.has("Meta")||Sn.activeModifierKeys.has("Control")},get shift(){return Sn.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[Sn.meta&&"Meta",Sn.alt&&"Alt",Sn.shift&&"Shift",Sn.key].filter(Boolean).join("+")}};function Cn({metaKey:t,altKey:e,shiftKey:n,ctrlKey:i},o){let r=!1;return t!==o.has("Meta")&&(r=!0,t?o.add("Meta"):o.delete("Meta")),e!==o.has("Alt")&&(r=!0,e?o.add("Alt"):o.delete("Alt")),n!==o.has("Shift")&&(r=!0,n?o.add("Shift"):o.delete("Shift")),i!==o.has("Control")&&(r=!0,i?o.add("Control"):o.delete("Control")),r}let In=!1;const Mn={...(0,Ot.readable)(Sn,(t=>{function e(e){const n="keydown"===e.type;Cn(e,Sn.activeModifierKeys),Sn.key=n?e.key:void 0,t(Sn)}function n(e){Cn(e,Sn.activeModifierKeys)&&t(Sn)}In||(In=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(Sn.activeModifierKeys.clear(),Sn.key=void 0,t(Sn))})),window.addEventListener("blur",(function(){Sn.activeModifierKeys.clear(),Sn.key=void 0,t(Sn)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(Sn.combo&&An(`comparing keycombos, store: ${Sn.combo}, comparison: ${t}`),Sn.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{!function(){const{activeElement:t}=document;return null!=t&&!!t.matches(wn)}()&&Mn.is(t)&&(An("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},En={down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1},Ln=((0,Ot.readable)(En,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function e(t){En.down=!0,En.downX=En.x=t.clientX,En.downY=En.y=t.clientY,En.target=t.target,o()}function n(){En.down=!1,En.downX=En.x=En.downY=En.y=-1,En.target=void 0,o()}function i(t){En.x=t.x,En.y=t.y,o()}function o(){t(En)}})),"mondrian-suspense");n(2466),i.SvelteComponent,n(2732);var Tn=n(5494);const jn={nw:"top-start",n:"top",ne:"top-end",sw:"bottom-start",s:"bottom",se:"bottom-end"},Pn=new ResizeObserver(Rn);let Fn,Hn,Yn;function Bn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===Fn)return;Hn&&(Hn.removeAttribute("data-active"),Pn.unobserve(Hn));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return Fn=void 0,void(Hn=void 0);n.setAttribute("data-active","true"),n.showPopover(),Fn=e,Hn=n,Yn=Hn.querySelector("[data-mon-tooltip-arrow]"),Rn(),Pn.observe(Hn)}async function Rn(){if(Fn&&Hn){const{x:t,y:e,middlewareData:n}=await(0,Tn.rD)(Fn,Hn,{middleware:[(0,Tn.cY)(5),(0,Tn.UU)(),(0,Tn.BN)(),(0,Tn.UE)({element:Yn})],strategy:"fixed",placement:jn[Hn.getAttribute("data-position")]});if(Hn.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;Yn.style.left=null!=t?`${t}px`:"",Yn.style.top=null!=e?`${e}px`:""}}}function qn(t){(0,i.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",Bn,{passive:!0}),document.documentElement.addEventListener("mouseleave",Bn,{passive:!0}),document.addEventListener("scroll",Rn,{passive:!0,capture:!0}),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const Nn=t=>({isLoading:1&t}),Wn=t=>({isLoading:t[0]});function Kn(t){let e,n;const o=t[2].default,r=(0,i.create_slot)(o,t,t[1],Wn);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||3&a)&&(0,i.update_slot_base)(r,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],a,Nn):(0,i.get_all_dirty_from_scope)(t[1]),Wn),(!n||1&a)&&(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function On(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=function(){const t=new Set;return(0,$.setContext)(Ln,t),t}();let a=!0;return(0,$.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[a,o,i]}class Xn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,On,Kn,i.safe_not_equal,{},qn)}}const Vn=Xn;i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const Un=(t,e)=>{function n(n,i={}){e.triggers.filter((t=>t.event===n)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...i})}))}const i=[...new Set(e.triggers.map((t=>t.event)))].map((e=>{if(e===Nt){let i=!1;return[Xt("mouseenter",t,(t=>{i||(i=!0,n(e,{hovered:i}))})),Xt("mouseleave",t,(t=>{i&&(i=!1,n(e,{hovered:i}))}))]}return Xt(e,t,(()=>{n(e)}))})).flat(2).filter(Boolean);return{destroy(){i.forEach((t=>{t()}))}}},Dn=(t,{items:e,currentStates:n,currentVisibles:i})=>{const o={[Wt](t,i,o){const r="self"===t.targetId?o:e[t.targetId];!1===i.hovered?n.get(r.id)?.revert(t.targetState):n.get(r.id)?.set(t.targetState)},[Kt](t,n,o){const r="self"===t.targetId?o:e[t.targetId];!1===n.hovered?i.get(r.id)?.set(!t.targetVisibility):i.get(r.id)?.set(t.targetVisibility)}},r=Xt("trigger",t,(t=>{const{itemId:n,triggerId:i,...r}=t.detail,a=e[n];if(!a)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const s=a.triggers.find((t=>t.id===i));if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const l=o[s.action];if(!l)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${s.action}' action could not be found.`);l(s,r,a)}));return{destroy(){r()}}},Qn=function(){const t=(0,Ot.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:i}=t,o=new Map;return{subscribe:e,set:n,update:i,addManifest:(t,e)=>{o.set(t,e),r()},removeManifest:t=>{o.delete(t),r()}};function r(){n(function(...t){const e={blockuments:{},items:{}};for(const n of t)Object.assign(e.blockuments,n.blockuments),Object.assign(e.items,n.items);return e}(...o.values()))}}();function Zn(t){(0,i.append_styles)(t,"svelte-16ijcvp",".mondrian__preview-L_XOPz{display:flex;justify-content:center;align-items:center;position:relative;width:100%}.mondrian__preview--empty-1j7eyn{background-color:var(--art-color-neutral-050)}.mondrian__item-wrapper-2afgtL{transform-origin:center;position:relative;overflow:hidden}.mondrian__width-gauge-1yjeUe{position:absolute;width:100%}")}function Jn(t){let e,n;return e=new se({props:{items:t[12]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p:i.noop,i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Gn(t){let e,n;return e=new Vn({props:{$$slots:{default:[ii]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};16777596&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function ti(t){let e,n,o,r;return{c(){e=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(t[0]),r=(0,i.text)(" could not be loaded")},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),(0,i.append)(e,o),(0,i.append)(e,r)},p(t,e){1&e&&(0,i.set_data)(o,t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function ei(t){let e,n,o,r,a,s,l=`${t[4]}px`,d=`${t[3]}px`;return n=new zn({props:{itemId:t[11]}}),{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),(0,i.attr)(e,"class","mondrian__item-wrapper-2afgtL"),(0,i.set_style)(e,"width",l),(0,i.set_style)(e,"height",d)},m(l,d){(0,i.insert)(l,e,d),(0,i.mount_component)(n,e,null),r=!0,a||(s=(0,i.action_destroyer)(o=Dn.call(null,e,{items:t[10],currentStates:t[13],currentVisibles:t[14]})),a=!0)},p(t,n){16&n&&l!==(l=`${t[4]}px`)&&(0,i.set_style)(e,"width",l),8&n&&d!==(d=`${t[3]}px`)&&(0,i.set_style)(e,"height",d)},i(t){r||((0,i.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),r=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),a=!1,s()}}}function ni(t){let e,n,o,r,a,s,l,d,c,u,p=`scale(${t[6]})`,m=`${t[4]}px`,g=`${t[3]}px`,f=(t[3]??500)*t[6]+"px";return s=new zn({props:{itemId:t[11]}}),{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.space)(),r=(0,i.element)("div"),a=(0,i.element)("div"),(0,i.create_component)(s.$$.fragment),(0,i.attr)(n,"class","mondrian__width-gauge-1yjeUe"),(0,i.attr)(a,"class","mondrian__item-wrapper-2afgtL"),(0,i.set_style)(a,"transform",p),(0,i.set_style)(a,"width",m),(0,i.set_style)(a,"height",g),(0,i.attr)(e,"class","mondrian__preview-L_XOPz"),(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),(0,i.set_style)(e,"height",f)},m(p,m){(0,i.insert)(p,e,m),(0,i.append)(e,n),t[20](n),(0,i.append)(e,o),(0,i.append)(e,r),(0,i.append)(r,a),(0,i.mount_component)(s,a,null),d=!0,c||(u=(0,i.action_destroyer)(l=Dn.call(null,a,{items:t[10],currentStates:t[13],currentVisibles:t[14]})),c=!0)},p(t,n){64&n&&p!==(p=`scale(${t[6]})`)&&(0,i.set_style)(a,"transform",p),16&n&&m!==(m=`${t[4]}px`)&&(0,i.set_style)(a,"width",m),8&n&&g!==(g=`${t[3]}px`)&&(0,i.set_style)(a,"height",g),(!d||256&n)&&(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),72&n&&f!==(f=(t[3]??500)*t[6]+"px")&&(0,i.set_style)(e,"height",f)},i(t){d||((0,i.transition_in)(s.$$.fragment,t),d=!0)},o(t){(0,i.transition_out)(s.$$.fragment,t),d=!1},d(n){n&&(0,i.detach)(e),t[20](null),(0,i.destroy_component)(s),c=!1,u()}}}function ii(t){let e,n,o,r;const a=[ni,ei],s=[];function l(t,e){return t[2]?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),o=(0,i.empty)()},m(t,n){s[e].m(t,n),(0,i.insert)(t,o,n),r=!0},p(t,r){let d=e;e=l(t),e===d?s[e].p(t,r):((0,i.group_outros)(),(0,i.transition_out)(s[d],1,1,(()=>{s[d]=null})),(0,i.check_outros)(),n=s[e],n?n.p(t,r):(n=s[e]=a[e](t),n.c()),(0,i.transition_in)(n,1),n.m(o.parentNode,o))},i(t){r||((0,i.transition_in)(n),r=!0)},o(t){(0,i.transition_out)(n),r=!1},d(t){t&&(0,i.detach)(o),s[e].d(t)}}}function oi(t){let e,n,o,r,a,s=t[1]&&Jn(t);const l=[ti,Gn],d=[];return n=function(t,e){return void 0===t[9]||void 0===t[11]?0:1}(t),o=d[n]=l[n](t),{c(){s&&s.c(),e=(0,i.space)(),o.c(),r=(0,i.empty)()},m(t,o){s&&s.m(t,o),(0,i.insert)(t,e,o),d[n].m(t,o),(0,i.insert)(t,r,o),a=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&(0,i.transition_in)(s,1)):(s=Jn(t),s.c(),(0,i.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,i.group_outros)(),(0,i.transition_out)(s,1,1,(()=>{s=null})),(0,i.check_outros)()),o.p(t,n)},i(t){a||((0,i.transition_in)(s),(0,i.transition_in)(o),a=!0)},o(t){(0,i.transition_out)(s),(0,i.transition_out)(o),a=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(r)),s&&s.d(t),d[n].d(t)}}}function ri(t,e,n){let o,r,a,s,l,d,c=i.noop;t.$$.on_destroy.push((()=>c()));let{manifest:u}=e,{blockumentId:p}=e,{prefetch:m=!0}=e,{autoSize:g=!0}=e;(0,$.setContext)(y,!0);const f=Symbol("LearnComponent"),h=u.blockuments?.[p],_=function(t,e){const n=structuredClone(t.items)??{};for(const t in n)n[t].blockumentId!==e&&delete n[t];return n}(u,p),b=h?.children[0]?.id,v=Object.values(_),z=function(){const t=new Map;return{...(0,Ot.writable)(t),add:(e,n)=>(t.has(e)||t.set(e,function(t){let e,n,i;t.subscribe((t=>{e=t}));const o=(0,Ot.writable)(e);o.subscribe((t=>{n=i??e,i=t}));const r={...o,revert(t){i===t&&r.set(n)},reset(){r.set(e)}};return r}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No state found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),x=function(){const t=new Map;return{...(0,Ot.writable)(t),add:(e,n)=>(t.set(e,function(t){let e;t.subscribe((t=>{e=t}));const n={...(0,Ot.writable)(e),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(e)}};return n}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No visibility found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}();var w;let k;w={getItem(t){const e=_[t];return(0,Ot.readable)(e)},getState:t=>z.get(t),getVisible:t=>x.get(t),bindTriggers:Un},(0,$.setContext)(Vt,w),Qn.addManifest(f,u),v.forEach((t=>{z.add(t.id,(0,Ot.readable)(t.initialState)),x.add(t.id,(0,Ot.readable)(t.initialVisible))})),(0,$.onMount)((()=>{x.resetAll();const t=new ResizeObserver((()=>{k&&I()}));return k&&t.observe(k),()=>{t.disconnect()}})),(0,$.onDestroy)((()=>{Qn.removeManifest(f)}));let A,S,C=1;function I(){if(!(b&&k&&d&&g&&s&&l))return;const t=k.offsetWidth;n(6,C=Math.min(1,t/s))}return t.$$set=t=>{"manifest"in t&&n(15,u=t.manifest),"blockumentId"in t&&n(0,p=t.blockumentId),"prefetch"in t&&n(1,m=t.prefetch),"autoSize"in t&&n(2,g=t.autoSize)},t.$$.update=()=>{524288&t.$$.dirty&&n(18,a=b&&_[b]&&d?Gt(_[b],d,["width","height"]):void 0),262144&t.$$.dirty&&n(4,s=a?.width.value),262144&t.$$.dirty&&n(3,l=a?.height.value),196632&t.$$.dirty&&(A===s&&S===l||(n(16,A=s),n(17,S=l),I()))},n(8,o=1===Object.keys(_).length),n(7,r=b?z.get(b):void 0),c(),c=(0,i.subscribe)(r,(t=>n(19,d=t))),[p,m,g,l,s,k,C,r,o,h,_,b,v,z,x,u,A,S,a,d,function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{k=t,n(5,k)}))}]}class ai extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ri,oi,i.safe_not_equal,{manifest:15,blockumentId:0,prefetch:1,autoSize:2},Zn)}}const si=ai;var li=n(2834),di=n.n(li);const ci=((t,e={width:"100%"},n="div")=>i=>{const o=(0,li.useRef)(null),r=(0,li.useRef)(null),[a,s]=(0,li.useState)(!1);return(0,li.useEffect)((()=>{const e=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;r.current=new t({target:o.current,props:i});const a=[];for(const t in i){const o=t.match(e),s=t.match(n);null!=o&&"function"==typeof i[t]&&r.current.$on(`${o[1][0].toLowerCase()}${o[1].slice(1)}`,i[t]),null!=s&&"function"==typeof i[t]&&a.push([`${s[1][0].toLowerCase()}${s[1].slice(1)}`,i[t]])}if(a.length>0){const t=r.current.$$.update;r.current.$$.update=function(){a.forEach((([t,e])=>{if(null!==r.current){const n=r.current.$$.props[t];e(r.current.$$.ctx[n])}})),t.apply(null)}}return()=>{null!==r.current&&r.current.$destroy()}}),[i]),(0,li.useEffect)((()=>{a?null!==r.current&&r.current.$set(i):s(!0)}),[i,a]),di().createElement(n,{ref:o,style:e})})(si),ui=t=>{const{manifest:e,...n}=t,i=(0,li.useMemo)((()=>{const t=ut.safeParse(e);if(t.success)return t.data}),[e]);return i?di().createElement(ci,{manifest:i,...n}):null}}}]);