"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[700],{9700:(e,t,n)=>{n.r(t),n.d(t,{createUpgradePath:()=>py,getConverter:()=>my,getTransformSteps:()=>cy,getVersionClaim:()=>by,upgrade:()=>sy});var i=n(2),a=n(3537),r=n(8683),o=n(1369),l=n(5076);const z=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),d=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),u=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:d.default({value:1,unit:"px"})}),s=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),p=s.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),c=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),m=s.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:c.default({width:1,height:1,left:0,top:0})}),b=s.extend({type:l.z.literal("none")}),g=l.z.discriminatedUnion("type",[p,m,b]),f=l.z.discriminatedUnion("type",[p,b]),y=l.z.object({top:d.default({value:0,unit:"px"}),left:d.default({value:0,unit:"px"}),bottom:d.default({value:0,unit:"px"}),right:d.default({value:0,unit:"px"})}),x=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),h=x.extend({x:d.default({value:0,unit:"px"}),y:d.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:d.default({value:100,unit:"%"}),height:d.default({value:100,unit:"%"}),padding:y,fill:g,overlay:f,aspectRatioLocked:l.z.boolean(),border:u,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:d.default({value:0,unit:"px"}),topRight:d.default({value:0,unit:"px"}),bottomRight:d.default({value:0,unit:"px"}),bottomLeft:d.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),j=e=>l.z.intersection(x,e.partial()),v=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),j(e))),k=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:v(e),assets:l.z.record(l.z.string(),z).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(2)}),I=(j(h),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),w=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),S=w.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),R=w.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),P=w.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),V=l.z.discriminatedUnion("action",[R,P,S]),_=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(I).max(1),triggers:l.z.array(V),_v:l.z.literal(2)}),L=h.extend({children:l.z.array(I)}),U=k(L).extend({type:l.z.literal("group")}),C=(j(L),h.extend({altText:l.z.string().default("")})),O=k(C).extend({type:l.z.literal("image")}),E=(j(C),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>E))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),X=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:E}),F=l.z.enum(["top","middle","bottom"]),D=h.extend({text:X,textVerticalAlign:F.default("top")}),A=k(D).extend({type:l.z.literal("text")}),T=(j(D),D.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),B=k(T).extend({type:l.z.literal("shape")}),Y=(j(T),l.z.object({default:l.z.string()})),N=h.extend({videoSources:Y}),q=k(N).extend({type:l.z.literal("video")}),$=(j(N),l.z.discriminatedUnion("type",[U,O,B,A,q])),M=l.z.object({blockuments:l.z.record(l.z.string(),_).optional(),items:l.z.record(l.z.string(),$).optional()}),H=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),G=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),J=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:G.default({value:1,unit:"px"})}),K=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Q=K.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),W=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Z=K.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:W.default({width:1,height:1,left:0,top:0})}),ee=K.extend({type:l.z.literal("none")}),te=l.z.discriminatedUnion("type",[Q,Z,ee]),ne=l.z.discriminatedUnion("type",[Q,ee]),ie=l.z.object({top:G.default({value:0,unit:"px"}),left:G.default({value:0,unit:"px"}),bottom:G.default({value:0,unit:"px"}),right:G.default({value:0,unit:"px"})}),ae=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),re=ae.extend({x:G.default({value:0,unit:"px"}),y:G.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:G.default({value:100,unit:"%"}),height:G.default({value:100,unit:"%"}),padding:ie,fill:te,overlay:ne,aspectRatioLocked:l.z.boolean(),border:J,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:G.default({value:0,unit:"px"}),topRight:G.default({value:0,unit:"px"}),bottomRight:G.default({value:0,unit:"px"}),bottomLeft:G.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),oe=e=>l.z.intersection(ae,e.partial()),le=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),oe(e))),ze=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:le(e),assets:l.z.record(l.z.string(),H).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(3)}),de=(oe(re),l.z.object({default:l.z.string()})),ue=re.extend({audioSources:de}),se=ze(ue).extend({type:l.z.literal("audio")}),pe=(oe(ue),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),ce=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),me=ce.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),be=ce.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),ge=ce.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),fe=l.z.discriminatedUnion("action",[be,ge,me]),ye=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(pe).max(1),triggers:l.z.array(fe),_v:l.z.literal(3)}),xe=re.extend({children:l.z.array(pe)}),he=ze(xe).extend({type:l.z.literal("group")}),je=(oe(xe),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>je))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),ve=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:je}),ke=l.z.enum(["top","middle","bottom"]),Ie=re.extend({text:ve,textVerticalAlign:ke.default("top")}),we=ze(Ie).extend({type:l.z.literal("text")}),Se=(oe(Ie),Ie.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),Re=ze(Se).extend({type:l.z.literal("shape")}),Pe=(oe(Se),l.z.object({default:l.z.string()})),Ve=re.extend({videoSources:Pe}),_e=ze(Ve).extend({type:l.z.literal("video")}),Le=(oe(Ve),l.z.discriminatedUnion("type",[se,he,Re,we,_e])),Ue=l.z.object({blockuments:l.z.record(l.z.string(),ye).optional(),items:l.z.record(l.z.string(),Le).optional()});var Ce=n(4816);function Oe(e,t,n){const{default:i,...a}=e;return{default:t(i),...Ce(a,n)}}function Ee(e){return{...e,altText:"altText"in e?e.altText??null:void 0}}function Xe(e){return{...e,clipPath:null,altText:e.altText??null,text:{id:crypto.randomUUID(),type:"tiptap",json:{type:"doc",content:[]}},textVerticalAlign:"middle"}}function Fe(e){return"image"===e.type?function(e){return{...e,_v:3,type:"shape",states:Oe(e.states,Xe,Ee)}}(e):{...e,_v:3}}const De=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ae=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Te=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ae.default({value:1,unit:"px"})}),Be=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ye=Be.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ne=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),qe=Be.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ne.default({width:1,height:1,left:0,top:0})}),$e=Be.extend({type:l.z.literal("none")}),Me=l.z.discriminatedUnion("type",[Ye,qe,$e]),He=l.z.discriminatedUnion("type",[Ye,$e]),Ge=l.z.object({top:Ae.default({value:0,unit:"px"}),left:Ae.default({value:0,unit:"px"}),bottom:Ae.default({value:0,unit:"px"}),right:Ae.default({value:0,unit:"px"})}),Je=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ke=l.z.object({type:l.z.literal("ellipse")}),Qe=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),We=l.z.object({type:l.z.literal("cloud")}),Ze=l.z.discriminatedUnion("type",[Je,Ke,Qe,We]),et=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),tt=et.extend({x:Ae.default({value:0,unit:"px"}),y:Ae.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ae.default({value:100,unit:"%"}),height:Ae.default({value:100,unit:"%"}),padding:Ge,fill:Me,overlay:He,aspectRatioLocked:l.z.boolean(),border:Te,clipDef:Ze.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),nt=e=>l.z.intersection(et,e.partial()),it=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),nt(e))),at=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:it(e),assets:l.z.record(l.z.string(),De).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(4)}),rt=(nt(tt),l.z.object({default:l.z.string()})),ot=tt.extend({audioSources:rt}),lt=at(ot).extend({type:l.z.literal("audio")}),zt=(nt(ot),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),dt=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ut=dt.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),st=dt.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),pt=dt.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ct=l.z.discriminatedUnion("action",[st,pt,ut]),mt=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(zt).max(1),triggers:l.z.array(ct),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(4)}),bt=tt.extend({children:l.z.array(zt)}),gt=at(bt).extend({type:l.z.literal("group")}),ft=(nt(bt),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>ft))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),yt=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:ft}),xt=l.z.enum(["top","middle","bottom"]),ht=tt.extend({text:yt,textVerticalAlign:xt.default("top")}),jt=at(ht).extend({type:l.z.literal("text")}),vt=(nt(ht),ht.extend({altText:l.z.string().nullable().default(null)})),kt=at(vt).extend({type:l.z.literal("shape")}),It=(nt(vt),l.z.object({default:l.z.string()})),wt=tt.extend({videoSources:It}),St=at(wt).extend({type:l.z.literal("video")}),Rt=(nt(wt),l.z.discriminatedUnion("type",[lt,gt,kt,jt,St])),Pt=l.z.object({blockuments:l.z.record(l.z.string(),mt).optional(),items:l.z.record(l.z.string(),Rt).optional()});function Vt(e){return e.applied?{type:"rectangle",borderRadius:{topLeft:e.topLeft.value,topRight:e.topRight.value,bottomRight:e.bottomRight.value,bottomLeft:e.bottomLeft.value}}:{type:"rectangle"}}function _t(e){const{clipPath:t,borderRadius:n,...i}=e;return"ellipse"===t?{...i,clipDef:{type:"ellipse"}}:{...i,clipDef:Vt(n)}}function Lt(e){const{borderRadius:t,...n}=e;return{...n,clipDef:Vt(t)}}function Ut(e){const{borderRadius:t,...n}=e;return t?{...n,clipDef:Vt(t)}:{...n}}function Ct(e){if("shape"===e.type)return{...e,_v:4,states:Oe(e.states,_t,(t=>function(e,t){const{clipPath:n,borderRadius:i,...a}=e;return"ellipse"===n?{...a,clipDef:{type:"ellipse"}}:"ellipse"===t.clipPath?{...a}:i?{...a,clipDef:Vt(i)}:{...a}}(t,e.states.default)))};if("text"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("video"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("group"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("audio"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};throw new Error("Internal error: should be unreachable")}const Ot=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Et=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Xt=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Et.default({value:1,unit:"px"})}),Ft=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Dt=Ft.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),At=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Tt=Ft.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:At.default({width:1,height:1,left:0,top:0})}),Bt=Ft.extend({type:l.z.literal("none")}),Yt=l.z.discriminatedUnion("type",[Dt,Tt,Bt]),Nt=l.z.discriminatedUnion("type",[Dt,Bt]),qt=l.z.object({top:Et.default({value:0,unit:"px"}),left:Et.default({value:0,unit:"px"}),bottom:Et.default({value:0,unit:"px"}),right:Et.default({value:0,unit:"px"})}),$t=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Mt=l.z.object({type:l.z.literal("ellipse")}),Ht=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Gt=l.z.object({type:l.z.literal("cloud")}),Jt=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Kt=l.z.object({type:l.z.literal("triangle")}),Qt=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Wt=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Zt=l.z.object({type:l.z.literal("octagon")}),en=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),tn=l.z.discriminatedUnion("type",[Qt,Wt,Gt,Mt,Zt,Jt,$t,Ht,Kt,en]),nn=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),an=nn.extend({x:Et.default({value:0,unit:"px"}),y:Et.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Et.default({value:100,unit:"%"}),height:Et.default({value:100,unit:"%"}),padding:qt,fill:Yt,overlay:Nt,aspectRatioLocked:l.z.boolean(),border:Xt,clipDef:tn.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),rn=e=>l.z.intersection(nn,e.partial()),on=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),rn(e))),ln=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:on(e),assets:l.z.record(l.z.string(),Ot).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(5)}),zn=(rn(an),l.z.object({default:l.z.string()})),dn=an.extend({audioSources:zn}),un=ln(dn).extend({type:l.z.literal("audio")}),sn=(rn(dn),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),pn=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),cn=pn.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),mn=pn.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),bn=pn.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),gn=l.z.discriminatedUnion("action",[mn,bn,cn]),fn=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(sn).max(1),triggers:l.z.array(gn),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(5)}),yn=an.extend({children:l.z.array(sn)}),xn=ln(yn).extend({type:l.z.literal("group")}),hn=(rn(yn),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>hn))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),jn=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:hn}),vn=l.z.enum(["top","middle","bottom"]),kn=an.extend({text:jn,textVerticalAlign:vn.default("top")}),In=ln(kn).extend({type:l.z.literal("text")}),wn=(rn(kn),kn.extend({altText:l.z.string().nullable().default(null)})),Sn=ln(wn).extend({type:l.z.literal("shape")}),Rn=(rn(wn),l.z.object({default:l.z.string()})),Pn=an.extend({videoSources:Rn}),Vn=ln(Pn).extend({type:l.z.literal("video")}),_n=(rn(Pn),l.z.discriminatedUnion("type",[un,xn,Sn,In,Vn])),Ln=l.z.object({blockuments:l.z.record(l.z.string(),fn).optional(),items:l.z.record(l.z.string(),_n).optional()}),Un={authoringAspectRatioCropLock:"none"};function Cn(e){return{...e,...Un}}function On(e){const t=null!=e.width||null!=e.height?Un:null;return{...e,...t}}function En(e){if("shape"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("text"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("video"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("audio"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("group"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};throw new Error("Unexpected item type!")}const Xn=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Fn=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Dn=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Fn.default({value:1,unit:"px"})}),An=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Tn=An.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Bn=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Yn=An.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Bn.default({width:1,height:1,left:0,top:0})}),Nn=An.extend({type:l.z.literal("none")}),qn=l.z.discriminatedUnion("type",[Tn,Yn,Nn]),$n=l.z.discriminatedUnion("type",[Tn,Nn]),Mn=l.z.object({top:Fn.default({value:0,unit:"px"}),left:Fn.default({value:0,unit:"px"}),bottom:Fn.default({value:0,unit:"px"}),right:Fn.default({value:0,unit:"px"})}),Hn=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gn=l.z.object({type:l.z.literal("ellipse")}),Jn=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Kn=l.z.object({type:l.z.literal("cloud")}),Qn=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Wn=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Zn=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ei=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),ti=l.z.object({type:l.z.literal("octagon")}),ni=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ii=l.z.object({type:l.z.literal("shield")}),ai=l.z.object({type:l.z.literal("speechBubble")}),ri=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),oi=l.z.discriminatedUnion("type",[Zn,ei,Kn,Gn,ti,Qn,Hn,Jn,Wn,ni,ii,ai,ri]),li=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),zi=li.extend({x:Fn.default({value:0,unit:"px"}),y:Fn.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Fn.default({value:100,unit:"%"}),height:Fn.default({value:100,unit:"%"}),padding:Mn,fill:qn,overlay:$n,aspectRatioLocked:l.z.boolean(),border:Dn,clipDef:oi.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),di=e=>l.z.intersection(li,e.partial()),ui=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),di(e))),si=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ui(e),assets:l.z.record(l.z.string(),Xn).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(6)}),pi=(di(zi),l.z.object({default:l.z.string()})),ci=zi.extend({audioSources:pi}),mi=si(ci).extend({type:l.z.literal("audio")}),bi=(di(ci),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),gi=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),fi=gi.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),yi=gi.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),xi=gi.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),hi=l.z.discriminatedUnion("action",[yi,xi,fi]),ji=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bi).max(1),triggers:l.z.array(hi),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(6)}),vi=zi.extend({children:l.z.array(bi)}),ki=si(vi).extend({type:l.z.literal("group")}),Ii=(di(vi),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Ii))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),wi=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Ii}),Si=l.z.enum(["top","middle","bottom"]),Ri=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Pi=zi.extend({text:wi,textVerticalAlign:Si.default("top"),textPadding:Ri}),Vi=si(Pi).extend({type:l.z.literal("text")}),_i=(di(Pi),Pi.extend({altText:l.z.string().nullable().default(null)})),Li=si(_i).extend({type:l.z.literal("shape")}),Ui=(di(_i),l.z.object({default:l.z.string()})),Ci=zi.extend({videoSources:Ui}),Oi=si(Ci).extend({type:l.z.literal("video")}),Ei=(di(Ci),l.z.discriminatedUnion("type",[mi,ki,Li,Vi,Oi])),Xi=l.z.object({blockuments:l.z.record(l.z.string(),ji).optional(),items:l.z.record(l.z.string(),Ei).optional()});var Fi=n(1016);function Di(e){return"text"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fi.un})),(e=>e))}:"shape"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fi.Mw})),(e=>e))}:{...e,_v:6}}const Ai=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ti=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Bi=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ti.default({value:1,unit:"px"})}),Yi=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ni=Yi.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),qi=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),$i=Yi.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:qi.default({width:1,height:1,left:0,top:0})}),Mi=Yi.extend({type:l.z.literal("none")}),Hi=l.z.discriminatedUnion("type",[Ni,$i,Mi]),Gi=l.z.discriminatedUnion("type",[Ni,Mi]),Ji=l.z.object({top:Ti.default({value:0,unit:"px"}),left:Ti.default({value:0,unit:"px"}),bottom:Ti.default({value:0,unit:"px"}),right:Ti.default({value:0,unit:"px"})}),Ki=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Qi=l.z.object({type:l.z.literal("ellipse")}),Wi=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Zi=l.z.object({type:l.z.literal("cloud")}),ea=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ta=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),na=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ia=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),aa=l.z.object({type:l.z.literal("octagon")}),ra=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),oa=l.z.object({type:l.z.literal("shield")}),la=l.z.object({type:l.z.literal("speechBubble")}),za=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),da=l.z.discriminatedUnion("type",[na,ia,Zi,Qi,aa,ea,Ki,Wi,ta,ra,oa,la,za]),ua=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),sa=ua.extend({x:Ti.default({value:0,unit:"px"}),y:Ti.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ti.default({value:100,unit:"%"}),height:Ti.default({value:100,unit:"%"}),padding:Ji,fill:Hi,overlay:Gi,aspectRatioLocked:l.z.boolean(),border:Bi,clipDef:da.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),pa=e=>l.z.intersection(ua,e.partial()),ca=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),pa(e))),ma=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ca(e),assets:l.z.record(l.z.string(),Ai).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(7)}),ba=(pa(sa),l.z.object({default:l.z.string()})),ga=sa.extend({audioSources:ba}),fa=ma(ga).extend({type:l.z.literal("audio")}),ya=(pa(ga),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),xa=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ha=xa.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),ja=xa.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),va=xa.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ka=l.z.discriminatedUnion("action",[ja,va,ha]),Ia=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ya).max(1),triggers:l.z.array(ka),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(7)}),wa=sa.extend({children:l.z.array(ya)}),Sa=ma(wa).extend({type:l.z.literal("group")}),Ra=(pa(wa),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Ra))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Pa=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Ra}),Va=l.z.enum(["top","middle","bottom"]),_a=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),La=sa.extend({text:Pa,textVerticalAlign:Va.default("top"),textPadding:_a}),Ua=ma(La).extend({type:l.z.literal("text")}),Ca=(pa(La),La.extend({altText:l.z.string().nullable().default(null)})),Oa=ma(Ca).extend({type:l.z.literal("shape")}),Ea=(pa(Ca),l.z.object({default:l.z.string()})),Xa=sa.extend({videoSources:Ea}),Fa=ma(Xa).extend({type:l.z.literal("video")}),Da=(pa(Xa),l.z.discriminatedUnion("type",[fa,Sa,Oa,Ua,Fa])),Aa=l.z.object({blockuments:l.z.record(l.z.string(),Ia).optional(),items:l.z.record(l.z.string(),Da).optional()});function Ta(e,t){const n=t.width?.value??e.width.value,i=n<=100?8:n>300?32:16;return{top:16,left:i,bottom:16,right:i}}function Ba(e){return"shape"===e.type?{...e,states:(t=e.states,Oe(t,(e=>({...e,textPadding:Ta(e,e)})),(e=>e.textPadding||e.width?{...e,textPadding:Ta(t.default,e)}:e))),_v:7}:{...e,_v:7};var t}const Ya=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Na=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),qa=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Na.default({value:1,unit:"px"})}),$a=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ma=$a.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ha=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Ga=$a.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ha.default({width:1,height:1,left:0,top:0})}),Ja=$a.extend({type:l.z.literal("none")}),Ka=l.z.discriminatedUnion("type",[Ma,Ga,Ja]),Qa=l.z.discriminatedUnion("type",[Ma,Ja]),Wa=l.z.object({top:Na.default({value:0,unit:"px"}),left:Na.default({value:0,unit:"px"}),bottom:Na.default({value:0,unit:"px"}),right:Na.default({value:0,unit:"px"})}),Za=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),er=l.z.object({type:l.z.literal("ellipse")}),tr=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),nr=l.z.object({type:l.z.literal("cloud")}),ir=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ar=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),rr=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),or=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),lr=l.z.object({type:l.z.literal("octagon")}),zr=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),dr=l.z.object({type:l.z.literal("shield")}),ur=l.z.object({type:l.z.literal("speechBubble")}),sr=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),pr=l.z.discriminatedUnion("type",[rr,or,nr,er,lr,ir,Za,tr,ar,zr,dr,ur,sr]),cr=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),mr=cr.extend({x:Na.default({value:0,unit:"px"}),y:Na.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Na.default({value:100,unit:"%"}),height:Na.default({value:100,unit:"%"}),padding:Wa,fill:Ka,overlay:Qa,aspectRatioLocked:l.z.boolean(),border:qa,clipDef:pr.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),br=e=>l.z.intersection(cr,e.partial()),gr=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),br(e))),fr=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:gr(e),assets:l.z.record(l.z.string(),Ya).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(8)}),yr=(br(mr),l.z.object({default:l.z.string()})),xr=mr.extend({audioSources:yr}),hr=fr(xr).extend({type:l.z.literal("audio")}),jr=(br(xr),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),vr=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),kr=vr.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ir=vr.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),wr=vr.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Sr=l.z.discriminatedUnion("action",[Ir,wr,kr]),Rr=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(jr).max(1),triggers:l.z.array(Sr),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(8)}),Pr=mr.extend({children:l.z.array(jr)}),Vr=fr(Pr).extend({type:l.z.literal("group")}),_r=(br(Pr),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>_r))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Lr=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:_r}),Ur=l.z.enum(["top","middle","bottom"]),Cr=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Or=mr.extend({text:Lr,textVerticalAlign:Ur.default("top"),textPadding:Cr}),Er=fr(Or).extend({type:l.z.literal("text")}),Xr=(br(Or),Or.extend({altText:l.z.string().nullable().default(null)})),Fr=fr(Xr).extend({type:l.z.literal("shape")}),Dr=(br(Xr),l.z.object({default:l.z.string()})),Ar=mr.extend({videoSources:Dr}),Tr=fr(Ar).extend({type:l.z.literal("video")}),Br=(br(Ar),l.z.discriminatedUnion("type",[hr,Vr,Fr,Er,Tr])),Yr=l.z.object({blockuments:l.z.record(l.z.string(),Rr).optional(),items:l.z.record(l.z.string(),Br).optional()});function Nr(e){return{...e,_v:8,assets:Ce(e.assets??{},(e=>({...e,path:`mondrian/assets/${e.path}`})))}}const qr=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),$r=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Mr=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:$r.default({value:1,unit:"px"})}),Hr=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Gr=Hr.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Jr=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Kr=Hr.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Jr.default({width:1,height:1,left:0,top:0})}),Qr=Hr.extend({type:l.z.literal("none")}),Wr=l.z.discriminatedUnion("type",[Gr,Kr,Qr]),Zr=l.z.discriminatedUnion("type",[Gr,Qr]),eo=l.z.object({top:$r.default({value:0,unit:"px"}),left:$r.default({value:0,unit:"px"}),bottom:$r.default({value:0,unit:"px"}),right:$r.default({value:0,unit:"px"})}),to=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),no=l.z.object({type:l.z.literal("ellipse")}),io=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),ao=l.z.object({type:l.z.literal("cloud")}),ro=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),oo=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),lo=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),zo=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),uo=l.z.object({type:l.z.literal("octagon")}),so=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),po=l.z.object({type:l.z.literal("shield")}),co=l.z.object({type:l.z.literal("speechBubble")}),mo=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),bo=l.z.discriminatedUnion("type",[lo,zo,ao,no,uo,ro,to,io,oo,so,po,co,mo]),go=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),fo=go.extend({x:$r.default({value:0,unit:"px"}),y:$r.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:$r.default({value:100,unit:"%"}),height:$r.default({value:100,unit:"%"}),padding:eo,fill:Wr,overlay:Zr,aspectRatioLocked:l.z.boolean(),border:Mr,clipDef:bo.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),yo=e=>l.z.intersection(go,e.partial()),xo=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),yo(e))),ho=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:xo(e),assets:l.z.record(l.z.string(),qr).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(9)}),jo=(yo(fo),l.z.object({default:l.z.string()})),vo=fo.extend({audioSources:jo}),ko=ho(vo).extend({type:l.z.literal("audio")}),Io=(yo(vo),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),wo=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),So=wo.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ro=wo.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Po=wo.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Vo=l.z.discriminatedUnion("action",[Ro,Po,So]),_o=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Io).min(0).max(1),triggers:l.z.array(Vo),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(9)}),Lo=fo.extend({_groupBrand:l.z.never().optional()}),Uo=ho(Lo).extend({type:l.z.literal("group"),children:l.z.array(Io)}),Co=(yo(Lo),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Co))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Oo=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Co}),Eo=l.z.enum(["top","middle","bottom"]),Xo=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Fo=fo.extend({text:Oo,textVerticalAlign:Eo.default("top"),textPadding:Xo}),Do=ho(Fo).extend({type:l.z.literal("text")}),Ao=(yo(Fo),Fo.extend({altText:l.z.string().nullable().default(null)})),To=ho(Ao).extend({type:l.z.literal("shape")}),Bo=(yo(Ao),l.z.object({default:l.z.string()})),Yo=fo.extend({videoSources:Bo}),No=ho(Yo).extend({type:l.z.literal("video")}),qo=(yo(Yo),l.z.discriminatedUnion("type",[ko,Uo,To,Do,No])),$o=l.z.object({blockuments:l.z.record(l.z.string(),_o).optional(),items:l.z.record(l.z.string(),qo).optional()});function Mo(e){return{...e,_v:9,children:e.children.map((({id:e,clonedFromId:t})=>({id:e,clonedFromId:t})))}}function Ho(e){return"group"===e.type?function(e){const t=new Map,{default:n,...i}=e.states,a=[n,...Object.values(i)];for(const e of a)if(e.children)for(const{id:n,clonedFromId:i}of e.children)t.has(n)||t.set(n,{id:n,clonedFromId:i});return{...e,_v:9,children:[...t.values()],states:Oe(e.states,(({children:e,...t})=>t),(({children:e,...t})=>t))}}(e):{...e,_v:9}}const Go=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jo=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ko=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jo.default({value:1,unit:"px"})}),Qo=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Wo=Qo.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Zo=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),el=Qo.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Zo.default({width:1,height:1,left:0,top:0})}),tl=Qo.extend({type:l.z.literal("none")}),nl=l.z.discriminatedUnion("type",[Wo,el,tl]),il=l.z.discriminatedUnion("type",[Wo,tl]),al=l.z.object({top:Jo.default({value:0,unit:"px"}),left:Jo.default({value:0,unit:"px"}),bottom:Jo.default({value:0,unit:"px"}),right:Jo.default({value:0,unit:"px"})}),rl=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),ol=l.z.object({type:l.z.literal("ellipse")}),ll=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),zl=l.z.object({type:l.z.literal("cloud")}),dl=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ul=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),sl=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),pl=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),cl=l.z.object({type:l.z.literal("octagon")}),ml=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),bl=l.z.object({type:l.z.literal("shield")}),gl=l.z.object({type:l.z.literal("speechBubble")}),fl=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),yl=l.z.discriminatedUnion("type",[sl,pl,zl,ol,cl,dl,rl,ll,ul,ml,bl,gl,fl]),xl=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),hl=xl.extend({x:Jo.default({value:0,unit:"px"}),y:Jo.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jo.default({value:100,unit:"%"}),height:Jo.default({value:100,unit:"%"}),padding:al,fill:nl,overlay:il,aspectRatioLocked:l.z.boolean(),border:Ko,clipDef:yl.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),jl=e=>l.z.intersection(xl,e.partial()),vl=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),jl(e))),kl=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:vl(e),assets:l.z.record(l.z.string(),Go).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(10)}),Il=(jl(hl),l.z.object({default:l.z.string()})),wl=hl.extend({audioSources:Il}),Sl=kl(wl).extend({type:l.z.literal("audio")}),Rl=(jl(wl),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Pl=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),Vl=Pl.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),_l=Pl.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Ll=Pl.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Ul=l.z.discriminatedUnion("action",[_l,Ll,Vl]),Cl=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Rl).min(0).max(1),triggers:l.z.array(Ul),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(10)}),Ol=l.z.object({x:l.z.number(),y:l.z.number()}),El=l.z.object({applied:l.z.literal(!1)}),Xl=l.z.object({applied:l.z.literal(!0),offset:Ol,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Fl=l.z.discriminatedUnion("applied",[El,Xl]),Dl=hl.extend({_groupBrand:l.z.never().optional()}),Al=kl(Dl).extend({type:l.z.literal("group"),children:l.z.array(Rl)}),Tl=(jl(Dl),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Tl))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Bl=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Tl}),Yl=l.z.enum(["top","middle","bottom"]),Nl=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),ql=hl.extend({text:Bl,textVerticalAlign:Yl.default("top"),textPadding:Nl}),$l=kl(ql).extend({type:l.z.literal("text")}),Ml=(jl(ql),ql.extend({altText:l.z.string().nullable().default(null),dropShadow:Fl})),Hl=kl(Ml).extend({type:l.z.literal("shape")}),Gl=(jl(Ml),l.z.object({default:l.z.string()})),Jl=hl.extend({videoSources:Gl}),Kl=kl(Jl).extend({type:l.z.literal("video")}),Ql=(jl(Jl),l.z.discriminatedUnion("type",[Sl,Al,Hl,$l,Kl])),Wl=l.z.object({blockuments:l.z.record(l.z.string(),Cl).optional(),items:l.z.record(l.z.string(),Ql).optional()});function Zl(e){return"shape"===e.type?{...e,_v:10,states:Oe(e.states,(e=>({...e,dropShadow:{applied:!1}})),(e=>e))}:{...e,_v:10}}const ez=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),tz=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),nz=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:tz.default({value:1,unit:"px"})}),iz=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),az=iz.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),rz=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),oz=iz.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:rz.default({width:1,height:1,left:0,top:0})}),lz=iz.extend({type:l.z.literal("none")}),zz=l.z.discriminatedUnion("type",[az,oz,lz]),dz=l.z.discriminatedUnion("type",[az,lz]),uz=l.z.object({top:tz.default({value:0,unit:"px"}),left:tz.default({value:0,unit:"px"}),bottom:tz.default({value:0,unit:"px"}),right:tz.default({value:0,unit:"px"})}),sz=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),pz=l.z.object({type:l.z.literal("ellipse")}),cz=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),mz=l.z.object({type:l.z.literal("cloud")}),bz=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),gz=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),fz=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),yz=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),xz=l.z.object({type:l.z.literal("octagon")}),hz=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),jz=l.z.object({type:l.z.literal("shield")}),vz=l.z.object({type:l.z.literal("speechBubble")}),kz=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Iz=l.z.discriminatedUnion("type",[fz,yz,mz,pz,xz,bz,sz,cz,gz,hz,jz,vz,kz]),wz=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Sz=wz.extend({x:tz.default({value:0,unit:"px"}),y:tz.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:tz.default({value:100,unit:"%"}),height:tz.default({value:100,unit:"%"}),padding:uz,fill:zz,overlay:dz,aspectRatioLocked:l.z.boolean(),border:nz,clipDef:Iz.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Rz=e=>l.z.intersection(wz,e.partial()),Pz=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Rz(e))),Vz=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Pz(e),assets:l.z.record(l.z.string(),ez).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(11)}),_z=(Rz(Sz),l.z.object({default:l.z.string()})),Lz=Sz.extend({audioSources:_z}),Uz=Vz(Lz).extend({type:l.z.literal("audio")}),Cz=(Rz(Lz),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Oz=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Ez=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Xz=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Fz=l.z.discriminatedUnion("type",[Oz,Ez,Xz]),Dz=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Fz)}),Az=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Cz).min(0).max(1),triggers:l.z.array(Dz),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(11)}),Tz=l.z.object({x:l.z.number(),y:l.z.number()}),Bz=l.z.object({applied:l.z.literal(!1)}),Yz=l.z.object({applied:l.z.literal(!0),offset:Tz,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Nz=l.z.discriminatedUnion("applied",[Bz,Yz]),qz=Sz.extend({_groupBrand:l.z.never().optional()}),$z=Vz(qz).extend({type:l.z.literal("group"),children:l.z.array(Cz)}),Mz=(Rz(qz),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Mz))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Hz=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Mz}),Gz=l.z.enum(["top","middle","bottom"]),Jz=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Kz=Sz.extend({text:Hz,textVerticalAlign:Gz.default("top"),textPadding:Jz}),Qz=Vz(Kz).extend({type:l.z.literal("text")}),Wz=(Rz(Kz),Kz.extend({altText:l.z.string().nullable().default(null),dropShadow:Nz})),Zz=Vz(Wz).extend({type:l.z.literal("shape")}),ed=(Rz(Wz),l.z.object({default:l.z.string()})),td=Sz.extend({videoSources:ed}),nd=Vz(td).extend({type:l.z.literal("video")}),id=(Rz(td),l.z.discriminatedUnion("type",[Uz,$z,Zz,Qz,nd])),ad=l.z.object({blockuments:l.z.record(l.z.string(),Az).optional(),items:l.z.record(l.z.string(),id).optional()});function rd(e){switch(e.action){case"changeState":return{type:e.action,targetId:[e.targetId],targetState:e.targetState};case"changeVisibility":return{type:e.action,targetId:[e.targetId],targetVisibility:e.targetVisibility};default:return{type:e.action,targetId:[e.targetId]}}}function od(e){return{...e,triggers:e.triggers.map((e=>({id:e.id,event:e.event,sourceId:e.sourceId,actions:[rd(e)]}))),_v:11}}function ld(e){return{...e,_v:11}}const zd=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),dd=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ud=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:dd.default({value:1,unit:"px"})}),sd=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),pd=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),cd=pd.extend({color:l.z.string().optional()}),md=pd.extend({assetId:l.z.string().optional(),crop:sd.default({width:1,height:1,left:0,top:0})}),bd=l.z.enum(["color","image"]),gd=l.z.intersection(l.z.intersection(cd,md),l.z.object({type:bd})),fd=cd.extend({type:l.z.literal("color")}),yd=l.z.object({top:dd.default({value:0,unit:"px"}),left:dd.default({value:0,unit:"px"}),bottom:dd.default({value:0,unit:"px"}),right:dd.default({value:0,unit:"px"})}),xd=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),hd=l.z.object({type:l.z.literal("ellipse")}),jd=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),vd=l.z.object({type:l.z.literal("cloud")}),kd=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Id=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),wd=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Sd=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Rd=l.z.object({type:l.z.literal("octagon")}),Pd=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Vd=l.z.object({type:l.z.literal("shield")}),_d=l.z.object({type:l.z.literal("speechBubble")}),Ld=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Ud=l.z.discriminatedUnion("type",[wd,Sd,vd,hd,Rd,kd,xd,jd,Id,Pd,Vd,_d,Ld]),Cd=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Od=Cd.extend({x:dd.default({value:0,unit:"px"}),y:dd.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:dd.default({value:100,unit:"%"}),height:dd.default({value:100,unit:"%"}),padding:yd,fill:gd,overlay:fd,aspectRatioLocked:l.z.boolean(),border:ud,clipDef:Ud.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Ed=e=>l.z.intersection(Cd,e.partial()),Xd=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Ed(e))),Fd=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Xd(e),assets:l.z.record(l.z.string(),zd).default({}),removed:l.z.boolean().default(!1),_v:l.z.literal(12)}),Dd=(Ed(Od),l.z.object({default:l.z.string()})),Ad=Od.extend({audioSources:Dd}),Td=Fd(Ad).extend({type:l.z.literal("audio")}),Bd=(Ed(Ad),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Yd=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Nd=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),qd=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),$d=l.z.discriminatedUnion("type",[Yd,Nd,qd]),Md=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array($d)}),Hd=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Bd).min(0).max(1),triggers:l.z.array(Md),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(12)}),Gd=l.z.object({x:l.z.number(),y:l.z.number()}),Jd=l.z.object({applied:l.z.literal(!1)}),Kd=l.z.object({applied:l.z.literal(!0),offset:Gd,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Qd=l.z.discriminatedUnion("applied",[Jd,Kd]),Wd=Od.extend({_groupBrand:l.z.never().optional()}),Zd=Fd(Wd).extend({type:l.z.literal("group"),children:l.z.array(Bd)}),eu=(Ed(Wd),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>eu))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),tu=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:eu}),nu=l.z.enum(["top","middle","bottom"]),iu=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),au=Od.extend({text:tu,textVerticalAlign:nu.default("top"),textPadding:iu}),ru=Fd(au).extend({type:l.z.literal("text")}),ou=(Ed(au),au.extend({altText:l.z.string().nullable().default(null),dropShadow:Qd})),lu=Fd(ou).extend({type:l.z.literal("shape")}),zu=(Ed(ou),l.z.object({default:l.z.string()})),du=Od.extend({videoSources:zu}),uu=Fd(du).extend({type:l.z.literal("video")}),su=(Ed(du),l.z.discriminatedUnion("type",[Td,Zd,lu,ru,uu])),pu=l.z.object({blockuments:l.z.record(l.z.string(),Hd).optional(),items:l.z.record(l.z.string(),su).optional()});var cu=n(8562);const mu={type:"color",opacity:1},bu={...mu,crop:{height:1,width:1,top:0,left:0}};function gu(e){return e&&"none"!==e.type?"color"===e.type?{...e,crop:bu.crop}:e:bu}function fu(e){return{...e,_v:12}}function yu(e){return{...e,fill:gu(e.fill),overlay:gu(e.overlay)}}function xu(e){return{...e,fill:gu(e.fill),overlay:(t=e.overlay,t&&"none"!==t.type?t:mu)};var t}function hu(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return function(e){return e.assets[cu.up.id]=cu.up,e.states.default.fill.assetId||(e.states.default.fill.assetId=cu.up.id),e}({...e,states:Oe(e.states,yu,xu),_v:12,assets:e.assets??{}});default:throw new Error("Unreachable")}}const ju=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),vu=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ku=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:vu.default({value:1,unit:"px"})}),Iu=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),wu=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Su=l.z.enum(["color","image"]),Ru=wu.extend({color:l.z.string().optional()}),Pu=Ru.extend({type:Su,assetId:l.z.string().optional(),crop:Iu.default({width:1,height:1,left:0,top:0})}),Vu=l.z.object({top:vu.default({value:0,unit:"px"}),left:vu.default({value:0,unit:"px"}),bottom:vu.default({value:0,unit:"px"}),right:vu.default({value:0,unit:"px"})}),_u=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Lu=l.z.object({type:l.z.literal("ellipse")}),Uu=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Cu=l.z.object({type:l.z.literal("cloud")}),Ou=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Eu=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Xu=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Fu=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Du=l.z.object({type:l.z.literal("octagon")}),Au=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Tu=l.z.object({type:l.z.literal("shield")}),Bu=l.z.object({type:l.z.literal("speechBubble")}),Yu=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Nu=l.z.discriminatedUnion("type",[Xu,Fu,Cu,Lu,Du,Ou,_u,Uu,Eu,Au,Tu,Bu,Yu]),qu=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),$u=qu.extend({x:vu.default({value:0,unit:"px"}),y:vu.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:vu.default({value:100,unit:"%"}),height:vu.default({value:100,unit:"%"}),padding:Vu,fill:Pu,opacity:l.z.number().min(0).max(1).default(1),overlay:Ru,aspectRatioLocked:l.z.boolean(),border:ku,clipDef:Nu.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Mu=e=>l.z.intersection(qu,e.partial()),Hu=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Mu(e))),Gu=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Hu(e),assets:l.z.record(l.z.string(),ju).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),Ju=(Mu($u),l.z.object({default:l.z.string()})),Ku=$u.extend({audioSources:Ju}),Qu=Gu(Ku).extend({type:l.z.literal("audio")}),Wu=(Mu(Ku),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Zu=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),es=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),ts=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),ns=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),is=l.z.discriminatedUnion("type",[Zu,es,ts,ns]),as=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(is)}),rs=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Wu).min(0).max(1),triggers:l.z.array(as),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),os=$u.extend({_groupBrand:l.z.never().optional()}),ls=Gu(os).extend({type:l.z.literal("group"),children:l.z.array(Wu)}),zs=(Mu(os),l.z.object({x:l.z.number(),y:l.z.number()})),ds=l.z.object({applied:l.z.literal(!1)}),us=l.z.object({applied:l.z.literal(!0),offset:zs,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),ss=l.z.discriminatedUnion("applied",[ds,us]),ps=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>ps))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),cs=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:ps}),ms=l.z.enum(["top","middle","bottom"]),bs=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),gs=$u.extend({text:cs,textVerticalAlign:ms.default("top"),textPadding:bs}),fs=Gu(gs).extend({type:l.z.literal("text")}),ys=(Mu(gs),gs.extend({altText:l.z.string().nullable().default(null),dropShadow:ss})),xs=Gu(ys).extend({type:l.z.literal("shape")}),hs=(Mu(ys),l.z.object({default:l.z.string()})),js=$u.extend({videoSources:hs}),vs=Gu(js).extend({type:l.z.literal("video")}),ks=(Mu(js),l.z.discriminatedUnion("type",[Qu,ls,xs,fs,vs])),Is=(l.z.object({blockument:rs.optional(),items:l.z.record(l.z.string(),ks).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),rs).optional(),items:l.z.record(l.z.string(),ks).optional()}));function ws(e){return{...e,layers:[],_v:13}}function Ss(e){return{...e,opacity:1}}function Rs(e){return{...e,opacity:1}}function Ps(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,states:Oe(e.states,Ss,Rs),_v:13};default:throw new Error("Unreachable")}}const Vs=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),_s=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ls=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:_s.default({value:1,unit:"px"})}),Us=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Cs=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Os=l.z.enum(["color","image"]),Es=Cs.extend({color:l.z.string().optional()}),Xs=Es.extend({type:Os,assetId:l.z.string().optional(),crop:Us.default({width:1,height:1,left:0,top:0})}),Fs=l.z.object({top:_s.default({value:0,unit:"px"}),left:_s.default({value:0,unit:"px"}),bottom:_s.default({value:0,unit:"px"}),right:_s.default({value:0,unit:"px"})}),Ds=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),As=l.z.object({type:l.z.literal("ellipse")}),Ts=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Bs=l.z.object({type:l.z.literal("cloud")}),Ys=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Ns=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),qs=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),$s=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Ms=l.z.object({type:l.z.literal("octagon")}),Hs=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Gs=l.z.object({type:l.z.literal("shield")}),Js=l.z.object({type:l.z.literal("speechBubble")}),Ks=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Qs=l.z.discriminatedUnion("type",[qs,$s,Bs,As,Ms,Ys,Ds,Ts,Ns,Hs,Gs,Js,Ks]),Ws=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Zs=Ws.extend({x:_s.default({value:0,unit:"px"}),y:_s.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:_s.default({value:100,unit:"%"}),height:_s.default({value:100,unit:"%"}),padding:Fs,fill:Xs,opacity:l.z.number().min(0).max(1).default(1),overlay:Es,aspectRatioLocked:l.z.boolean(),border:Ls,clipDef:Qs.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ep=e=>l.z.intersection(Ws,e.partial()),tp=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),ep(e))),np=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:tp(e),assets:l.z.record(l.z.string(),Vs).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),ip=(ep(Zs),l.z.object({default:l.z.string()})),ap=Zs.extend({audioSources:ip}),rp=np(ap).extend({type:l.z.literal("audio")}),op=(ep(ap),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),lp=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),zp=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),dp=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),up=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),sp=l.z.discriminatedUnion("type",[lp,zp,dp,up]),pp=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(sp)}),cp=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(op).min(0).max(1),triggers:l.z.array(pp),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),mp=Zs.extend({_groupBrand:l.z.never().optional()}),bp=np(mp).extend({type:l.z.literal("group"),children:l.z.array(op)}),gp=(ep(mp),l.z.object({x:l.z.number(),y:l.z.number()})),fp=l.z.object({applied:l.z.literal(!1)}),yp=l.z.object({applied:l.z.literal(!0),offset:gp,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),xp=l.z.discriminatedUnion("applied",[fp,yp]),hp=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>hp))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),jp=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:hp}),vp=l.z.enum(["top","middle","bottom"]),kp=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Ip=Zs.extend({text:jp,textVerticalAlign:vp.default("top"),textPadding:kp}),wp=np(Ip).extend({type:l.z.literal("text")}),Sp=(ep(Ip),Ip.extend({altText:l.z.string().nullable().default(null),dropShadow:xp})),Rp=np(Sp).extend({type:l.z.literal("shape")}),Pp=(ep(Sp),l.z.object({default:l.z.string()})),Vp=Zs.extend({videoSources:Pp}),_p=np(Vp).extend({type:l.z.literal("video")}),Lp=(ep(Vp),l.z.discriminatedUnion("type",[rp,bp,Rp,wp,_p])),Up=(l.z.object({blockument:cp.optional(),items:l.z.record(l.z.string(),Lp).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),cp).optional(),items:l.z.record(l.z.string(),Lp).optional()}));function Cp(e){return{...e,_v:14}}function Op(e){return{...e,opacity:1}}function Ep(e){return{...e,opacity:1}}function Xp(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,states:Oe(e.states,Op,Ep),_v:14};default:throw new Error("Unreachable")}}const Fp=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Dp=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ap=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Dp.default({value:1,unit:"px"})}),Tp=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Bp=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Yp=l.z.enum(["color","image"]),Np=Bp.extend({color:l.z.string().optional()}),qp=Np.extend({type:Yp,assetId:l.z.string().optional(),crop:Tp.default({width:1,height:1,left:0,top:0})}),$p=l.z.object({top:Dp.default({value:0,unit:"px"}),left:Dp.default({value:0,unit:"px"}),bottom:Dp.default({value:0,unit:"px"}),right:Dp.default({value:0,unit:"px"})}),Mp=l.z.object({type:l.z.string()}),Hp=Mp.extend({cornerRounding:l.z.number().min(0)}),Gp=Mp.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Jp=Mp.extend({type:l.z.literal("ellipse")}),Kp=Hp.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Qp=Mp.extend({type:l.z.literal("cloud")}),Wp=Hp.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Zp=Hp.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),ec=Hp.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),tc=Hp.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),nc=Hp.extend({type:l.z.literal("octagon")}),ic=Hp.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ac=Hp.extend({type:l.z.literal("shield")}),rc=Hp.extend({type:l.z.literal("speechBubble")}),oc=Hp.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),lc=l.z.discriminatedUnion("type",[ec,tc,Qp,Jp,nc,Wp,Gp,Kp,Zp,ic,ac,rc,oc]),zc=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),dc=zc.extend({x:Dp.default({value:0,unit:"px"}),y:Dp.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Dp.default({value:100,unit:"%"}),height:Dp.default({value:100,unit:"%"}),padding:$p,fill:qp,opacity:l.z.number().min(0).max(1).default(1),overlay:Np,aspectRatioLocked:l.z.boolean(),border:Ap,clipDef:lc.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),uc=e=>l.z.intersection(zc,e.partial()),sc=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),uc(e))),pc=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:sc(e),assets:l.z.record(l.z.string(),Fp).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),cc=(uc(dc),l.z.object({default:l.z.string()})),mc=dc.extend({audioSources:cc}),bc=pc(mc).extend({type:l.z.literal("audio")}),gc=(uc(mc),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),fc=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),yc=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),xc=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),hc=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),jc=l.z.discriminatedUnion("type",[fc,yc,xc,hc]),vc=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(jc)}),kc=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(gc).min(0).max(1),triggers:l.z.array(vc),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),Ic=dc.extend({_groupBrand:l.z.never().optional()}),wc=pc(Ic).extend({type:l.z.literal("group"),children:l.z.array(gc)}),Sc=(uc(Ic),l.z.object({x:l.z.number(),y:l.z.number()})),Rc=l.z.object({applied:l.z.literal(!1)}),Pc=l.z.object({applied:l.z.literal(!0),offset:Sc,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Vc=l.z.discriminatedUnion("applied",[Rc,Pc]),_c=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>_c))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),Lc=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:_c}),Uc=l.z.enum(["top","middle","bottom"]),Cc=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Oc=dc.extend({text:Lc,textVerticalAlign:Uc.default("top"),textPadding:Cc}),Ec=pc(Oc).extend({type:l.z.literal("text")}),Xc=(uc(Oc),Oc.extend({altText:l.z.string().nullable().default(null),dropShadow:Vc})),Fc=pc(Xc).extend({type:l.z.literal("shape")}),Dc=(uc(Xc),l.z.object({default:l.z.string()})),Ac=dc.extend({videoSources:Dc}),Tc=pc(Ac).extend({type:l.z.literal("video")}),Bc=(uc(Ac),l.z.discriminatedUnion("type",[bc,wc,Fc,Ec,Tc])),Yc=(l.z.object({blockument:kc.optional(),items:l.z.record(l.z.string(),Bc).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),kc).optional(),items:l.z.record(l.z.string(),Bc).optional()}));function Nc(e){return{...e,_v:15}}function qc(e){if(e)switch(e.type){case"star":case"plus":case"triangle":case"bookmark":case"chevron":case"octagon":case"parallelogram":case"shield":case"speechBubble":case"arrow":return{...e,cornerRounding:0};default:return e}}function $c(e){return{...e,clipDef:qc(e.clipDef)}}function Mc(e){return{...e,clipDef:qc(e.clipDef)}}function Hc(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,_v:15,states:Oe(e.states,$c,Mc)};default:throw new Error}}const Gc=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jc=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Kc=l.z.object({top:Jc.default({value:0,unit:"px"}),left:Jc.default({value:0,unit:"px"}),bottom:Jc.default({value:0,unit:"px"}),right:Jc.default({value:0,unit:"px"})}),Qc=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Wc=Qc.extend({x:Jc.default({value:0,unit:"px"}),y:Jc.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jc.default({value:100,unit:"%"}),height:Jc.default({value:100,unit:"%"}),padding:Kc,opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Zc=e=>l.z.intersection(Qc,e.partial()),em=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Zc(e))),tm=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:em(e),assets:l.z.record(l.z.string(),Gc).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(16)}),nm=(Zc(Wc),l.z.object({default:l.z.string()})),im=Wc.extend({audioSources:nm}),am=tm(im).extend({type:l.z.literal("audio")}),rm=(Zc(im),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jc.default({value:1,unit:"px"})})),om=l.z.object({x:l.z.number(),y:l.z.number()}),lm=l.z.object({applied:l.z.literal(!1)}),zm=l.z.object({applied:l.z.literal(!0),offset:om,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),dm=l.z.discriminatedUnion("applied",[lm,zm]),um=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),sm=l.z.object({opacity:l.z.number().min(0).max(1)}),pm=sm.extend({color:l.z.string().optional()}),cm=sm.extend({assetId:l.z.string().optional(),crop:um}),mm=l.z.object({type:l.z.string()}),bm=mm.extend({cornerRounding:l.z.number().min(0)}),gm=mm.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),fm=mm.extend({type:l.z.literal("ellipse")}),ym=bm.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),xm=mm.extend({type:l.z.literal("cloud")}),hm=bm.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),jm=bm.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),vm=bm.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),km=bm.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Im=bm.extend({type:l.z.literal("octagon")}),wm=bm.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Sm=bm.extend({type:l.z.literal("shield")}),Rm=bm.extend({type:l.z.literal("speechBubble")}),Pm=bm.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Vm=l.z.discriminatedUnion("type",[vm,km,xm,fm,Im,hm,gm,ym,jm,wm,Sm,Rm,Pm]),_m=l.z.object({border:rm,overlay:pm}),Lm=_m.extend({dropShadow:dm,shapeDef:Vm}),Um=l.z.object({fill:pm}),Cm=l.z.object({fill:cm}),Om=_m.extend(Um.shape).extend({}),Em=Lm.extend(Um.shape).extend({}),Xm=Lm.extend(Cm.shape).extend({}),Fm=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),Dm=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Am=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Tm=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Bm=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),Ym=l.z.discriminatedUnion("type",[Dm,Am,Tm,Bm]),Nm=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Ym)}),qm=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Fm).min(0).max(1),triggers:l.z.array(Nm),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(16)}),$m=Wc.extend(Om.shape).extend({_groupBrand:l.z.never().optional()}),Mm=tm($m).extend({type:l.z.literal("group"),children:l.z.array(Fm)}),Hm=(Zc($m),Wc.extend(Xm.shape).extend({altText:l.z.string()})),Gm=tm(Hm).extend({type:l.z.literal("image")}),Jm=(Zc(Hm),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Jm))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Km=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Jm}),Qm=l.z.enum(["top","middle","bottom"]),Wm=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Zm=Wc.extend({text:Km,textVerticalAlign:Qm.default("top"),textPadding:Wm}),eb=tm(Zm).extend({type:l.z.literal("text")}),tb=(Zc(Zm),Zm.extend(Em.shape).extend({})),nb=tm(tb).extend({type:l.z.literal("shape")}),ib=(Zc(tb),l.z.object({default:l.z.string()})),ab=Wc.extend({videoSources:ib}),rb=tm(ab).extend({type:l.z.literal("video")}),ob=(Zc(ab),l.z.discriminatedUnion("type",[am,Mm,Gm,nb,eb,rb])),lb=(l.z.object({blockument:qm.optional(),items:l.z.record(l.z.string(),ob).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),qm).optional(),items:l.z.record(l.z.string(),ob).optional()}));var zb=n(3330);function db(e){return{...e,_v:16}}function ub(e){let t;return t="group"===e.type?function(e){return e.parentId===e.blockumentId?{...e,_v:16,states:Oe(e.states,(e=>({border:{applied:!1,type:"none",color:"#000000",opacity:1,style:"solid",width:{value:1,unit:"px"}},overlay:{opacity:1},fill:{opacity:1},...e})),(e=>e))}:{...e,_v:16,states:Oe(e.states,(e=>({...e,border:{applied:!1,type:"none",color:"#000000",opacity:1,style:"solid",width:{value:1,unit:"px"}},overlay:{opacity:1},fill:{opacity:1}})),(e=>{const{border:t,overlay:n,fill:i,...a}=e;return a}))}}(e):"shape"===e.type?function(e){return"image"===e.states.default.fill.type&&e.states.default.fill.assetId&&e.assets[e.states.default.fill.assetId]?{...e,_v:16,type:"image",states:Oe(e.states,(e=>{const{clipDef:t,altText:n,...i}=e;return{...i,shapeDef:t,altText:n??""}}),(e=>{if("image"===e.fill?.type){const{clipDef:t,altText:n,...i}=e;return{...i,shapeDef:t,altText:n??void 0}}{const{border:t,overlay:n,fill:i,clipDef:a,altText:r,...o}=e;return{...o,shapeDef:a,altText:r??void 0}}}))}:{...e,_v:16,states:Oe(e.states,(e=>{const{clipDef:t,...n}=e;return{...n,shapeDef:t}}),(e=>{if("color"===e.fill?.type){const{clipDef:t,...n}=e;return{...n,shapeDef:t}}{const{border:t,overlay:n,fill:i,clipDef:a,...r}=e;return{...r,shapeDef:a}}}))}}(e):{...e,_v:16},function(e){const t=[];"audio"===e.type&&t.push(...Object.values(e.states).map((e=>e.audioSources?.default))),"video"===e.type&&t.push(...Object.values(e.states).map((e=>e.videoSources?.default))),"image"===e.type&&t.push(...Object.values(e.states).map((e=>e.fill?.assetId)));const n=new Set(t);e.assets=zb(e.assets,((e,t)=>n.has(t)))}(t),t}const sb=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),pb=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),cb=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),mb=cb.extend({x:pb.default({value:0,unit:"px"}),y:pb.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:pb.default({value:100,unit:"%"}),height:pb.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),bb=e=>l.z.intersection(cb,e.partial()),gb=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),bb(e))),fb=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:gb(e),assets:l.z.record(l.z.string(),sb).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(17)}),yb=(bb(mb),l.z.object({default:l.z.string()})),xb=mb.extend({audioSources:yb}),hb=fb(xb).extend({type:l.z.literal("audio")}),jb=(bb(xb),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:pb.default({value:1,unit:"px"})})),vb=l.z.object({x:l.z.number(),y:l.z.number()}),kb=l.z.object({applied:l.z.literal(!1)}),Ib=l.z.object({applied:l.z.literal(!0),offset:vb,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),wb=l.z.discriminatedUnion("applied",[kb,Ib]),Sb=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Rb=l.z.object({opacity:l.z.number().min(0).max(1)}),Pb=Rb.extend({color:l.z.string().optional()}),Vb=Rb.extend({assetId:l.z.string().optional(),crop:Sb}),_b=l.z.object({type:l.z.string()}),Lb=_b.extend({cornerRounding:l.z.number().min(0)}),Ub=_b.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Cb=_b.extend({type:l.z.literal("ellipse")}),Ob=Lb.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Eb=_b.extend({type:l.z.literal("cloud")}),Xb=Lb.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Fb=Lb.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Db=Lb.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Ab=Lb.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Tb=Lb.extend({type:l.z.literal("octagon")}),Bb=Lb.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Yb=Lb.extend({type:l.z.literal("shield")}),Nb=Lb.extend({type:l.z.literal("speechBubble")}),qb=Lb.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),$b=l.z.discriminatedUnion("type",[Db,Ab,Eb,Cb,Tb,Xb,Ub,Ob,Fb,Bb,Yb,Nb,qb]),Mb=l.z.object({border:jb,overlay:Pb}),Hb=Mb.extend({dropShadow:wb,shapeDef:$b}),Gb=l.z.object({fill:Pb}),Jb=l.z.object({fill:Vb}),Kb=Mb.extend(Gb.shape).extend({}),Qb=Hb.extend(Gb.shape).extend({}),Wb=Hb.extend(Jb.shape).extend({}),Zb=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),eg=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),tg=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),ng=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),ig=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),ag=l.z.discriminatedUnion("type",[eg,tg,ng,ig]),rg=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(ag)}),og=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Zb).min(0).max(1),triggers:l.z.array(rg),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(17)}),lg=mb.extend(Kb.shape).extend({_groupBrand:l.z.never().optional()}),zg=fb(lg).extend({type:l.z.literal("group"),children:l.z.array(Zb)}),dg=(bb(lg),mb.extend(Wb.shape).extend({altText:l.z.string()})),ug=fb(dg).extend({type:l.z.literal("image")}),sg=(bb(dg),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>sg))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),pg=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:sg}),cg=l.z.enum(["top","middle","bottom"]),mg=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),bg=mb.extend({text:pg,textVerticalAlign:cg.default("top"),textPadding:mg}),gg=fb(bg).extend({type:l.z.literal("text")}),fg=(bb(bg),bg.extend(Qb.shape).extend({})),yg=fb(fg).extend({type:l.z.literal("shape")}),xg=(bb(fg),l.z.object({default:l.z.string()})),hg=mb.extend({videoSources:xg}),jg=fb(hg).extend({type:l.z.literal("video")}),vg=(bb(hg),l.z.discriminatedUnion("type",[hb,zg,ug,yg,gg,jg])),kg=(l.z.object({blockument:og.optional(),items:l.z.record(l.z.string(),vg).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),og).optional(),items:l.z.record(l.z.string(),vg).optional()}));function Ig(e){return{...e,_v:17}}function wg(e){return{...e,_v:17}}const Sg=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Rg=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Pg=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Vg=Pg.extend({x:Rg.default({value:0,unit:"px"}),y:Rg.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:Rg.default({value:100,unit:"%"}),height:Rg.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),_g=e=>l.z.intersection(Pg,e.partial()),Lg=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),_g(e))),Ug=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Lg(e),assets:l.z.record(l.z.string(),Sg).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(18)}),Cg=(_g(Vg),l.z.object({default:l.z.string()})),Og=Vg.extend({audioSources:Cg}),Eg=Ug(Og).extend({type:l.z.literal("audio")}),Xg=(_g(Og),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Rg.default({value:1,unit:"px"})})),Fg=l.z.object({x:l.z.number(),y:l.z.number()}),Dg=l.z.object({applied:l.z.literal(!1)}),Ag=l.z.object({applied:l.z.literal(!0),offset:Fg,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Tg=l.z.discriminatedUnion("applied",[Dg,Ag]),Bg=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Yg=l.z.object({opacity:l.z.number().min(0).max(1)}),Ng=Yg.extend({color:l.z.string().optional()}),qg=Yg.extend({assetId:l.z.string().optional(),crop:Bg}),$g=l.z.object({type:l.z.string()}),Mg=$g.extend({cornerRounding:l.z.number().min(0)}),Hg=$g.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gg=$g.extend({type:l.z.literal("ellipse")}),Jg=Mg.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Kg=$g.extend({type:l.z.literal("cloud")}),Qg=Mg.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Wg=Mg.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Zg=Mg.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ef=Mg.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),tf=Mg.extend({type:l.z.literal("octagon")}),nf=Mg.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),af=Mg.extend({type:l.z.literal("shield")}),rf=Mg.extend({type:l.z.literal("speechBubble")}),of=Mg.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),lf=l.z.discriminatedUnion("type",[Zg,ef,Kg,Gg,tf,Qg,Hg,Jg,Wg,nf,af,rf,of]),zf=l.z.object({border:Xg,overlay:Ng}),df=zf.extend({dropShadow:Tg,shapeDef:lf}),uf=l.z.object({fill:Ng}),sf=l.z.object({fill:qg}),pf=zf.extend(uf.shape).extend({}),cf=df.extend(uf.shape).extend({}),mf=df.extend(sf.shape).extend({}),bf=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),gf=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),ff=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),yf=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),xf=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),hf=l.z.discriminatedUnion("type",[gf,ff,yf,xf]),jf=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(hf)}),vf=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bf).min(0).max(1),triggers:l.z.array(jf),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),authoringOpened:l.z.boolean(),_v:l.z.literal(18)}),kf=Vg.extend(pf.shape).extend({_groupBrand:l.z.never().optional()}),If=Ug(kf).extend({type:l.z.literal("group"),children:l.z.array(bf)}),wf=(_g(kf),Vg.extend(mf.shape).extend({altText:l.z.string()})),Sf=Ug(wf).extend({type:l.z.literal("image")}),Rf=(_g(wf),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Rf))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Pf=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Rf}),Vf=l.z.enum(["top","middle","bottom"]),_f=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Lf=Vg.extend({text:Pf,textVerticalAlign:Vf.default("top"),textPadding:_f}),Uf=Ug(Lf).extend({type:l.z.literal("text")}),Cf=(_g(Lf),Lf.extend(cf.shape).extend({})),Of=Ug(Cf).extend({type:l.z.literal("shape")}),Ef=(_g(Cf),l.z.object({default:l.z.string()})),Xf=Vg.extend({videoSources:Ef}),Ff=Ug(Xf).extend({type:l.z.literal("video")}),Df=(_g(Xf),l.z.discriminatedUnion("type",[Eg,If,Sf,Of,Uf,Ff])),Af=(l.z.object({blockument:vf.optional(),items:l.z.record(l.z.string(),Df).optional()}),l.z.object({type:l.z.literal("textStyle"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number(),fontFamily:l.z.string()})})),Tf=l.z.object({type:l.z.literal("highlight"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number()})}),Bf=l.z.object({type:l.z.literal("bold")}),Yf=l.z.object({type:l.z.literal("italic")}),Nf=l.z.object({type:l.z.literal("underline")}),qf=l.z.object({type:l.z.literal("strike")}),$f=l.z.discriminatedUnion("type",[Af,Tf,Bf,Yf,Nf,qf]),Mf=l.z.object({type:l.z.literal("hardBreak"),marks:l.z.never().optional(),content:l.z.never().optional(),text:l.z.never().optional()}),Hf=l.z.object({type:l.z.literal("text"),marks:l.z.array($f).optional(),content:l.z.never().optional(),text:l.z.string()}),Gf=l.z.discriminatedUnion("type",[Hf,Mf]),Jf=l.z.object({textAlign:l.z.enum(["left","center","right"]),lineHeight:l.z.number()}),Kf=Jf.extend({level:l.z.union([l.z.literal(2),l.z.literal(3),l.z.literal(4),l.z.literal(5),l.z.literal(6)])}),Qf=l.z.union([l.z.array(Gf),l.z.array(l.z.lazy((()=>ay)))]),Wf=l.z.object({type:l.z.string(),marks:l.z.never().optional(),content:Qf.optional(),text:l.z.never().optional()}),Zf=Wf.extend({type:l.z.literal("paragraph"),attrs:Jf}),ey=Wf.extend({type:l.z.literal("heading"),attrs:Kf}),ty=Wf.extend({type:l.z.literal("listItem")}),ny=Wf.extend({type:l.z.literal("orderedList"),attrs:l.z.object({start:l.z.number()})}),iy=Wf.extend({type:l.z.literal("bulletList")}),ay=l.z.discriminatedUnion("type",[Zf,ey,ty,ny,iy]),ry=(l.z.object({type:l.z.literal("doc"),content:l.z.array(ay)}),l.z.object({blockuments:l.z.record(l.z.string(),vf).optional(),items:l.z.record(l.z.string(),Df).optional()})),oy=ry;function ly(e){return{...e,authoringOpened:!0,_v:18}}function zy(e){return{...e,_v:18}}const dy=18,uy=[{version:3,upgrade:function({blockuments:e,items:t}){return{blockuments:Ce(e??{},(e=>({...e,_v:3}))),items:Ce(t??{},Fe)}},InputSchema:M,OutputSchema:Ue},{version:4,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:4}))),items:Ce(e.items??{},Ct)}},InputSchema:Ue,OutputSchema:Pt},{version:5,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:5}))),items:Ce(e.items??{},En)}},InputSchema:Pt,OutputSchema:Ln},{version:6,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:6}))),items:Ce(e.items??{},Di)}},InputSchema:Ln,OutputSchema:Xi},{version:7,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:7}))),items:Ce(e.items??{},Ba)}},InputSchema:Xi,OutputSchema:Aa},{version:8,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:8}))),items:Ce(e.items??{},Nr)}},InputSchema:Aa,OutputSchema:Yr},{version:9,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Mo),items:Ce(e.items??{},Ho)}},InputSchema:Yr,OutputSchema:$o},{version:10,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:10}))),items:Ce(e.items??{},Zl)}},InputSchema:$o,OutputSchema:Wl},{version:11,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},od),items:Ce(e.items??{},ld)}},InputSchema:Wl,OutputSchema:ad},{version:12,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},fu),items:Ce(e.items??{},hu)}},InputSchema:ad,OutputSchema:pu},{version:13,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},ws),items:Ce(e.items??{},Ps)}},InputSchema:pu,OutputSchema:Is},{version:14,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Cp),items:Ce(e.items??{},Xp)}},InputSchema:Is,OutputSchema:Up},{version:15,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Nc),items:Ce(e.items??{},Hc)}},InputSchema:Up,OutputSchema:Yc},{version:16,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},db),items:Ce(e.items??{},ub)}},InputSchema:Yc,OutputSchema:lb},{version:17,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Ig),items:Ce(e.items??{},wg)}},InputSchema:lb,OutputSchema:kg},{version:18,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},ly),items:Ce(e.items??{},zy)}},InputSchema:kg,OutputSchema:ry}];function sy(e){const t=by(e);return t===dy?oy.parse(e):py(t,dy)(e)}function py(e,t){return i(cy(e,t).map((({InputSchema:e,upgrade:t,OutputSchema:n})=>i(e.parse,t,n.parse))))}function cy(e,t){const n=a(e+1,t+1),i=uy.filter((({version:e})=>n.includes(e)));return r(i,"version")}function my(e){const t=uy.find((t=>t.version===e));if(!t)throw new Error("No converter found for claimed version");return t}function by(e){const t=o.B2.parse(e);let n,i;function a(e){if(e)for(const{id:t,_v:a}of Object.values(e))if(null==n)n=a,i=t;else if(n!==a)throw new Error(`Multiple versions found in manifest: { id: ${i}, _v: ${n} } and { id: ${t}, _v: ${a} }`)}return a(t.blockuments),a(t.items),n??dy}}}]);