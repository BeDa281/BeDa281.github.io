"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[728],{8761:(t,e,n)=>{n.d(e,{A:()=>l,b:()=>s});var i=n(1182),o=n.n(i),r=n(2806),a=n.n(r)()(o());a.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2, h3, h4, h5) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2, h3, h4, h5) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2, h3, h4, h5)) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2, h3, h4, h5)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);var s="hXRin0tc";const l=a},728:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Yn});var i=n(6218),o=(n(9763),n(2604)),r=n.n(o),a=n(101),s=n.n(a),l=n(5863),d=n.n(l),c=n(3124),u=n.n(c),m=n(6896),p=n.n(m),h=n(9917),f=n.n(h),g=n(8761),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=d().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=p(),r()(g.A,_),g.A&&g.A.locals&&g.A.locals;var y=n(7268);const b="isLearn",$=()=>(0,y.getContext)(b)??!1;function v(t){return`assets/${t.path}`}var x=n(9378),w=n(1120);function z(t,e,n,i){return e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}}const C=new Map,k=new Map,S="ItemRenderingContext";function A(t,e){C.set(t.id,e)}function I(t){return C.get(t.id)}function L(t){C.delete(t.id)}function E(t,e){k.set(t.id,e)}function P(t){return k.get(t.id)}function M(t){k.delete(t.id)}function R(t,e,n){return e<t?t:e>n?n:e}function j({fromPoint:t,fromValue:e,toPoint:n,toValue:i},o){const r=o.x-t.x,a=o.y-t.y,s=n.x-t.x,l=n.y-t.y,d=(r*s+a*l)/(s*s+l*l);return(1-d)*e+d*i}function T({fromPoint:t,fromValue:e,toPoint:n,toValue:i},o){const r=(o-e)/(i-e),a=1-r;return{x:t.x*a+n.x*r,y:t.y*a+n.y*r}}function H(t,e=1,n=1){const i=[];let o=0,r=0;function a(t,i){const a=t.x,s=t.y,l=`${(a-o)*e},${(s-r)*n}`;return i&&(o=a,r=s),l}function s(t,i){const a=t.x,s=t.y,l=`${a*e},${s*n}`;return i&&(o+=a,r+=s),l}for(const o of t)switch(i.push(o.cmd.toLowerCase()),o.cmd){case"M":case"L":case"T":i.push(a(o.p,!0));break;case"m":case"l":case"t":i.push(s(o.p,!0));break;case"C":i.push(a(o.c1,!1),a(o.c2,!1),a(o.p,!0));break;case"c":i.push(s(o.c1,!1),s(o.c2,!1),s(o.p,!0));break;case"S":case"Q":i.push(a(o.c,!1),a(o.p,!0));break;case"s":case"q":i.push(s(o.c,!1),s(o.p,!0));break;case"A":i.push(o.p.x*e,o.p.y*n,o.angle,+o.large,+o.sweep,a(o.p,!0));break;case"a":i.push(o.p.x,o.p.y,o.angle,+o.large,+o.sweep,s(o.p,!0))}return i.join(" ")}const V={discriminator:"bookmark",textExtents:({cutoutInset:t})=>({left:0,top:0,width:1,height:1-t}),clipPath:({cutoutInset:t},{width:e,height:n})=>H([{cmd:"M",p:{x:0,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:.5,y:1-t}},{cmd:"L",p:{x:1,y:1}},{cmd:"L",p:{x:1,y:0}},{cmd:"L",p:{x:0,y:0}},{cmd:"Z"}],e,n),getControlPoints:({cutoutInset:t},e)=>[{position:T(B(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,i)=>({...t,cutoutInset:R(0,j(B(e)[n],i),.8)})};function B({width:t,height:e}){const n=.5*t;return[{fromPoint:{x:n,y:.2*e},fromValue:.8,toPoint:{x:n,y:e},toValue:0}]}function F({width:t,height:e}){return[{fromPoint:{x:.3*t,y:.5*e},fromValue:.3,toPoint:{x:0,y:.5*e},toValue:0},{fromPoint:{x:.7*t,y:.5*e},fromValue:.7,toPoint:{x:1*t,y:.5*e},toValue:1}]}const N={discriminator:"chevron",clipPath:({insideCenterXCoord:t,outsideCornerXCoords:e},{width:n,height:i})=>H([{cmd:"M",p:{x:0,y:0}},{cmd:"L",p:{x:e,y:0}},{cmd:"L",p:{x:1,y:.5}},{cmd:"L",p:{x:e,y:1}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:t,y:.5}},{cmd:"L",p:{x:0,y:0}},{cmd:"Z"}],n,i),textExtents:({insideCenterXCoord:t,outsideCornerXCoords:e})=>({left:t,top:0,width:e-t,height:1}),getControlPoints({insideCenterXCoord:t,outsideCornerXCoords:e},n){const i=F(n);return[t,e].map(((t,e)=>({position:T(i[e],t),style:"normal"})))},dragControlPoint(t,e,n,i){const o=j(F(e)[n],i),r={...t};switch(n){case 0:r.insideCenterXCoord=R(0,o,.3);break;case 1:r.outsideCornerXCoords=R(.7,o,1)}return r}},Y=[{cmd:"M",p:{x:217.234,y:57.006}},{cmd:"C",c1:{x:217.785,y:54.084},c2:{x:218.073,y:51.069},p:{x:218.073,y:47.986}},{cmd:"C",c1:{x:218.073,y:21.4841},c2:{x:196.796,y:0},p:{x:170.549,y:0}},{cmd:"C",c1:{x:154.49,y:0},c2:{x:140.291,y:8.043},p:{x:131.689,y:20.3575}},{cmd:"C",c1:{x:123.43,y:13.3566},c2:{x:112.778,y:9.1402},p:{x:101.151,y:9.1402}},{cmd:"C",c1:{x:75.1559,y:9.1402},c2:{x:54.036,y:30.2136},p:{x:53.6331,y:56.364}},{cmd:"C",c1:{x:24.4644,y:56.364},c2:{x:.82373,y:80.235},p:{x:.82373,y:109.682}},{cmd:"C",c1:{x:.82373,y:139.129},c2:{x:24.4644,y:163},p:{x:53.6272,y:163}},{cmd:"L",p:{x:209.021,y:163}},{cmd:"C",c1:{x:238.183,y:163},c2:{x:261.824,y:139.129},p:{x:261.824,y:109.682}},{cmd:"C",c1:{x:261.824,y:83.056},c2:{x:242.496,y:60.99},p:{x:217.234,y:57.006}},{cmd:"Z"}],K={left:20/262,top:50/163,width:222/262,height:113/163},Q={discriminator:"cloud",clipPath:(t,{width:e,height:n})=>H(Y,e/262,n/163),textExtents:t=>K},O={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2},X={discriminator:"ellipse",clipPath(t,{width:e,height:n}){let i="m 0 0";return i+=` m ${e} ${n/2}`,i+=` a ${e/2} ${n/2} 0 0 1 ${-e},0`,i+=` a ${e/2} ${n/2} 0 0 1 ${e},0`,i+=" z",i},textExtents:t=>O},q={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2},D={discriminator:"octagon",clipPath(t,{width:e,height:n}){const i=Math.min(e,n)/(1+Math.SQRT2)/Math.SQRT2;return H([{cmd:"M",p:{x:i,y:0}},{cmd:"L",p:{x:e-i,y:0}},{cmd:"L",p:{x:e,y:i}},{cmd:"L",p:{x:e,y:n-i}},{cmd:"L",p:{x:e-i,y:n}},{cmd:"L",p:{x:i,y:n}},{cmd:"L",p:{x:0,y:n-i}},{cmd:"L",p:{x:0,y:i}},{cmd:"L",p:{x:i,y:0}},{cmd:"Z"}])},textExtents:t=>q},Z={discriminator:"parallelogram",textExtents:({shear:t})=>t>.45?{left:.45,top:0,width:0,height:1}:{left:t,top:0,width:1-2*t,height:1},clipPath:({shear:t},{width:e,height:n})=>H([{cmd:"M",p:{x:1,y:0}},{cmd:"L",p:{x:t,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:1-t,y:1}},{cmd:"L",p:{x:1,y:0}},{cmd:"Z"}],e,n),getControlPoints:({shear:t},e)=>[{position:T(U(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,i)=>({...t,shear:R(0,j(U(e)[n],i),.99)})};function U({width:t}){return[{fromPoint:{x:0,y:0},fromValue:0,toPoint:{x:t,y:0},toValue:1}]}const W={discriminator:"plus",textExtents:({stroke:t})=>({left:0,top:(1-t)/2,width:1,height:t}),clipPath({stroke:t},{width:e,height:n}){const i=(1-t)/2;return H([{cmd:"M",p:{x:i,y:0}},{cmd:"L",p:{x:i,y:i}},{cmd:"L",p:{x:0,y:i}},{cmd:"L",p:{x:0,y:1-i}},{cmd:"L",p:{x:i,y:1-i}},{cmd:"L",p:{x:i,y:1}},{cmd:"L",p:{x:1-i,y:1}},{cmd:"L",p:{x:1-i,y:1-i}},{cmd:"L",p:{x:1,y:1-i}},{cmd:"L",p:{x:1,y:i}},{cmd:"L",p:{x:1-i,y:i}},{cmd:"L",p:{x:1-i,y:0}},{cmd:"L",p:{x:i,y:0}},{cmd:"Z"}],e,n)},getControlPoints:({stroke:t},e)=>[{position:T(G(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,i)=>({...t,stroke:R(.01,j(G(e)[n],i),1)})};function G({width:t,height:e}){return[{fromPoint:{x:0,y:0},fromValue:1,toPoint:{x:t/2,y:e/2},toValue:0}]}const J=`url(${function(t,e){const n=[...(new TextEncoder).encode('\n<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 0 28 40" fill="none">\n  <g filter="url(#filter0_d_10962_163787)">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M4 18.5V2.5L15.6 14.1081H8.55353L8.40242 14.232L4 18.5Z" fill="white"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.7998V15.9998L7.969 13.1307L8.129 12.9916L13.165 12.9998L5 4.7998Z" fill="black"/>\n    <path d="M8.5 27.5C9.06115 27.5 9.48005 27.0493 9.51635 26.5351C9.74356 23.3161 12.3161 20.7436 15.5351 20.5163C16.0493 20.4801 16.5 20.0611 16.5 19.5C16.5 18.956 16.0524 18.4804 15.4691 18.5163C11.1973 18.7798 7.7798 22.1973 7.51632 26.4691C7.48035 27.0524 7.95597 27.5 8.5 27.5Z" fill="black" stroke="white" stroke-linejoin="round"/>\n  </g>\n  <defs>\n    <filter id="filter0_d_10962_163787" x="2.2" y="1.7" width="16.6" height="29.1" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n      <feOffset dy="1"/>\n      <feGaussianBlur stdDeviation="0.9"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.65 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_10962_163787"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_10962_163787" result="shape"/>\n    </filter>\n  </defs>\n</svg>\n')].map((t=>String.fromCharCode(t))).join("");return"data:image/svg+xml;base64,"+btoa(n)}()}) 5 5, move`,tt=["ne","nw","nw","ne"],{min:et}=Math,nt={left:0,top:0,width:1,height:1},it={topLeft:0,topRight:0,bottomRight:0,bottomLeft:0};function ot(t,e,n){return t+n<=e?t:t*e/(t+n)}function rt(t,e,n,i,o){return et(ot(n,e,t),ot(n,i,o))}function at({topLeft:t,topRight:e,bottomRight:n,bottomLeft:i},{width:o,height:r}){return{topLeft:rt(i,r,t,o,e),topRight:rt(t,o,e,r,n),bottomRight:rt(e,r,n,o,i),bottomLeft:rt(n,o,i,r,t)}}function st(t){if(!t)return!0;const{topLeft:e,topRight:n,bottomRight:i,bottomLeft:o}=t;return e===n&&e===i&&e===o}function lt({width:t,height:e}){return[{fromPoint:{x:0,y:0},fromValue:0,toPoint:{x:10,y:10},toValue:10},{fromPoint:{x:t,y:0},fromValue:0,toPoint:{x:t-10,y:10},toValue:10},{fromPoint:{x:t,y:e},fromValue:0,toPoint:{x:t-10,y:e-10},toValue:10},{fromPoint:{x:0,y:e},fromValue:0,toPoint:{x:10,y:e-10},toValue:10}]}const dt={discriminator:"rectangle",clipPath({borderRadius:t},e){const{width:n,height:i}=e;let o="m 0 0";if(t){const{topLeft:r,topRight:a,bottomRight:s,bottomLeft:l}=at(t,e);o+=` m ${r} 0`,o+=` l ${n-r-a} 0 a ${a} ${a} 0 0 1 ${a},${a}`,o+=` l 0 ${i-a-s} a ${s} ${s} 0 0 1 ${-s},${s}`,o+=` l ${s+l-n} 0 a ${l} ${l} 0 0 1 ${-l},${-l}`,o+=` l 0 ${l+r-i} a ${r} ${r} 0 0 1 ${r},${-r}`}else o+=` l ${n} 0`,o+=` l 0 ${i}`,o+=` l ${-n} 0`,o+=" l 0 "+-i;return o+=" z",o},textExtents:t=>nt,getControlPoints({borderRadius:t},e,n,i,o){const{topLeft:r,topRight:a,bottomRight:s,bottomLeft:l}=at(t??it,e),d=lt(e),c=st(o?at(o.borderRadius??it,e):t)!==i?"normal":"alternate";return[r,a,s,l].map(((t,e)=>({position:T(d[e],t),style:c,tooltip:{text:`Radius ${t.toFixed(0)}`,position:tt[e]},cursor:J})))},dragControlPoint({borderRadius:t},e,n,i,o,r){const a=lt(e)[n],{width:s,height:l}=e,d=j(a,i);let c;if(st(t)!==r){const t=R(0,d,et(l/2,s/2));c={topLeft:t,topRight:t,bottomRight:t,bottomLeft:t}}else switch(c={...t??it},n){case 0:c.topLeft=R(0,d,et(l-c.bottomLeft,s-c.topRight));break;case 1:c.topRight=R(0,d,et(s-c.topLeft,l-c.bottomRight));break;case 2:c.bottomRight=R(0,d,et(l-c.topRight,s-c.bottomLeft));break;case 3:c.bottomLeft=R(0,d,et(s-c.bottomRight,l-c.topLeft))}return{type:"rectangle",borderRadius:c}}},{PI:ct,cos:ut,sin:mt}=Math,pt=-.5*ct,ht=2*ct;function ft(t,e){return pt+ht*(t/e)}function gt(t,e){return pt+ht*((2*t+1)/(2*e))}const _t={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2};function yt({sidePairs:t},{width:e,height:n}){const i=gt(t-1,t);return{fromPoint:{x:.5*e,y:.5*n},fromValue:0,toPoint:{x:(.5*ut(i)+.5)*e,y:(.5*mt(i)+.5)*n},toValue:1}}const bt={discriminator:"star",clipPath({sidePairs:t,innerRadius:e},{width:n,height:i}){const o=[];let r=!0;function a(t,e){const n=ut(t)*e*.5+.5,i=mt(t)*e*.5+.5;o.push({cmd:r?"M":"L",p:{x:n,y:i}}),r=!1}for(let n=0;n<t;n+=1)a(ft(n,t),1),a(gt(n,t),e);return o.push({cmd:"z"}),H(o,n,i)},textExtents:t=>_t,getControlPoints:(t,e)=>[{position:T(yt(t,e),t.innerRadius),style:"normal"}],dragControlPoint(t,e,n,i){const o=j(yt(t,e),i);return{...t,innerRadius:R(.1,o,1)}}},$t={discriminator:"triangle",clipPath:(t,{width:e,height:n})=>H([{cmd:"M",p:{x:.5,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:1,y:1}},{cmd:"Z"}],e,n),textExtents:t=>({left:1/4,top:1/4,width:.5,height:.75})},vt=new Map;function xt(t){vt.set(t.discriminator,t)}function wt(t,e){return vt.get(t.type).clipPath(t,e)}xt(dt),xt(X),xt(bt),xt(Q),xt(W),xt($t),xt(V),xt(D),xt(N),xt(Z);var zt=n(4015),Ct=n.n(zt);function kt(t,e,n=Object.keys(t.states.default)){const i=t.states.default,o=structuredClone(t.states[e]);return n.reduce(((t,e)=>(Ct()(t[e])&&(t[e]=structuredClone(i[e])),t)),o)}var St=n(3134),At=n.n(St);const{Map:It}=i.globals;function Lt(t,e,n){const i=t.slice();return i[2]=e[n],i}function Et(t,e){let n,o;return{key:t,first:null,c(){n=(0,i.element)("link"),(0,i.attr)(n,"rel","prefetch"),(0,i.attr)(n,"href",o=v(e[2])),(0,i.attr)(n,"as","image"),this.first=n},m(t,e){(0,i.insert)(t,n,e)},p(t,r){e=t,1&r&&o!==(o=v(e[2]))&&(0,i.attr)(n,"href",o)},d(t){t&&(0,i.detach)(n)}}}function Pt(t){let e,n=[],o=new It,r=(0,i.ensure_array_like)(t[0].values());const a=t=>t[2].id;for(let e=0;e<r.length;e+=1){let i=Lt(t,r,e),s=a(i);o.set(s,n[e]=Et(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,i.empty)()},m(t,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,i.append)(document.head,e)},p(t,[s]){1&s&&(r=(0,i.ensure_array_like)(t[0].values()),n=(0,i.update_keyed_each)(n,s,a,1,t,r,o,e.parentNode,i.destroy_block,Et,e,Lt))},i:i.noop,o:i.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,i.detach)(e)}}}function Mt(t,e,n){let i,{items:o}=e;return t.$$set=t=>{"items"in t&&n(1,o=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=new Map(o.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[i,o]}class Rt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Mt,Pt,i.safe_not_equal,{items:1})}}const jt=Rt;function Tt(t){(0,i.append_styles)(t,"svelte-112xmrx",".mondrian__border-holder-3ExtJZ{position:absolute;pointer-events:none}svg.mondrian__border-cMEOUp{position:absolute;top:0;left:0;width:100%;height:100%}svg.mondrian__border-cMEOUp path{fill:none;stroke-linecap:round}")}function Ht(t){let e,n,o,r,a,s;return{c(){e=(0,i.element)("div"),n=(0,i.svg_element)("svg"),o=(0,i.svg_element)("path"),(0,i.attr)(o,"stroke-width",t[1]),(0,i.attr)(o,"stroke",r=t[0].color),(0,i.attr)(o,"stroke-dasharray",t[4]),(0,i.attr)(o,"d",t[5]),(0,i.attr)(n,"class","mondrian__border-cMEOUp"),(0,i.attr)(n,"viewBox",t[7]),(0,i.attr)(n,"width",a=t[3]+t[1]),(0,i.attr)(n,"height",s=t[2]+t[1]),(0,i.attr)(n,"preserveAspectRatio","none"),(0,i.set_style)(n,"opacity",t[0].opacity),(0,i.attr)(e,"class","mondrian__border-holder-3ExtJZ"),(0,i.set_style)(e,"inset",t[6])},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(n,o)},p(t,l){2&l&&(0,i.attr)(o,"stroke-width",t[1]),1&l&&r!==(r=t[0].color)&&(0,i.attr)(o,"stroke",r),16&l&&(0,i.attr)(o,"stroke-dasharray",t[4]),32&l&&(0,i.attr)(o,"d",t[5]),128&l&&(0,i.attr)(n,"viewBox",t[7]),10&l&&a!==(a=t[3]+t[1])&&(0,i.attr)(n,"width",a),6&l&&s!==(s=t[2]+t[1])&&(0,i.attr)(n,"height",s),1&l&&(0,i.set_style)(n,"opacity",t[0].opacity),64&l&&(0,i.set_style)(e,"inset",t[6])},d(t){t&&(0,i.detach)(e)}}}function Vt(t){let e,n=t[0].applied&&Ht(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){t[0].applied?n?n.p(t,i):(n=Ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}function Bt(t,e,n){let i,o,r,a,s,l,d,c,{width:u}=e,{height:m}=e,{border:p}=e,{clipDef:h}=e;return t.$$set=t=>{"width"in t&&n(8,u=t.width),"height"in t&&n(9,m=t.height),"border"in t&&n(0,p=t.border),"clipDef"in t&&n(10,h=t.clipDef)},t.$$.update=()=>{256&t.$$.dirty&&n(3,i=u.value),512&t.$$.dirty&&n(2,o=m.value),1&t.$$.dirty&&n(1,r=p.width.value),2&t.$$.dirty&&n(11,a=r/2),14&t.$$.dirty&&n(7,s=`0 0 ${i+r} ${o+r}`),2048&t.$$.dirty&&n(6,l=-a+"px"),3084&t.$$.dirty&&n(5,d=`M ${a} ${a} `+wt(h,{width:i,height:o})),3&t.$$.dirty&&n(4,c="dashed"===p.style?`${2*r} ${2*r}`:"dotted"===p.style?"0 "+2*r:void 0)},[p,r,o,i,c,d,l,s,u,m,h,a]}class Ft extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Bt,Vt,i.safe_not_equal,{width:8,height:9,border:0,clipDef:10},Tt)}}const Nt=Ft;function Yt(t){(0,i.append_styles)(t,"svelte-9hz1lu",".mondrian__fill-color-2P6gBW{stroke:none}")}function Kt(t){let e,n,o,r,a,s;return{c(){e=(0,i.svg_element)("image"),(0,i.attr)(e,"class","fill-image"),(0,i.attr)(e,"role",n=t[2]&&"img"),(0,i.attr)(e,"aria-label",t[2]),(0,i.attr)(e,"preserveAspectRatio","none"),(0,i.attr)(e,"href",t[4]),(0,i.attr)(e,"width",o=t[7]),(0,i.attr)(e,"height",r=t[8]),(0,i.attr)(e,"x",a=t[9]),(0,i.attr)(e,"y",s=t[10]),(0,i.set_style)(e,"opacity",t[3].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,l){4&l&&n!==(n=t[2]&&"img")&&(0,i.attr)(e,"role",n),4&l&&(0,i.attr)(e,"aria-label",t[2]),16&l&&(0,i.attr)(e,"href",t[4]),9&l&&o!==(o=t[7])&&(0,i.attr)(e,"width",o),10&l&&r!==(r=t[8])&&(0,i.attr)(e,"height",r),9&l&&a!==(a=t[9])&&(0,i.attr)(e,"x",a),10&l&&s!==(s=t[10])&&(0,i.attr)(e,"y",s),8&l&&(0,i.set_style)(e,"opacity",t[3].opacity)},d(t){t&&(0,i.detach)(e)}}}function Qt(t){let e,n,o;return{c(){e=(0,i.svg_element)("rect"),(0,i.attr)(e,"class","mondrian__fill-color-2P6gBW"),(0,i.attr)(e,"width",t[0]),(0,i.attr)(e,"height",t[1]),(0,i.attr)(e,"fill",n=t[3].color),(0,i.attr)(e,"opacity",o=t[3].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,r){1&r&&(0,i.attr)(e,"width",t[0]),2&r&&(0,i.attr)(e,"height",t[1]),8&r&&n!==(n=t[3].color)&&(0,i.attr)(e,"fill",n),8&r&&o!==(o=t[3].opacity)&&(0,i.attr)(e,"opacity",o)},d(t){t&&(0,i.detach)(e)}}}function Ot(t){let e;function n(t,e){return"color"===t[3].type?Qt:"image"===t[3].type?Kt:void 0}function o(t,e){return e===Kt?function(t){const e=t.slice(),n=e[3];e[6]=n.crop;const i=e[6].width*e[0];e[7]=i;const o=e[6].height*e[1];e[8]=o;const r=.5*(e[0]-e[7])+e[0]*e[6].left;e[9]=r;const a=.5*(e[1]-e[8])+e[1]*e[6].top;return e[10]=a,e}(t):t}let r=n(t),a=r&&r(o(t,r));return{c(){a&&a.c(),e=(0,i.empty)()},m(t,n){a&&a.m(t,n),(0,i.insert)(t,e,n)},p(t,[i]){r===(r=n(t))&&a?a.p(o(t,r),i):(a&&a.d(1),a=r&&r(o(t,r)),a&&(a.c(),a.m(e.parentNode,e)))},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function Xt(t,e,n){let i,{width:o}=e,{height:r}=e,{altText:a}=e,{assets:s}=e,{fill:l}=e;return t.$$set=t=>{"width"in t&&n(0,o=t.width),"height"in t&&n(1,r=t.height),"altText"in t&&n(2,a=t.altText),"assets"in t&&n(5,s=t.assets),"fill"in t&&n(3,l=t.fill)},t.$$.update=()=>{40&t.$$.dirty&&n(4,i="image"===l.type&&s?.[l.assetId]?v(s?.[l.assetId]):null)},[o,r,a,l,i,s]}class qt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Xt,Ot,i.safe_not_equal,{width:0,height:1,altText:2,assets:5,fill:3},Yt)}}const Dt=qt;function Zt(t){(0,i.append_styles)(t,"svelte-uspc47",".mondrian__mon-audio-wrapper-1N0BNV{position:absolute;inset:0}audio.mondrian__mon-item-audio-19T-ps{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function Ut(t){let e,n,o,r;return{c(){e=(0,i.element)("audio"),(0,i.attr)(e,"class","mondrian__mon-item-audio-19T-ps"),(0,i.src_url_equal)(e.src,n=t[3])||(0,i.attr)(e,"src",n),e.controls=!0},m(n,a){(0,i.insert)(n,e,a),t[7](e),o||(r=[(0,i.listen)(e,"play",t[4]),(0,i.listen)(e,"pause",t[5]),(0,i.listen)(e,"ended",t[6])],o=!0)},p(t,o){8&o&&!(0,i.src_url_equal)(e.src,n=t[3])&&(0,i.attr)(e,"src",n)},d(n){n&&(0,i.detach)(e),t[7](null),o=!1,(0,i.run_all)(r)}}}function Wt(t){let e,n,o=t[1],r=Ut(t);return{c(){e=(0,i.element)("div"),r.c(),(0,i.attr)(e,"class","mondrian__mon-audio-wrapper-1N0BNV"),(0,i.attr)(e,"data-item-id",n=t[0].id)},m(t,n){(0,i.insert)(t,e,n),r.m(e,null)},p(t,[a]){2&a&&(0,i.safe_not_equal)(o,o=t[1])?(r.d(1),r=Ut(t),r.c(),r.m(e,null)):r.p(t,a),1&a&&n!==(n=t[0].id)&&(0,i.attr)(e,"data-item-id",n)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),r.d(t)}}}function Gt(t,e,n){let o,r,{item:a}=e,{stateId:s}=e;function l(t){r.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{itemId:a.id}}))}return(0,y.onDestroy)((()=>{r&&M(a)})),t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(1,s=t.stateId)},t.$$.update=()=>{if(3&t.$$.dirty){const t=(a.states[s].audioSources??a.states.default.audioSources).default,e=t&&a.assets?.[t];n(3,o=e?v(e):void 0)}5&t.$$.dirty&&r&&E(a,r)},[a,s,r,o,function(){l(x.H5.mediaPlay)},function(){l(x.H5.mediaPause)},function(){l(x.H5.mediaEnd)},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class Jt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Gt,Wt,i.safe_not_equal,{item:0,stateId:1},Zt)}}const te=Jt;function ee(t){(0,i.append_styles)(t,"svelte-w9b72",".mondrian__mon-item-backdrop-34j2QO{position:absolute;top:0;left:0;width:100%;height:100%}.mondrian__mon-item-mouse-trigger-2KZR8D{fill:none}.mondrian__mon-item-mouse-trigger-2KZR8D.mondrian__--visible-3PgcEz{pointer-events:all}.mondrian__mon-item-mouse-trigger-2KZR8D.mondrian__--clickable-1bgRHd{cursor:pointer}")}function ne(t){let e,n;return e=new Dt({props:{width:t[4],height:t[3],altText:t[6],assets:t[0].assets,fill:t[8]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};16&n&&(i.width=t[4]),8&n&&(i.height=t[3]),64&n&&(i.altText=t[6]),1&n&&(i.assets=t[0].assets),256&n&&(i.fill=t[8]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function ie(t){let e,n;return e=new Dt({props:{width:t[4],height:t[3],assets:t[0].assets,fill:t[7]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};16&n&&(i.width=t[4]),8&n&&(i.height=t[3]),1&n&&(i.assets=t[0].assets),128&n&&(i.fill=t[7]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function oe(t){let e,n,o,r,a,s,l,d,c,u,m,p=null!=t[8]&&ne(t),h=null!=t[7]&&ie(t);return{c(){e=(0,i.svg_element)("svg"),n=(0,i.svg_element)("clipPath"),o=(0,i.svg_element)("path"),r=(0,i.svg_element)("g"),p&&p.c(),a=(0,i.empty)(),h&&h.c(),s=(0,i.svg_element)("rect"),(0,i.attr)(o,"d",t[5]),(0,i.attr)(n,"id",t[9]),(0,i.attr)(s,"class","mondrian__mon-item-mouse-trigger-2KZR8D"),(0,i.attr)(s,"width",t[4]),(0,i.attr)(s,"height",t[3]),(0,i.attr)(s,"role",l=t[2]?"button":void 0),(0,i.attr)(s,"tabindex",d=t[2]?0:void 0),(0,i.toggle_class)(s,"mondrian__--visible-3PgcEz",t[1]),(0,i.toggle_class)(s,"mondrian__--clickable-1bgRHd",t[2]),(0,i.attr)(r,"clip-path",c="url(#"+t[9]+")"),(0,i.attr)(e,"class","mondrian__mon-item-backdrop-34j2QO"),(0,i.attr)(e,"preserveAspectRatio","none"),(0,i.attr)(e,"viewBox",u="0 0 "+t[4]+" "+t[3])},m(t,l){(0,i.insert)(t,e,l),(0,i.append)(e,n),(0,i.append)(n,o),(0,i.append)(e,r),p&&p.m(r,null),(0,i.append)(r,a),h&&h.m(r,null),(0,i.append)(r,s),m=!0},p(t,[n]){(!m||32&n)&&(0,i.attr)(o,"d",t[5]),null!=t[8]?p?(p.p(t,n),256&n&&(0,i.transition_in)(p,1)):(p=ne(t),p.c(),(0,i.transition_in)(p,1),p.m(r,a)):p&&((0,i.group_outros)(),(0,i.transition_out)(p,1,1,(()=>{p=null})),(0,i.check_outros)()),null!=t[7]?h?(h.p(t,n),128&n&&(0,i.transition_in)(h,1)):(h=ie(t),h.c(),(0,i.transition_in)(h,1),h.m(r,s)):h&&((0,i.group_outros)(),(0,i.transition_out)(h,1,1,(()=>{h=null})),(0,i.check_outros)()),(!m||16&n)&&(0,i.attr)(s,"width",t[4]),(!m||8&n)&&(0,i.attr)(s,"height",t[3]),(!m||4&n&&l!==(l=t[2]?"button":void 0))&&(0,i.attr)(s,"role",l),(!m||4&n&&d!==(d=t[2]?0:void 0))&&(0,i.attr)(s,"tabindex",d),(!m||2&n)&&(0,i.toggle_class)(s,"mondrian__--visible-3PgcEz",t[1]),(!m||4&n)&&(0,i.toggle_class)(s,"mondrian__--clickable-1bgRHd",t[2]),(!m||24&n&&u!==(u="0 0 "+t[4]+" "+t[3]))&&(0,i.attr)(e,"viewBox",u)},i(t){m||((0,i.transition_in)(p),(0,i.transition_in)(h),m=!0)},o(t){(0,i.transition_out)(p),(0,i.transition_out)(h),m=!1},d(t){t&&(0,i.detach)(e),p&&p.d(),h&&h.d()}}}let re=0;function ae(t,e,n){let i,o,r,a,s,l,d,c,u,{item:m}=e,{stateId:p}=e,{visible:h}=e,{clickable:f=!1}=e;const g="mon-item-backdrop-clip-"+re++;return t.$$set=t=>{"item"in t&&n(0,m=t.item),"stateId"in t&&n(10,p=t.stateId),"visible"in t&&n(1,h=t.visible),"clickable"in t&&n(2,f=t.clickable)},t.$$.update=()=>{1&t.$$.dirty&&n(13,i=m.states.default),1025&t.$$.dirty&&n(12,o=m.states[p]),12288&t.$$.dirty&&n(11,r=o.clipDef??i.clipDef),12288&t.$$.dirty&&n(4,a=o.width?.value??i.width.value),12288&t.$$.dirty&&n(3,s=o.height?.value??i.height.value),12288&t.$$.dirty&&n(8,l=o.fill??i.fill),12288&t.$$.dirty&&n(7,d=o.overlay??i.overlay),4096&t.$$.dirty&&n(6,c="altText"in o?o.altText??void 0:void 0),2072&t.$$.dirty&&n(5,u=wt(r,{width:a,height:s}))},[m,h,f,s,a,u,c,d,l,g,p,r,o,i]}class se extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ae,oe,i.safe_not_equal,{item:0,stateId:10,visible:1,clickable:2},ee)}}const le=se;function de(t){(0,i.append_styles)(t,"svelte-11xtlh8",".mondrian__mon-item-transform-35_L4P{position:absolute;pointer-events:none}.mondrian__mon-item-transform-35_L4P.mondrian__--smooth-transitions-1R_oNu{transition:all 100ms ease}")}function ce(t){let e,n,o,r=`${t[8]}px`,a=`${t[7]}px`,s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`;const l=t[15].default,d=(0,i.create_slot)(l,t,t[14],null);return{c(){e=(0,i.element)("div"),d&&d.c(),(0,i.attr)(e,"class","mondrian__mon-item-transform-35_L4P"),(0,i.attr)(e,"data-item-id",n=t[0].id.slice(0,5)),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-1R_oNu",t[9]),(0,i.set_style)(e,"width",r),(0,i.set_style)(e,"height",a),(0,i.set_style)(e,"transform",s),(0,i.set_style)(e,"z-index",t[1])},m(t,n){(0,i.insert)(t,e,n),d&&d.m(e,null),o=!0},p(t,[c]){d&&d.p&&(!o||16384&c)&&(0,i.update_slot_base)(d,l,t,t[14],o?(0,i.get_slot_changes)(l,t[14],c,null):(0,i.get_all_dirty_from_scope)(t[14]),null),(!o||1&c&&n!==(n=t[0].id.slice(0,5)))&&(0,i.attr)(e,"data-item-id",n),256&c&&r!==(r=`${t[8]}px`)&&(0,i.set_style)(e,"width",r),128&c&&a!==(a=`${t[7]}px`)&&(0,i.set_style)(e,"height",a),124&c&&s!==(s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`)&&(0,i.set_style)(e,"transform",s),2&c&&(0,i.set_style)(e,"z-index",t[1])},i(t){o||((0,i.transition_in)(d,t),o=!0)},o(t){(0,i.transition_out)(d,t),o=!1},d(t){t&&(0,i.detach)(e),d&&d.d(t)}}}function ue(t,e,n){let i,o,r,a,s,l,d,c,{$$slots:u={},$$scope:m}=e,{item:p}=e,{stateId:h}=e,{zIndex:f}=e;const g=!(p.parentId===p.blockumentId)&&$();let _,y;return t.$$set=t=>{"item"in t&&n(0,p=t.item),"stateId"in t&&n(10,h=t.stateId),"zIndex"in t&&n(1,f=t.zIndex),"$$scope"in t&&n(14,m=t.$$scope)},t.$$.update=()=>{if(1&t.$$.dirty&&n(12,i=p.states.default),1025&t.$$.dirty&&n(13,o=p.states[h]),12288&t.$$.dirty&&n(8,r=(o.width??i.width).value),12288&t.$$.dirty&&n(7,a=(o.height??i.height).value),12288&t.$$.dirty&&n(6,s=i.x.value+(o.xOffset??0)),12288&t.$$.dirty&&n(5,l=i.y.value+(o.yOffset??0)),14340&t.$$.dirty){const t=o.rotation??i.rotation;if(null==_)n(2,y=t);else if(t!==_){let e=t-_;e>180?e-=360:e<=-180&&(e+=360),n(2,y+=e)}n(11,_=t)}12288&t.$$.dirty&&n(4,d=o.flipX??i.flipX),12288&t.$$.dirty&&n(3,c=o.flipY??i.flipY)},[p,f,y,c,d,l,s,a,r,g,h,_,i,o,m,u]}class me extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ue,ce,i.safe_not_equal,{item:0,stateId:10,zIndex:1},de)}}const pe=me;var he=n(3948);function fe(t){(0,i.append_styles)(t,"svelte-15oexdl",".mondrian__text-item-clip-3W8l4a{position:absolute;inset:0}.mondrian__text-item-clip-boundary-1Awcel{position:absolute}.mondrian__text-item-padding-boundary-1PQhi5{position:absolute;inset:0;--runoff-area:-50px}.mondrian__--padded-2F8Hsf.mondrian__text-item-padding-boundary-1PQhi5{inset:16px}.mondrian__--padded-2F8Hsf.mondrian__text-item-padding-boundary-1PQhi5.mondrian__--small-37Hevy{left:8px;right:8px}.mondrian__--padded-2F8Hsf.mondrian__text-item-padding-boundary-1PQhi5.mondrian__--large-IGC0Ql{left:32px;right:32px}.mondrian__text-item-padding-boundary-1PQhi5[data-vertical-align='top']{bottom:var(--runoff-area);--text-item-vertical-align:start}.mondrian__text-item-padding-boundary-1PQhi5[data-vertical-align='middle']{top:var(--runoff-area);bottom:var(--runoff-area);--text-item-vertical-align:center}.mondrian__text-item-padding-boundary-1PQhi5[data-vertical-align='bottom']{top:var(--runoff-area);--text-item-vertical-align:end}.mondrian__text-item-padding-boundary-1PQhi5 .tiptap{align-content:var(--text-item-vertical-align)}")}function ge(t){let e,n,o,r,a,s=`calc(${t[2].left} * 100%)`,l=`calc(${t[2].top} * 100%)`,d=`calc(${t[2].width} * 100%)`,c=`calc(${t[2].height} * 100%)`;const u=t[6].default,m=(0,i.create_slot)(u,t,t[5],null);return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.element)("div"),m&&m.c(),(0,i.attr)(o,"class","mondrian__text-item-padding-boundary-1PQhi5"),(0,i.attr)(o,"data-vertical-align",r=t[1].textVerticalAlign),(0,i.toggle_class)(o,"mondrian__--small-37Hevy",t[3]<=100),(0,i.toggle_class)(o,"mondrian__--large-IGC0Ql",t[3]>300),(0,i.toggle_class)(o,"mondrian__--padded-2F8Hsf","shape"===t[0].type),(0,i.attr)(n,"class","mondrian__text-item-clip-boundary-1Awcel"),(0,i.set_style)(n,"left",s),(0,i.set_style)(n,"top",l),(0,i.set_style)(n,"width",d),(0,i.set_style)(n,"height",c),(0,i.attr)(e,"class","mondrian__text-item-clip-3W8l4a")},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(n,o),m&&m.m(o,null),a=!0},p(t,[e]){m&&m.p&&(!a||32&e)&&(0,i.update_slot_base)(m,u,t,t[5],a?(0,i.get_slot_changes)(u,t[5],e,null):(0,i.get_all_dirty_from_scope)(t[5]),null),(!a||2&e&&r!==(r=t[1].textVerticalAlign))&&(0,i.attr)(o,"data-vertical-align",r),(!a||8&e)&&(0,i.toggle_class)(o,"mondrian__--small-37Hevy",t[3]<=100),(!a||8&e)&&(0,i.toggle_class)(o,"mondrian__--large-IGC0Ql",t[3]>300),(!a||1&e)&&(0,i.toggle_class)(o,"mondrian__--padded-2F8Hsf","shape"===t[0].type),4&e&&s!==(s=`calc(${t[2].left} * 100%)`)&&(0,i.set_style)(n,"left",s),4&e&&l!==(l=`calc(${t[2].top} * 100%)`)&&(0,i.set_style)(n,"top",l),4&e&&d!==(d=`calc(${t[2].width} * 100%)`)&&(0,i.set_style)(n,"width",d),4&e&&c!==(c=`calc(${t[2].height} * 100%)`)&&(0,i.set_style)(n,"height",c)},i(t){a||((0,i.transition_in)(m,t),a=!0)},o(t){(0,i.transition_out)(m,t),a=!1},d(t){t&&(0,i.detach)(e),m&&m.d(t)}}}function _e(t,e,n){let i,o,r,{$$slots:a={},$$scope:s}=e,{item:l}=e,{stateId:d}=e;return t.$$set=t=>{"item"in t&&n(0,l=t.item),"stateId"in t&&n(4,d=t.stateId),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{var e;17&t.$$.dirty&&n(1,i=kt(l,d)),2&t.$$.dirty&&n(3,o=i.width.value),2&t.$$.dirty&&n(2,(e=i.clipDef,r=vt.get(e.type).textExtents(e)))},[l,i,r,o,d,s,a]}class ye extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,_e,ge,i.safe_not_equal,{item:0,stateId:4},fe)}}const be=ye;function $e(t){(0,i.append_styles)(t,"svelte-16jaz98",".mondrian__content-wrapper-YDBsV{height:100%}.mondrian__content-1sMUPZ p:empty{min-height:1lh}.mondrian__content-1sMUPZ{word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;font-variant-ligatures:none;font-feature-settings:'liga' 0}")}function ve(t){let e,n,o,r=(0,he.Z)(t[2],x.Al)+"";return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap ProseMirror mondrian__content-1sMUPZ"),(0,i.attr)(e,"class",o=Ue+" mondrian__content-wrapper-YDBsV")},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n),n.innerHTML=r},p(t,e){4&e&&r!==(r=(0,he.Z)(t[2],x.Al)+"")&&(n.innerHTML=r)},d(t){t&&(0,i.detach)(e)}}}function xe(t){let e,n;return e=new be({props:{item:t[0],stateId:t[1],$$slots:{default:[ve]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),12&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function we(t,e,n){let i,{item:o}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item),"stateId"in t&&n(1,r=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(2,i=o.states[r].text?.json??o.states.default.text.json)},[o,r,i]}class ze extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,we,xe,i.safe_not_equal,{item:0,stateId:1},$e)}}const Ce=ze;function ke(t){(0,i.append_styles)(t,"svelte-vg4dc1",".mondrian__mon-video-wrapper-37dPyY{position:absolute;inset:0}video.mondrian__mon-item-video-1Wv5W4{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function Se(t){let e,n,o,r;return{c(){e=(0,i.element)("video"),(0,i.attr)(e,"class","mondrian__mon-item-video-1Wv5W4"),(0,i.src_url_equal)(e.src,n=t[3])||(0,i.attr)(e,"src",n),e.controls=!0},m(n,a){(0,i.insert)(n,e,a),t[7](e),o||(r=[(0,i.listen)(e,"play",t[4]),(0,i.listen)(e,"pause",t[5]),(0,i.listen)(e,"ended",t[6])],o=!0)},p(t,o){8&o&&!(0,i.src_url_equal)(e.src,n=t[3])&&(0,i.attr)(e,"src",n)},d(n){n&&(0,i.detach)(e),t[7](null),o=!1,(0,i.run_all)(r)}}}function Ae(t){let e,n,o=t[1],r=Se(t);return{c(){e=(0,i.element)("div"),r.c(),(0,i.attr)(e,"class","mondrian__mon-video-wrapper-37dPyY"),(0,i.attr)(e,"data-item-id",n=t[0].id)},m(t,n){(0,i.insert)(t,e,n),r.m(e,null)},p(t,[a]){2&a&&(0,i.safe_not_equal)(o,o=t[1])?(r.d(1),r=Se(t),r.c(),r.m(e,null)):r.p(t,a),1&a&&n!==(n=t[0].id)&&(0,i.attr)(e,"data-item-id",n)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),r.d(t)}}}function Ie(t,e,n){let o,r,{item:a}=e,{stateId:s}=e;function l(t){r.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{itemId:a.id}}))}return(0,y.onDestroy)((()=>{r&&L(a)})),t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(1,s=t.stateId)},t.$$.update=()=>{if(3&t.$$.dirty){const t=(a.states[s].videoSources??a.states.default.videoSources).default,e=t&&a.assets?.[t];n(3,o=e?v(e):void 0)}5&t.$$.dirty&&r&&A(a,r)},[a,s,r,o,function(){l(x.H5.mediaPlay)},function(){l(x.H5.mediaPause)},function(){l(x.H5.mediaEnd)},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class Le extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ie,Ae,i.safe_not_equal,{item:0,stateId:1},ke)}}const Ee=Le;function Pe(t){(0,i.append_styles)(t,"svelte-1xuhpbp",".mondrian__mon-item-2qYEoK{position:absolute;inset:0}.mondrian__mon-item-2qYEoK.mondrian__--smooth-transitions-fWIe80{transition:opacity 100ms ease}.mondrian__mon-item-2qYEoK.mondrian__--hidden-s36Wik{opacity:0}.mondrian__mon-item-children-3w5s3j{isolation:isolate}")}function Me(t,e,n){const i=t.slice();return i[21]=e[n],i[0]=n,i}function Re(t){let e,n,o=[],r=new Map,a=(0,i.ensure_array_like)(t[9]);const s=t=>t[21].id;for(let e=0;e<a.length;e+=1){let n=Me(t,a,e),i=s(n);r.set(i,o[e]=je(i,n))}return{c(){e=(0,i.element)("div");for(let t=0;t<o.length;t+=1)o[t].c();(0,i.attr)(e,"class","mondrian__mon-item-children-3w5s3j")},m(t,r){(0,i.insert)(t,e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,n){512&n&&(a=(0,i.ensure_array_like)(t[9]),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,t,a,r,e,i.outro_and_destroy_block,je,null,Me),(0,i.check_outros)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,i.transition_in)(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,i.transition_out)(o[t]);n=!1},d(t){t&&(0,i.detach)(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function je(t,e){let n,o,r;return o=new Ke({props:{itemId:e[21].id,index:e[0]}}),{key:t,first:null,c(){n=(0,i.empty)(),(0,i.create_component)(o.$$.fragment),this.first=n},m(t,e){(0,i.insert)(t,n,e),(0,i.mount_component)(o,t,e),r=!0},p(t,n){e=t;const i={};512&n&&(i.itemId=e[21].id),512&n&&(i.index=e[0]),o.$set(i)},i(t){r||((0,i.transition_in)(o.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(o.$$.fragment,t),r=!1},d(t){t&&(0,i.detach)(n),(0,i.destroy_component)(o,t)}}}function Te(t){let e,n;return e=new Ce({props:{item:t[8],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};256&n&&(i.item=t[8]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function He(t){let e,n;return e=new Ee({props:{item:t[7],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};128&n&&(i.item=t[7]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ve(t){let e,n;return e=new te({props:{item:t[6],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};64&n&&(i.item=t[6]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Be(t){let e,n,o,r,a,s,l,d,c,u,m,p,h,f;n=new le({props:{item:t[3],stateId:t[4],visible:t[11],clickable:t[5]}}),r=new Nt({props:{width:t[2].width,height:t[2].height,border:t[2].border,clipDef:t[10]}});let g=t[9]&&Re(t),_=t[8]&&Te(t),y=t[7]&&He(t),b=t[6]&&Ve(t);return{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),o=(0,i.space)(),(0,i.create_component)(r.$$.fragment),a=(0,i.space)(),g&&g.c(),s=(0,i.space)(),_&&_.c(),l=(0,i.space)(),y&&y.c(),d=(0,i.space)(),b&&b.c(),(0,i.attr)(e,"class","mondrian__mon-item-2qYEoK"),e.inert=c=!t[11],(0,i.attr)(e,"aria-hidden",u=!t[11]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-fWIe80",t[17]),(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},m(c,u){(0,i.insert)(c,e,u),(0,i.mount_component)(n,e,null),(0,i.append)(e,o),(0,i.mount_component)(r,e,null),(0,i.append)(e,a),g&&g.m(e,null),(0,i.append)(e,s),_&&_.m(e,null),(0,i.append)(e,l),y&&y.m(e,null),(0,i.append)(e,d),b&&b.m(e,null),p=!0,h||(f=(0,i.action_destroyer)(m=t[12].call(null,e,{item:t[3],triggers:t[1]})),h=!0)},p(t,o){const a={};8&o&&(a.item=t[3]),16&o&&(a.stateId=t[4]),2048&o&&(a.visible=t[11]),32&o&&(a.clickable=t[5]),n.$set(a);const h={};4&o&&(h.width=t[2].width),4&o&&(h.height=t[2].height),4&o&&(h.border=t[2].border),1024&o&&(h.clipDef=t[10]),r.$set(h),t[9]?g?(g.p(t,o),512&o&&(0,i.transition_in)(g,1)):(g=Re(t),g.c(),(0,i.transition_in)(g,1),g.m(e,s)):g&&((0,i.group_outros)(),(0,i.transition_out)(g,1,1,(()=>{g=null})),(0,i.check_outros)()),t[8]?_?(_.p(t,o),256&o&&(0,i.transition_in)(_,1)):(_=Te(t),_.c(),(0,i.transition_in)(_,1),_.m(e,l)):_&&((0,i.group_outros)(),(0,i.transition_out)(_,1,1,(()=>{_=null})),(0,i.check_outros)()),t[7]?y?(y.p(t,o),128&o&&(0,i.transition_in)(y,1)):(y=He(t),y.c(),(0,i.transition_in)(y,1),y.m(e,d)):y&&((0,i.group_outros)(),(0,i.transition_out)(y,1,1,(()=>{y=null})),(0,i.check_outros)()),t[6]?b?(b.p(t,o),64&o&&(0,i.transition_in)(b,1)):(b=Ve(t),b.c(),(0,i.transition_in)(b,1),b.m(e,null)):b&&((0,i.group_outros)(),(0,i.transition_out)(b,1,1,(()=>{b=null})),(0,i.check_outros)()),(!p||2048&o&&c!==(c=!t[11]))&&(e.inert=c),(!p||2048&o&&u!==(u=!t[11]))&&(0,i.attr)(e,"aria-hidden",u),m&&(0,i.is_function)(m.update)&&10&o&&m.update.call(null,{item:t[3],triggers:t[1]}),(!p||2048&o)&&(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},i(t){p||((0,i.transition_in)(n.$$.fragment,t),(0,i.transition_in)(r.$$.fragment,t),(0,i.transition_in)(g),(0,i.transition_in)(_),(0,i.transition_in)(y),(0,i.transition_in)(b),p=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),(0,i.transition_out)(r.$$.fragment,t),(0,i.transition_out)(g),(0,i.transition_out)(_),(0,i.transition_out)(y),(0,i.transition_out)(b),p=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),(0,i.destroy_component)(r),g&&g.d(),_&&_.d(),y&&y.d(),b&&b.d(),h=!1,f()}}}function Fe(t){let e,n;return e=new pe({props:{item:t[3],stateId:t[4],zIndex:null!=t[0]?-t[0]:void 0,$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};8&n&&(i.item=t[3]),16&n&&(i.stateId=t[4]),1&n&&(i.zIndex=null!=t[0]?-t[0]:void 0),8392702&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ne({event:t}){return"click"===t}function Ye(t,e,n){let o,r,a,s,l,d,c,u,m,p,h,f,{itemId:g}=e,{index:_}=e;const b=function(){const t=(0,y.getContext)(S);if(!t)throw new Error("This component must be provided with an ItemRenderingContext");return t}(),{bindTriggers:v}=b,x=b.getItem(g);(0,i.component_subscribe)(t,x,(t=>n(3,m=t)));const w=b.getState(g);(0,i.component_subscribe)(t,w,(t=>n(4,h=t)));const z=b.getVisible(g);(0,i.component_subscribe)(t,z,(t=>n(11,f=t)));const C=b.getTriggersBySourceId();(0,i.component_subscribe)(t,C,(t=>n(19,p=t)));const k=$();return t.$$set=t=>{"itemId"in t&&n(18,g=t.itemId),"index"in t&&n(0,_=t.index)},t.$$.update=()=>{24&t.$$.dirty&&n(2,o=kt(m,h)),4&t.$$.dirty&&n(10,r=o.clipDef),12&t.$$.dirty&&n(9,a="group"===m.type?o.children:void 0),8&t.$$.dirty&&n(8,s="shape"===m.type||"text"===m.type?m:void 0),8&t.$$.dirty&&n(7,l="video"===m.type?m:void 0),8&t.$$.dirty&&n(6,d="audio"===m.type?m:void 0),524296&t.$$.dirty&&n(1,c=p.get(m.id)??[]),2&t.$$.dirty&&n(5,u=c.some(Ne))},[_,c,o,m,h,u,d,l,s,a,r,f,v,x,w,z,C,k,g,p]}class Ke extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ye,Fe,i.safe_not_equal,{itemId:18,index:0},Pe)}}const Qe=Ke;function Oe(t){(0,i.append_styles)(t,"svelte-12myuju",":root{--mon-color-border:var(--art-color-border-standard);--mon-color-border-selected:var(--art-color-brand-root);--mon-color-primary:var(--art-color-blue-600);--mon-color-secondary:var(--art-color-blue-500);--mon-opacity-inert:var(--art-alpha-50);--mon-color-input:var(--art-color-alpha-black-03);--mon-z-index-select:3000;--mon-z-index-popover:3100;--mon-z-index-context-menu:3200;--mon-z-index-tooltip:4000;--mon-z-index-toast:5000;--mon-input-padding:var(--art-space-0-75) var(--art-space-1);--mon-input-height:3.2rem;--mon-focus-outline-width:0.2rem;--mon-input-hover-box-shadow:inset 0 0 0 0.1rem\n      var(--art-color-border-stark);--mon-input-focus-box-shadow:inset 0 0 0 var(--mon-focus-outline-width)\n      var(--art-color-border-focus);--mon-button-hover-background:var(--art-color-alpha-black-05);--mon-button-active-background:var(--art-color-alpha-black-10)}.mondrian__ui-theme-b7yCKN{font-family:var(--art-font-family-body);font-size:var(--art-font-size-14)}.mondrian__ui-theme-b7yCKN *,.mondrian__ui-theme-b7yCKN *::before,.mondrian__ui-theme-b7yCKN *::after{box-sizing:border-box;font-synthesis:none}.mondrian__ui-theme-b7yCKN :where(button, input, textarea){font-family:inherit}.mon-sr-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}:where(.mon-focusable){border-radius:var(--art-border-radius-sm)}:where(.mon-focusable:not(:disabled, :has(:disabled)):hover){box-shadow:inset 0 0 0 0.1rem var(--art-color-neutral-100)}\n      :where(\n          .mon-focusable:is(:focus-visible, :has(:focus-visible), .--mon-open)\n        )\n    {box-shadow:var(--mon-input-focus-box-shadow)}.mon-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}")}function Xe(t){let e,n;const o=t[1].default,r=(0,i.create_slot)(o,t,t[0],null);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__ui-theme-b7yCKN")},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[e]){r&&r.p&&(!n||1&e)&&(0,i.update_slot_base)(r,o,t,t[0],n?(0,i.get_slot_changes)(o,t[0],e,null):(0,i.get_all_dirty_from_scope)(t[0]),null)},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function qe(t,e,n){let{$$slots:i={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}class De extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,qe,Xe,i.safe_not_equal,{},Oe)}}const Ze=De,Ue=g.b;(0,w.writable)(!1);const We=['input:not([type="checkbox"], [type="radio"])',"art-asset-library","textarea","[contenteditable]"].join(", ");var Ge=n(9205);const Je=n.n(Ge)()("mondrian").extend("keyboard"),tn={activeModifierKeys:new Set,get alt(){return tn.activeModifierKeys.has("Alt")},get meta(){return tn.activeModifierKeys.has("Meta")||tn.activeModifierKeys.has("Control")},get shift(){return tn.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[tn.meta&&"Meta",tn.alt&&"Alt",tn.shift&&"Shift",tn.key].filter(Boolean).join("+")}};function en({metaKey:t,altKey:e,shiftKey:n,ctrlKey:i},o){let r=!1;return t!==o.has("Meta")&&(r=!0,t?o.add("Meta"):o.delete("Meta")),e!==o.has("Alt")&&(r=!0,e?o.add("Alt"):o.delete("Alt")),n!==o.has("Shift")&&(r=!0,n?o.add("Shift"):o.delete("Shift")),i!==o.has("Control")&&(r=!0,i?o.add("Control"):o.delete("Control")),r}let nn=!1;const on={...(0,w.readable)(tn,(t=>{function e(e){const n="keydown"===e.type;en(e,tn.activeModifierKeys),tn.key=n?e.key:void 0,t(tn)}function n(e){en(e,tn.activeModifierKeys)&&t(tn)}nn||(nn=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(tn.activeModifierKeys.clear(),tn.key=void 0,t(tn))})),window.addEventListener("blur",(function(){tn.activeModifierKeys.clear(),tn.key=void 0,t(tn)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(tn.combo&&Je(`comparing keycombos, store: ${tn.combo}, comparison: ${t}`),tn.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{!function(){const{activeElement:t}=document;return null!=t&&!!t.matches(We)}()&&on.is(t)&&(Je("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},rn=((0,w.derived)(on,(t=>t.meta)),(0,w.derived)(on,(t=>t.alt)),(0,w.derived)(on,(t=>t.shift)),{down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1}),an=((0,w.readable)(rn,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function e(t){rn.down=!0,rn.downX=rn.x=t.clientX,rn.downY=rn.y=t.clientY,rn.target=t.target,o()}function n(){rn.down=!1,rn.downX=rn.x=rn.downY=rn.y=-1,rn.target=void 0,o()}function i(t){rn.x=t.x,rn.y=t.y,o()}function o(){t(rn)}})),"mondrian-suspense");n(2466),i.SvelteComponent,n(2732);var sn=n(5494);const ln={nw:"top-end",n:"top",ne:"top-start",sw:"bottom-end",s:"bottom",se:"bottom-start"},dn=new ResizeObserver(hn);let cn,un,mn;function pn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===cn)return;un&&(un.removeAttribute("data-active"),dn.unobserve(un));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return cn=void 0,void(un=void 0);n.setAttribute("data-active","true"),n.showPopover(),cn=e,un=n,mn=un.querySelector("[data-mon-tooltip-arrow]"),hn(),dn.observe(un)}async function hn(){if(cn&&un){const{x:t,y:e,middlewareData:n}=await(0,sn.rD)(cn,un,{middleware:[(0,sn.cY)(5),(0,sn.UU)(),(0,sn.BN)(),(0,sn.UE)({element:mn})],strategy:"fixed",placement:ln[un.getAttribute("data-position")]});if(un.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;mn.style.left=null!=t?`${t}px`:"",mn.style.top=null!=e?`${e}px`:""}}}function fn(t){(0,i.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",pn,{passive:!0}),document.documentElement.addEventListener("mouseleave",pn,{passive:!0}),document.addEventListener("scroll",hn,{passive:!0,capture:!0}),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const gn=t=>({isLoading:1&t}),_n=t=>({isLoading:t[0]});function yn(t){let e,n;const o=t[2].default,r=(0,i.create_slot)(o,t,t[1],_n);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||3&a)&&(0,i.update_slot_base)(r,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],a,gn):(0,i.get_all_dirty_from_scope)(t[1]),_n),(!n||1&a)&&(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function bn(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=function(){const t=new Set;return(0,y.setContext)(an,t),t}();let a=!0;return(0,y.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[a,o,i]}class $n extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,bn,yn,i.safe_not_equal,{},fn)}}const vn=$n;i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;var xn=n(4993),wn=n.n(xn);const zn=(t,{item:e,triggers:n})=>{function i(i,o={}){n.filter((t=>t.event===i)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...o})}))}const o=[...new Set(n.map((t=>t.event)))].map((e=>{switch(e){case x.H5.hover:{let n=!1;return[z("mouseenter",t,(t=>{n||(n=!0,i(e,{hovered:n}))})),z("mouseleave",t,(t=>{n&&(n=!1,i(e,{hovered:n}))}))]}case x.H5.click:return[z("click",t,(t=>{i(e)})),z("keyup",t,(t=>{["Space","Enter"].includes(t.code)&&t.target===document.activeElement&&i(e)}))];case x.H5.mediaPlay:case x.H5.mediaPause:case x.H5.mediaEnd:return z(e,t,(t=>{i(e)}));default:return z(e,t,(()=>{i(e)}))}})).flat(2).filter(Boolean);return{destroy(){o.forEach((t=>{t()}))}}},Cn=(t,{items:e,currentStates:n,currentVisibles:i,triggers:o})=>{const r=At()(o,"sourceId"),a={[x.zw.changeState](t,i,o){const r="self"===t.targetId?o:e[t.targetId];!1===i.hovered?n.get(r.id)?.revert(t.targetState):n.get(r.id)?.set(t.targetState)},[x.zw.changeVisibility](t,n,o){const r="self"===t.targetId?o:e[t.targetId];!1===n.hovered?i.get(r.id)?.set(!t.targetVisibility):i.get(r.id)?.set(t.targetVisibility)},[x.zw.mediaPause](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"===o.type){const t=I(o);if(!t)return;t.pause()}else if("audio"===o.type){const t=P(o);if(!t)return;t.pause()}},[x.zw.mediaPlay](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"===o.type){const t=I(o);if(!t)return;t.play()}else if("audio"===o.type){const t=P(o);if(!t)return;t.play()}},[x.zw.mediaEnd](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"===o.type){const t=I(o);if(!t)return;t.currentTime=t.duration,t.pause()}else if("audio"===o.type){const t=P(o);if(!t)return;t.currentTime=t.duration,t.pause()}}},s=z("trigger",t,(t=>{const{itemId:n,triggerId:i,...o}=t.detail,s=e[n];if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const l=r[s.id]?.find((t=>t.id===i));if(!l)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const d=a[l.action];if(!d)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${l.action}' action could not be found.`);d(l,o,s)}));return{destroy(){s()}}},kn=function(){const t=(0,w.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:i}=t,o=new Map;return{subscribe:e,set:n,update:i,addManifest:(t,e)=>{o.set(t,e),r()},removeManifest:t=>{o.delete(t),r()}};function r(){n((0,x.tr)(...o.values()))}}();function Sn(t){(0,i.append_styles)(t,"svelte-16ijcvp",".mondrian__preview-L_XOPz{display:flex;justify-content:center;align-items:center;position:relative;width:100%}.mondrian__preview--empty-1j7eyn{background-color:var(--art-color-neutral-050)}.mondrian__item-wrapper-2afgtL{transform-origin:center;position:relative;overflow:hidden}.mondrian__width-gauge-1yjeUe{position:absolute;width:100%}")}function An(t){let e,n;return e=new jt({props:{items:t[13]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};8192&n[0]&&(i.items=t[13]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function In(t){let e,n;return e=new vn({props:{$$slots:{default:[Mn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};4092&n[0]|2&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ln(t){let e,n,o,r;return{c(){e=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(t[0]),r=(0,i.text)(" could not be loaded")},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),(0,i.append)(e,o),(0,i.append)(e,r)},p(t,e){1&e[0]&&(0,i.set_data)(o,t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function En(t){let e,n,o,r,a,s,l,d=`${t[6]}px`,c=`${t[5]}px`;return n=new Qe({props:{itemId:t[4]}}),{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),(0,i.attr)(e,"class","mondrian__item-wrapper-2afgtL"),(0,i.attr)(e,"role","region"),(0,i.attr)(e,"aria-label",o=t[3].title),(0,i.attr)(e,"aria-live",t[11]),(0,i.set_style)(e,"width",d),(0,i.set_style)(e,"height",c)},m(o,d){(0,i.insert)(o,e,d),(0,i.mount_component)(n,e,null),a=!0,s||(l=[(0,i.listen)(e,"focus",t[18]),(0,i.listen)(e,"blur",t[19]),(0,i.listen)(e,"focusin",t[18]),(0,i.listen)(e,"mouseover",t[18]),(0,i.listen)(e,"mouseout",t[19]),(0,i.listen)(e,"focusout",t[19]),(0,i.action_destroyer)(r=Cn.call(null,e,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}))],s=!0)},p(t,s){const l={};16&s[0]&&(l.itemId=t[4]),n.$set(l),(!a||8&s[0]&&o!==(o=t[3].title))&&(0,i.attr)(e,"aria-label",o),(!a||2048&s[0])&&(0,i.attr)(e,"aria-live",t[11]),r&&(0,i.is_function)(r.update)&&136&s[0]&&r.update.call(null,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}),64&s[0]&&d!==(d=`${t[6]}px`)&&(0,i.set_style)(e,"width",d),32&s[0]&&c!==(c=`${t[5]}px`)&&(0,i.set_style)(e,"height",c)},i(t){a||((0,i.transition_in)(n.$$.fragment,t),a=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),a=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),s=!1,(0,i.run_all)(l)}}}function Pn(t){let e,n,o,r,a,s,l,d,c,u,m,p=`scale(${t[10]})`,h=`${t[6]}px`,f=`${t[5]}px`,g=(t[5]??500)*t[10]+"px";return s=new Qe({props:{itemId:t[4]}}),{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.space)(),r=(0,i.element)("div"),a=(0,i.element)("div"),(0,i.create_component)(s.$$.fragment),(0,i.attr)(n,"class","mondrian__width-gauge-1yjeUe"),(0,i.attr)(a,"class","mondrian__item-wrapper-2afgtL"),(0,i.attr)(a,"role","region"),(0,i.attr)(a,"aria-label",l=t[3].title),(0,i.attr)(a,"aria-live",t[11]),(0,i.set_style)(a,"transform",p),(0,i.set_style)(a,"width",h),(0,i.set_style)(a,"height",f),(0,i.attr)(e,"class","mondrian__preview-L_XOPz"),(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),(0,i.set_style)(e,"height",g)},m(l,p){(0,i.insert)(l,e,p),(0,i.append)(e,n),t[25](n),(0,i.append)(e,o),(0,i.append)(e,r),(0,i.append)(r,a),(0,i.mount_component)(s,a,null),c=!0,u||(m=[(0,i.listen)(a,"focus",t[18]),(0,i.listen)(a,"blur",t[19]),(0,i.listen)(a,"focusin",t[18]),(0,i.listen)(a,"mouseover",t[18]),(0,i.listen)(a,"mouseout",t[19]),(0,i.listen)(a,"focusout",t[19]),(0,i.action_destroyer)(d=Cn.call(null,a,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}))],u=!0)},p(t,n){const o={};16&n[0]&&(o.itemId=t[4]),s.$set(o),(!c||8&n[0]&&l!==(l=t[3].title))&&(0,i.attr)(a,"aria-label",l),(!c||2048&n[0])&&(0,i.attr)(a,"aria-live",t[11]),d&&(0,i.is_function)(d.update)&&136&n[0]&&d.update.call(null,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}),1024&n[0]&&p!==(p=`scale(${t[10]})`)&&(0,i.set_style)(a,"transform",p),64&n[0]&&h!==(h=`${t[6]}px`)&&(0,i.set_style)(a,"width",h),32&n[0]&&f!==(f=`${t[5]}px`)&&(0,i.set_style)(a,"height",f),(!c||256&n[0])&&(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),1056&n[0]&&g!==(g=(t[5]??500)*t[10]+"px")&&(0,i.set_style)(e,"height",g)},i(t){c||((0,i.transition_in)(s.$$.fragment,t),c=!0)},o(t){(0,i.transition_out)(s.$$.fragment,t),c=!1},d(n){n&&(0,i.detach)(e),t[25](null),(0,i.destroy_component)(s),u=!1,(0,i.run_all)(m)}}}function Mn(t){let e,n,o,r;const a=[Pn,En],s=[];function l(t,e){return t[2]?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),o=(0,i.empty)()},m(t,n){s[e].m(t,n),(0,i.insert)(t,o,n),r=!0},p(t,r){let d=e;e=l(t),e===d?s[e].p(t,r):((0,i.group_outros)(),(0,i.transition_out)(s[d],1,1,(()=>{s[d]=null})),(0,i.check_outros)(),n=s[e],n?n.p(t,r):(n=s[e]=a[e](t),n.c()),(0,i.transition_in)(n,1),n.m(o.parentNode,o))},i(t){r||((0,i.transition_in)(n),r=!0)},o(t){(0,i.transition_out)(n),r=!1},d(t){t&&(0,i.detach)(o),s[e].d(t)}}}function Rn(t){let e,n,o,r,a,s=t[1]&&An(t);const l=[Ln,In],d=[];function c(t,e){return void 0===t[3]||void 0===t[4]?0:1}return n=c(t),o=d[n]=l[n](t),{c(){s&&s.c(),e=(0,i.space)(),o.c(),r=(0,i.empty)()},m(t,o){s&&s.m(t,o),(0,i.insert)(t,e,o),d[n].m(t,o),(0,i.insert)(t,r,o),a=!0},p(t,a){t[1]?s?(s.p(t,a),2&a[0]&&(0,i.transition_in)(s,1)):(s=An(t),s.c(),(0,i.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,i.group_outros)(),(0,i.transition_out)(s,1,1,(()=>{s=null})),(0,i.check_outros)());let u=n;n=c(t),n===u?d[n].p(t,a):((0,i.group_outros)(),(0,i.transition_out)(d[u],1,1,(()=>{d[u]=null})),(0,i.check_outros)(),o=d[n],o?o.p(t,a):(o=d[n]=l[n](t),o.c()),(0,i.transition_in)(o,1),o.m(r.parentNode,r))},i(t){a||((0,i.transition_in)(s),(0,i.transition_in)(o),a=!0)},o(t){(0,i.transition_out)(s),(0,i.transition_out)(o),a=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(r)),s&&s.d(t),d[n].d(t)}}}function jn(t){let e,n;return e=new Ze({props:{$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};12287&n[0]|2&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Tn(t,e,n){let o,r,a,s,l,d,c,u=i.noop;t.$$.on_destroy.push((()=>u()));let{manifest:m}=e,{blockumentId:p}=e,{prefetch:h=!0}=e,{autoSize:f=!0}=e;(0,y.setContext)(b,!0);const g=Symbol("LearnComponent");let _,$,v=!1;const x=function(){const t=new Map;return{...(0,w.writable)(t),add:(e,n)=>(t.has(e)||t.set(e,function(t){let e,n,i;t.subscribe((t=>{e=t}));const o=(0,w.writable)(e);o.subscribe((t=>{n=i??e,i=t}));const r={...o,revert(t){i===t&&r.set(n)},reset(){r.set(e)}};return r}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No state found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),z=function(){const t=new Map;return{...(0,w.writable)(t),upsert(e,n){if(!t.has(e)){const i=function(t){const e={...(0,w.writable)(t),show(){e.set(!0)},hide(){e.set(!1)},reset(){e.set(t)}};return e}(n);return t.set(e,i),i}const i=t.get(e);return i.set(n),i},get(e){if(!t.has(e))throw new Error(`No visibility found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),C=(0,w.writable)(new Map),k=(0,w.writable)({});(0,i.component_subscribe)(t,k,(t=>n(7,d=t)));const R=(0,w.derived)(k,(t=>Object.values(t)));(0,i.component_subscribe)(t,R,(t=>n(13,c=t))),(0,w.derived)([C,R],(([t,e])=>({triggers:t,items:e}))).subscribe((({items:t})=>{t.forEach((t=>{x.add(t.id,(0,w.readable)(t.initialState)),z.upsert(t.id,t.initialVisible)})),z.resetAll(),x.resetAll()}));const j={getTriggersBySourceId:()=>(0,w.readonly)(C),getItem:t=>(0,w.derived)(k,(e=>e[t])),getState:t=>x.get(t),getVisible:t=>z.get(t),bindTriggers:zn,registerVideoElement(t,e){A(t,e)},getVideoElement:t=>I(t),unregisterVideoElement(t){L(t)},registerAudioElement(t,e){E(t,e)},getAudioElement:t=>P(t),unregisterAudioElement(t){M(t)}};var T;let H;T=j,(0,y.setContext)(S,T),(0,y.onMount)((()=>{z.resetAll();const t=new ResizeObserver((()=>{H&&N()}));return H&&t.observe(H),()=>{t.disconnect()}})),(0,y.onDestroy)((()=>{kn.removeManifest(g)}));let V,B,F=1;function N(){if(!($&&H&&l&&f&&a&&s))return;const t=H.offsetWidth;n(10,F=Math.min(1,t/a))}let Y="off";const K=wn()((t=>{n(11,Y=t?"polite":"off")}),100,{maxWait:500,trailing:!0});return t.$$set=t=>{"manifest"in t&&n(20,m=t.manifest),"blockumentId"in t&&n(0,p=t.blockumentId),"prefetch"in t&&n(1,h=t.prefetch),"autoSize"in t&&n(2,f=t.autoSize)},t.$$.update=()=>{if(1048585&t.$$.dirty[0]){const t=function(t,e){const n=structuredClone(t.items)??{};for(const t in n)n[t].blockumentId!==e&&delete n[t];return n}(m,p);n(3,_=m.blockuments?.[p]),n(4,$=_?.children[0]?.id),n(8,v=1===Object.keys(t).length),kn.addManifest(g,m),C.set((e=_?.triggers??[],new Map(Object.entries(At()(e,(t=>t.sourceId??"none")))))),k.set(t)}var e;16&t.$$.dirty[0]&&(n(12,o=$?x.get($):void 0),u(),u=(0,i.subscribe)(o,(t=>n(24,l=t)))),16777360&t.$$.dirty[0]&&n(23,r=$&&d[$]&&l?kt(d[$],l,["width","height"]):void 0),8388608&t.$$.dirty[0]&&n(6,a=r?.width.value),8388608&t.$$.dirty[0]&&n(5,s=r?.height.value),6291552&t.$$.dirty[0]&&(V===a&&B===s||(n(21,V=a),n(22,B=s),N()))},[p,h,f,_,$,s,a,d,v,H,F,Y,o,c,x,z,k,R,function(){K(!0)},function(){K(!1)},m,V,B,r,l,function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{H=t,n(9,H)}))}]}class Hn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Tn,jn,i.safe_not_equal,{manifest:20,blockumentId:0,prefetch:1,autoSize:2},Sn,[-1,-1])}}const Vn=Hn;var Bn=n(6170),Fn=n.n(Bn);const Nn=((t,e={width:"100%"},n="div")=>i=>{const o=(0,Bn.useRef)(null),r=(0,Bn.useRef)(null);return(0,Bn.useEffect)((()=>(r.current=new t({target:o.current,props:i}),()=>{r.current?.$destroy()})),[]),(0,Bn.useEffect)((()=>{r.current?.$set(i)}),[i]),Fn().createElement(n,{ref:o,style:e})})(Vn),Yn=t=>{const{manifest:e,...n}=t,i=(0,Bn.useMemo)((()=>{const t=x.S0.safeParse(e);if(t.success)return t.data}),[e]);return i?Fn().createElement(Nn,{manifest:i,...n}):null}},9378:(t,e,n)=>{n.d(e,{Mw:()=>o,un:()=>r,S0:()=>i.S0,zw:()=>i.zw,H5:()=>i.H5,tr:()=>y,Al:()=>j});var i=n(587);n(9840);const o={top:20,left:20,bottom:20,right:20},r={top:0,left:0,bottom:0,right:0};var a=n(4198),s=n(2559);const l=14,d=1.2,c="merriweather",u="lato",m="#000000",p={2:{fontSize:24,lineHeight:1.4,fontFamily:u},3:{fontSize:18,lineHeight:1.4,fontFamily:u},4:{fontSize:16,lineHeight:1.3,fontFamily:u},5:{fontSize:14,lineHeight:1.3,fontFamily:u}};function h({tr:t}){const{$head:e}=t.selection;return t.setSelection(new s.U3(t.doc.resolve(e.start()),t.doc.resolve(e.end()))),!0}function f(t,e,n){const i=n.getAttributes("textStyle").color,o=n.getAttributes("paragraph").textAlign||n.getAttributes("heading").textAlign||"left";if(t=t.command(h).unsetMark("textStyle").unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),"paragraph"===e)t=t.setParagraph().setTextSize(l).setLineHeight(d).setFontFamily(c);else{const n=parseInt(e.substring(1)),i=p[n];t=t.setHeading({level:n}).setTextSize(i.fontSize).setLineHeight(i.lineHeight).setFontFamily(i.fontFamily)}return(t=t.setColor(i)).setTextAlign(o)}function g(t,e){const n=t.chain(),i=t.isActive("heading"),o=i?t.getAttributes("heading").level:null,r=e.startsWith("h")?parseInt(e.substring(1)):null;if(i&&o===r)return f(n,"paragraph",t).run();const{$head:a}=t.state.selection,s=0===a.parent.content.size;let d=f(n,e,t);if(s)if("paragraph"===e)d=d.setTextSize(l).setFontFamily(c).setColor(m);else{const t=parseInt(e.substring(1)),n=p[t];d=d.setTextSize(n.fontSize).setFontFamily(n.fontFamily).setColor(m)}return d.run()}const _=a.YY.create({name:"headingShortcuts",addKeyboardShortcuts(){return{"Mod-Alt-2":()=>g(this.editor,"h2"),"Mod-Alt-3":()=>g(this.editor,"h3"),"Mod-Alt-4":()=>g(this.editor,"h4"),"Mod-Alt-5":()=>g(this.editor,"h5")}}});function y(...t){const e={blockuments:{},items:{}};for(const n of t)Object.assign(e.blockuments,n.blockuments),Object.assign(e.items,n.items);return e}var b=n(4717),$=n(3004),v=n(4758),x=n(2359),w=n(31),z=n(2740),C=n(5873),k=n(9395);const S=/([a-z%]+)\s*$/i,A=a.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle","highlight"],attributes:{textSize:{default:l,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const i=S.exec(e);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e,editor:n})=>{const i=n.isActive("highlight"),o=e().setMark("textStyle",{textSize:t});return i&&o.setMark("highlight",{textSize:t}),o.run()}})}),I=a.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph","heading"],attributes:{lineHeight:{default:d,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>{const n=e.updateAttributes("paragraph",{lineHeight:t}),i=e.updateAttributes("heading",{lineHeight:t});return n&&i}})}),L=a.YY.create({name:"fontFamily",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{fontFamily:{default:c,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}],addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run()})});b.A.configure({types:["textStyle"]});const E=a.YY.create({name:"init",addCommands:()=>({initFontFamily:()=>({chain:t})=>t().setFontFamily(c).run(),initLineHeight:()=>({chain:t})=>t().setLineHeight(d).run(),initTextSize:()=>({chain:t})=>t().setTextSize(l).run(),initColor:()=>({chain:t})=>t().setColor(m).run()})}),P="latestDefocusedSelectionDecoration",M=a.YY.create({name:P,addProseMirrorPlugins:()=>[new s.k_({key:new s.hs(P),state:{init:t=>C.zF.empty,apply(t,e){const{doc:n,selection:i}=t,o=t.getMeta(P),r=i&&i.from!==i.to;if(!r||"focus"===o?.action)return C.zF.empty;if(r&&"blur"===o?.action){const t=C.NZ.inline(i.from,i.to,{class:"latest-defocused-selection",nodeName:"mark"});return C.zF.create(n,[t])}return e}},props:{decorations(t){return this.getState(t)},handleDOMEvents:{blur(t){const{tr:e}=t.state,n=e.setMeta(P,{from:e.selection.from,to:e.selection.to,action:"blur"});t.dispatch(n)},focus(t){const{tr:e}=t.state,n=e.setMeta(P,{from:e.selection.from,to:e.selection.to,action:"focus"});t.dispatch(n)}}}})]}),R=a.YY.create({name:"clearMarksOnEnter",addKeyboardShortcuts(){return{Enter:()=>{const{state:t}=this.editor,{selection:e}=t,{$from:n,empty:i}=e;if(!i)return!1;const o=n.parent;if("heading"!==o.type.name)return!1;const r=n.marks().filter((t=>"textStyle"===t.type.name));let a=null;r.length>0&&(a=r[0].attrs.color||null);const s=o.attrs.textAlign||"left";let l=this.editor.chain().splitBlock().setParagraph().setTextAlign(s);return l=l.unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),l=a?l.setMark("textStyle",{color:a}):l.unsetMark("textStyle"),l.run()}}}}),j=[k.A.configure({history:!1,heading:{levels:[2,3,4,5]}}),x.A.configure({types:["heading","paragraph"]}),$.Ay.configure({multicolor:!0}),_,R,w.A,b.A,A,I,z.A,v.A,L,E,M];(0,a._w)(j);var T=n(6195);class H extends T.z.ZodType{constructor(t){super({}),this._object=t}_parse(t){const e={},{data:n}=t;if(n&&"object"==typeof n&&!Array.isArray(n))for(const[t,i]of Object.entries(this._object.shape))if(Object.hasOwn(n,t)){const o=n[t],r=i.safeParse(o);r.success&&(e[t]=r.data)}return{status:"valid",value:e}}}function V(t){return new H(t)}const B=T.z.object({accentContrast:T.z.string(),allowSearch:T.z.boolean(),animateBlockEntrance:T.z.boolean(),blockPaddingBottom:T.z.number(),blockPaddingTop:T.z.number(),bodyTypefaceId:T.z.string(),buttonInlineStyle:T.z.string(),buttonNavigationStyle:T.z.string(),buttonScheme:T.z.string(),colorAccent:T.z.string(),compactShowLessonCount:T.z.boolean(),coverImage:T.z.string(),coverImageAlpha:T.z.number(),coverImageDefault:T.z.string(),coverPageType:T.z.string(),customColorLessonHeaderContrast:T.z.string(),enableVideoPlaybackSpeed:T.z.boolean(),headingTypefaceId:T.z.string(),hideLessonHeaders:T.z.boolean(),lessonHeaderColor:T.z.string().nullable(),lessonHeaderImage:T.z.string(),lessonHeaderImageAlpha:T.z.number(),lessonHeaderImageColor:T.z.string(),lessonHeaderSize:T.z.string(),lessonHeaderStyle:T.z.string(),markLessonsComplete:T.z.boolean(),navigation:T.z.boolean(),navigationRestricted:T.z.boolean(),navigationStyle:T.z.string(),showAuthor:T.z.boolean(),showLessonCount:T.z.boolean(),showNavigationButtons:T.z.boolean(),sidebarStartsOpen:T.z.boolean(),themeId:T.z.string(),uiTypefaceId:T.z.string()}),F=T.z.enum(["bold","regular","light","italic","black","semibold","semibolditalic","bolditalic","medium"]),N=T.z.object({id:T.z.string(),key:T.z.string(),original:T.z.string().nullable(),style:F}),Y=T.z.object({id:T.z.string(),name:T.z.string(),author:T.z.string().nullable(),createdAt:T.z.string(),default:T.z.boolean(),fonts:T.z.record(N)}),K=T.z.record(Y),Q=T.z.union([T.z.boolean(),T.z.number(),T.z.string()]),O=T.z.record(Q),X=T.z.object({backgroundColor:T.z.string().optional()});V(T.z.object({theme:V(B),typefaces:K,featureFlags:O,block:X}))},587:(t,e,n)=>{n.d(e,{pL:()=>et,S0:()=>nt,zw:()=>ot,H5:()=>it});var i=n(6195);const o=i.z.object({id:i.z.string(),path:i.z.string(),name:i.z.string(),width:i.z.number().optional(),height:i.z.number().optional()}),r=i.z.object({unit:i.z.enum(["px","%","auto","fr"]),value:i.z.number()}),a=i.z.object({applied:i.z.boolean().default(!1),type:i.z.enum(["none","fill"]).default("none"),color:i.z.string().default("#000000"),opacity:i.z.number().default(1),style:i.z.enum(["solid","dashed","dotted"]).default("solid"),width:r.default({value:1,unit:"px"})}),s=i.z.object({assetId:i.z.string().optional(),color:i.z.string().optional(),opacity:i.z.number().min(0).max(1).default(1)}),l=s.extend({type:i.z.literal("color"),color:i.z.string().default("#e4e4e4")}),d=i.z.object({width:i.z.number(),height:i.z.number(),left:i.z.number(),top:i.z.number()}),c=s.extend({type:i.z.literal("image"),assetId:i.z.string(),crop:d.default({width:1,height:1,left:0,top:0})}),u=s.extend({type:i.z.literal("none")}),m=i.z.discriminatedUnion("type",[l,c,u]),p=i.z.discriminatedUnion("type",[l,u]),h=i.z.object({top:r.default({value:0,unit:"px"}),left:r.default({value:0,unit:"px"}),bottom:r.default({value:0,unit:"px"}),right:r.default({value:0,unit:"px"})}),f=i.z.object({type:i.z.literal("rectangle"),borderRadius:i.z.object({topLeft:i.z.number(),topRight:i.z.number(),bottomRight:i.z.number(),bottomLeft:i.z.number()}).optional()}),g=i.z.object({type:i.z.literal("ellipse")}),_=i.z.object({type:i.z.literal("star"),sidePairs:i.z.number().min(3),innerRadius:i.z.number().min(.1).max(1)}),y=i.z.object({type:i.z.literal("cloud")}),b=i.z.object({type:i.z.literal("plus"),stroke:i.z.number().min(.01).max(1)}),$=i.z.object({type:i.z.literal("triangle")}),v=i.z.object({type:i.z.literal("bookmark"),cutoutInset:i.z.number().min(0).max(.8)}),x=i.z.object({type:i.z.literal("chevron"),outsideCornerXCoords:i.z.number().min(.7).max(1),insideCenterXCoord:i.z.number().min(0).max(.3)}),w=i.z.object({type:i.z.literal("octagon")}),z=i.z.object({type:i.z.literal("parallelogram"),shear:i.z.number().min(0).max(1)}),C=i.z.discriminatedUnion("type",[v,x,y,g,w,b,f,_,$,z]),k=i.z.object({id:i.z.string(),name:i.z.string().max(128)}),S=k.extend({x:r.default({value:0,unit:"px"}),y:r.default({value:0,unit:"px"}),xOffset:i.z.number().default(0),yOffset:i.z.number().default(0),position:i.z.literal("absolute").default("absolute"),width:r.default({value:100,unit:"%"}),height:r.default({value:100,unit:"%"}),padding:h,fill:m,overlay:p,aspectRatioLocked:i.z.boolean(),border:a,clipDef:C.default({type:"rectangle"}),rotation:i.z.number().default(0),flipX:i.z.boolean().default(!1),flipY:i.z.boolean().default(!1),authoringAspectRatioCropLock:i.z.enum(["freeform","preset","none"])}),A=t=>i.z.intersection(k,t.partial()),I=t=>i.z.intersection(i.z.object({default:t}),i.z.record(A(t))),L=t=>i.z.object({id:i.z.string(),blockumentId:i.z.string(),clonedFromId:i.z.string().optional(),parentId:i.z.string(),type:i.z.string(),name:i.z.string().max(128),tagName:i.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:i.z.boolean().default(!1),authoringVisible:i.z.boolean().default(!0),initialVisible:i.z.boolean().default(!0),initialState:i.z.string().default("default"),states:I(t),assets:i.z.record(o).default({}).optional(),removed:i.z.boolean().default(!1),_v:i.z.literal(6)}),E=(A(S),i.z.object({default:i.z.string()})),P=S.extend({audioSources:E}),M=L(P).extend({type:i.z.literal("audio")}),R=(A(P),i.z.object({id:i.z.string(),clonedFromId:i.z.string().optional(),state:i.z.string(),visible:i.z.boolean()})),j=i.z.object({id:i.z.string(),event:i.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:i.z.string().optional()}),T=j.extend({action:i.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:i.z.string()}),H=j.extend({action:i.z.literal("changeState"),targetId:i.z.string(),targetState:i.z.string().default("default")}),V=j.extend({action:i.z.literal("changeVisibility"),targetId:i.z.string(),targetVisibility:i.z.boolean()}),B=i.z.discriminatedUnion("action",[H,V,T]),F=i.z.object({id:i.z.string(),title:i.z.string().max(255),children:i.z.array(R).max(1),triggers:i.z.array(B),fonts:i.z.record(i.z.string()).optional(),_v:i.z.literal(6)}),N=S.extend({children:i.z.array(R)}),Y=L(N).extend({type:i.z.literal("group")}),K=(A(N),i.z.intersection(i.z.object({type:i.z.string().optional(),attrs:i.z.record(i.z.any()).optional(),content:i.z.array(i.z.lazy((()=>K))).optional(),marks:i.z.array(i.z.intersection(i.z.object({type:i.z.string(),attrs:i.z.record(i.z.any()).optional()}),i.z.record(i.z.any()))).optional(),text:i.z.string().optional()}),i.z.record(i.z.any()))),Q=i.z.object({id:i.z.string(),type:i.z.literal("tiptap"),json:K}),O=i.z.enum(["top","middle","bottom"]),X=i.z.object({top:i.z.number(),left:i.z.number(),bottom:i.z.number(),right:i.z.number()}),q=S.extend({text:Q,textVerticalAlign:O.default("top"),textPadding:X}),D=L(q).extend({type:i.z.literal("text")}),Z=(A(q),q.extend({altText:i.z.string().nullable().default(null)})),U=L(Z).extend({type:i.z.literal("shape")}),W=(A(Z),i.z.object({default:i.z.string()})),G=S.extend({videoSources:W}),J=L(G).extend({type:i.z.literal("video")}),tt=(A(G),i.z.discriminatedUnion("type",[M,Y,U,D,J])),et=i.z.object({blockuments:i.z.record(F).optional(),items:i.z.record(tt).optional()}),nt=(i.z.object({id:i.z.string(),blockumentId:i.z.string(),name:i.z.string().max(128)}),et),it={click:"click",hover:"hover",mediaPlay:"mediaPlay",mediaPause:"mediaPause",mediaEnd:"mediaEnd"},ot={changeState:"changeState",changeVisibility:"changeVisibility",mediaPause:"mediaPause",mediaPlay:"mediaPlay",mediaEnd:"mediaEnd"}}}]);