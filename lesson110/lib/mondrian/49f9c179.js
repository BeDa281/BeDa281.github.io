"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[388],{8761:(t,e,n)=>{n.d(e,{A:()=>l,b:()=>s});var o=n(1182),i=n.n(o),r=n(2806),a=n.n(r)()(i());a.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  min-height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2, h3, h4, h5) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2, h3, h4, h5) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  min-height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2, h3, h4, h5)) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2, h3, h4, h5)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);var s="hXRin0tc";const l=a},6388:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Qn});var o=n(6218),i=(n(9763),n(2604)),r=n.n(i),a=n(101),s=n.n(a),l=n(5863),d=n.n(l),c=n(3124),u=n.n(c),m=n(6896),p=n.n(m),h=n(9917),f=n.n(h),g=n(8761),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=d().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=p(),r()(g.A,y),g.A&&g.A.locals&&g.A.locals;var _=n(7268);const b="isLearn",v=()=>(0,_.getContext)(b)??!1;function x(t){return`assets/${t.path}`}var $=n(9378),w=n(1120);function z(t,e,n,o){return e.addEventListener(t,n,o),()=>{e.removeEventListener(t,n,o)}}const C=new Map,A=new Map,k="ItemRenderingContext";function L(t,e){C.set(t.id,e)}function S(t){return C.get(t.id)}function E(t){C.delete(t.id)}function I(t,e){A.set(t.id,e)}function P(t){return A.get(t.id)}function M(t){A.delete(t.id)}const T=(()=>{const t=document.createElement("div");t.style.visibility="hidden",t.style.overflowX="hidden",t.style.overflowY="scroll",document.body.appendChild(t);const e=t.offsetWidth-t.scrollWidth;return t.remove(),e})();function R(t,e,n){return e<t?t:e>n?n:e}function H({fromPoint:t,fromValue:e,toPoint:n,toValue:o},i){const r=i.x-t.x,a=i.y-t.y,s=n.x-t.x,l=n.y-t.y,d=(r*s+a*l)/(s*s+l*l);return(1-d)*e+d*o}function j({fromPoint:t,fromValue:e,toPoint:n,toValue:o},i){const r=(i-e)/(o-e),a=1-r;return{x:t.x*a+n.x*r,y:t.y*a+n.y*r}}function V({fromPoint:t,i:e,j:n},o){const i=j({fromPoint:t,...e},o.x),r=j({fromPoint:t,...n},o.y);return{x:i.x+r.x-t.x,y:i.y+r.y-t.y}}function B(t,e=1,n=1){const o=[];let i=0,r=0;function a(t,o){const a=t.x,s=t.y,l=`${(a-i)*e},${(s-r)*n}`;return o&&(i=a,r=s),l}function s(t,o){const a=t.x,s=t.y,l=`${a*e},${s*n}`;return o&&(i+=a,r+=s),l}for(const l of t)switch(o.push(l.cmd.toLowerCase()),l.cmd){case"M":case"L":case"T":o.push(a(l.p,!0));break;case"m":case"l":case"t":o.push(s(l.p,!0));break;case"H":o.push(a({x:l.v,y:r},!0));break;case"V":o.push(a({x:i,y:l.v},!0));break;case"h":o.push(s({x:l.v,y:0},!0));break;case"v":o.push(s({x:0,y:l.v},!0));break;case"C":o.push(a(l.c1,!1),a(l.c2,!1),a(l.p,!0));break;case"c":o.push(s(l.c1,!1),s(l.c2,!1),s(l.p,!0));break;case"S":case"Q":o.push(a(l.c,!1),a(l.p,!0));break;case"s":case"q":o.push(s(l.c,!1),s(l.p,!0));break;case"A":o.push(l.radius.x*e,l.radius.y*n,l.angle,+l.large,+l.sweep,a(l.p,!0));break;case"a":o.push(l.radius.x,l.radius.y,l.angle,+l.large,+l.sweep,s(l.p,!0))}return o.join(" ")}function D({width:t,height:e}){return{fromPoint:{x:0,y:0},i:{fromValue:1,toPoint:{x:t,y:0},toValue:0},j:{fromValue:.5,toPoint:{x:0,y:e},toValue:-.5}}}document.body.style.setProperty("--ua-scrollbar-width",`${T}px`);const N={discriminator:"arrow",clipPath({thickness:t,headLength:e},{width:n,height:o}){const i=1-e;return B([{cmd:"M",p:{x:0,y:.5-t}},{cmd:"H",v:i},{cmd:"V",v:0},{cmd:"L",p:{x:1,y:.5}},{cmd:"L",p:{x:i,y:1}},{cmd:"V",v:.5+t},{cmd:"H",v:0},{cmd:"Z"}],n,o)},textExtents({thickness:t,headLength:e}){const n=.5-t;return{left:0,top:n,width:2*n*e+(1-e),height:.5+t-n}},getControlPoints:({thickness:t,headLength:e},n,o,i,r)=>[{position:V(D(n),{x:e,y:t}),style:"normal"}],dragControlPoint({thickness:t,headLength:e},n,o,i,r,a){const s=function({fromPoint:t,i:e,j:n},o){return{x:H({fromPoint:t,...e},o),y:H({fromPoint:t,...n},o)}}(D(n),i);return{type:"arrow",thickness:R(.1,s.y,.5),headLength:R(.1,s.x,.9)}}},O={discriminator:"bookmark",textExtents:({cutoutInset:t})=>({left:0,top:0,width:1,height:1-t}),clipPath:({cutoutInset:t},{width:e,height:n})=>B([{cmd:"M",p:{x:0,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:.5,y:1-t}},{cmd:"L",p:{x:1,y:1}},{cmd:"L",p:{x:1,y:0}},{cmd:"L",p:{x:0,y:0}},{cmd:"Z"}],e,n),getControlPoints:({cutoutInset:t},e)=>[{position:j(F(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,o)=>({...t,cutoutInset:R(0,H(F(e)[n],o),.8)})};function F({width:t,height:e}){const n=.5*t;return[{fromPoint:{x:n,y:.2*e},fromValue:.8,toPoint:{x:n,y:e},toValue:0}]}function Y({width:t,height:e}){return[{fromPoint:{x:.3*t,y:.5*e},fromValue:.3,toPoint:{x:0,y:.5*e},toValue:0},{fromPoint:{x:.7*t,y:.5*e},fromValue:.7,toPoint:{x:1*t,y:.5*e},toValue:1}]}const K={discriminator:"chevron",clipPath:({insideCenterXCoord:t,outsideCornerXCoords:e},{width:n,height:o})=>B([{cmd:"M",p:{x:0,y:0}},{cmd:"L",p:{x:e,y:0}},{cmd:"L",p:{x:1,y:.5}},{cmd:"L",p:{x:e,y:1}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:t,y:.5}},{cmd:"L",p:{x:0,y:0}},{cmd:"Z"}],n,o),textExtents:({insideCenterXCoord:t,outsideCornerXCoords:e})=>({left:t,top:0,width:e-t,height:1}),getControlPoints({insideCenterXCoord:t,outsideCornerXCoords:e},n){const o=Y(n);return[t,e].map(((t,e)=>({position:j(o[e],t),style:"normal"})))},dragControlPoint(t,e,n,o){const i=H(Y(e)[n],o),r={...t};switch(n){case 0:r.insideCenterXCoord=R(0,i,.3);break;case 1:r.outsideCornerXCoords=R(.7,i,1)}return r}},G=[{cmd:"M",p:{x:217.234,y:57.006}},{cmd:"C",c1:{x:217.785,y:54.084},c2:{x:218.073,y:51.069},p:{x:218.073,y:47.986}},{cmd:"C",c1:{x:218.073,y:21.4841},c2:{x:196.796,y:0},p:{x:170.549,y:0}},{cmd:"C",c1:{x:154.49,y:0},c2:{x:140.291,y:8.043},p:{x:131.689,y:20.3575}},{cmd:"C",c1:{x:123.43,y:13.3566},c2:{x:112.778,y:9.1402},p:{x:101.151,y:9.1402}},{cmd:"C",c1:{x:75.1559,y:9.1402},c2:{x:54.036,y:30.2136},p:{x:53.6331,y:56.364}},{cmd:"C",c1:{x:24.4644,y:56.364},c2:{x:.82373,y:80.235},p:{x:.82373,y:109.682}},{cmd:"C",c1:{x:.82373,y:139.129},c2:{x:24.4644,y:163},p:{x:53.6272,y:163}},{cmd:"L",p:{x:209.021,y:163}},{cmd:"C",c1:{x:238.183,y:163},c2:{x:261.824,y:139.129},p:{x:261.824,y:109.682}},{cmd:"C",c1:{x:261.824,y:83.056},c2:{x:242.496,y:60.99},p:{x:217.234,y:57.006}},{cmd:"Z"}],q={left:20/262,top:50/163,width:222/262,height:113/163},W={discriminator:"cloud",clipPath:(t,{width:e,height:n})=>B(G,e/262,n/163),textExtents:t=>q},U={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2},X={discriminator:"ellipse",clipPath(t,{width:e,height:n}){let o="m 0 0";return o+=` m ${e} ${n/2}`,o+=` a ${e/2} ${n/2} 0 0 1 ${-e},0`,o+=` a ${e/2} ${n/2} 0 0 1 ${e},0`,o+=" z",o},textExtents:t=>U},Z={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2},Q={discriminator:"octagon",clipPath(t,{width:e,height:n}){const o=Math.min(e,n)/(1+Math.SQRT2)/Math.SQRT2;return B([{cmd:"M",p:{x:o,y:0}},{cmd:"L",p:{x:e-o,y:0}},{cmd:"L",p:{x:e,y:o}},{cmd:"L",p:{x:e,y:n-o}},{cmd:"L",p:{x:e-o,y:n}},{cmd:"L",p:{x:o,y:n}},{cmd:"L",p:{x:0,y:n-o}},{cmd:"L",p:{x:0,y:o}},{cmd:"L",p:{x:o,y:0}},{cmd:"Z"}])},textExtents:t=>Z},J={discriminator:"parallelogram",textExtents:({shear:t})=>t>.45?{left:.45,top:0,width:0,height:1}:{left:t,top:0,width:1-2*t,height:1},clipPath:({shear:t},{width:e,height:n})=>B([{cmd:"M",p:{x:1,y:0}},{cmd:"L",p:{x:t,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:1-t,y:1}},{cmd:"L",p:{x:1,y:0}},{cmd:"Z"}],e,n),getControlPoints:({shear:t},e)=>[{position:j(tt(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,o)=>({...t,shear:R(0,H(tt(e)[n],o),.99)})};function tt({width:t}){return[{fromPoint:{x:0,y:0},fromValue:0,toPoint:{x:t,y:0},toValue:1}]}const et={discriminator:"plus",textExtents:({stroke:t})=>({left:0,top:(1-t)/2,width:1,height:t}),clipPath({stroke:t},{width:e,height:n}){const o=(1-t)/2;return B([{cmd:"M",p:{x:o,y:0}},{cmd:"L",p:{x:o,y:o}},{cmd:"L",p:{x:0,y:o}},{cmd:"L",p:{x:0,y:1-o}},{cmd:"L",p:{x:o,y:1-o}},{cmd:"L",p:{x:o,y:1}},{cmd:"L",p:{x:1-o,y:1}},{cmd:"L",p:{x:1-o,y:1-o}},{cmd:"L",p:{x:1,y:1-o}},{cmd:"L",p:{x:1,y:o}},{cmd:"L",p:{x:1-o,y:o}},{cmd:"L",p:{x:1-o,y:0}},{cmd:"L",p:{x:o,y:0}},{cmd:"Z"}],e,n)},getControlPoints:({stroke:t},e)=>[{position:j(nt(e)[0],t),style:"normal"}],dragControlPoint:(t,e,n,o)=>({...t,stroke:R(.01,H(nt(e)[n],o),1)})};function nt({width:t,height:e}){return[{fromPoint:{x:0,y:0},fromValue:1,toPoint:{x:t/2,y:e/2},toValue:0}]}const ot=`url(${function(t,e){const n=[...(new TextEncoder).encode('\n<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 0 28 40" fill="none">\n  <g filter="url(#filter0_d_10962_163787)">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M4 18.5V2.5L15.6 14.1081H8.55353L8.40242 14.232L4 18.5Z" fill="white"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.7998V15.9998L7.969 13.1307L8.129 12.9916L13.165 12.9998L5 4.7998Z" fill="black"/>\n    <path d="M8.5 27.5C9.06115 27.5 9.48005 27.0493 9.51635 26.5351C9.74356 23.3161 12.3161 20.7436 15.5351 20.5163C16.0493 20.4801 16.5 20.0611 16.5 19.5C16.5 18.956 16.0524 18.4804 15.4691 18.5163C11.1973 18.7798 7.7798 22.1973 7.51632 26.4691C7.48035 27.0524 7.95597 27.5 8.5 27.5Z" fill="black" stroke="white" stroke-linejoin="round"/>\n  </g>\n  <defs>\n    <filter id="filter0_d_10962_163787" x="2.2" y="1.7" width="16.6" height="29.1" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n      <feOffset dy="1"/>\n      <feGaussianBlur stdDeviation="0.9"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.65 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_10962_163787"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_10962_163787" result="shape"/>\n    </filter>\n  </defs>\n</svg>\n')].map((t=>String.fromCharCode(t))).join("");return"data:image/svg+xml;base64,"+btoa(n)}()}) 5 5, move`,it=["ne","nw","nw","ne"],{min:rt}=Math,at={left:0,top:0,width:1,height:1},st={topLeft:0,topRight:0,bottomRight:0,bottomLeft:0};function lt(t,e,n){return t+n<=e?t:t*e/(t+n)}function dt(t,e,n,o,i){return rt(lt(n,e,t),lt(n,o,i))}function ct({topLeft:t,topRight:e,bottomRight:n,bottomLeft:o},{width:i,height:r}){return{topLeft:dt(o,r,t,i,e),topRight:dt(t,i,e,r,n),bottomRight:dt(e,r,n,i,o),bottomLeft:dt(n,i,o,r,t)}}function ut(t){if(!t)return!0;const{topLeft:e,topRight:n,bottomRight:o,bottomLeft:i}=t;return e===n&&e===o&&e===i}function mt({width:t,height:e}){return[{fromPoint:{x:0,y:0},fromValue:0,toPoint:{x:10,y:10},toValue:10},{fromPoint:{x:t,y:0},fromValue:0,toPoint:{x:t-10,y:10},toValue:10},{fromPoint:{x:t,y:e},fromValue:0,toPoint:{x:t-10,y:e-10},toValue:10},{fromPoint:{x:0,y:e},fromValue:0,toPoint:{x:10,y:e-10},toValue:10}]}const pt={discriminator:"rectangle",clipPath({borderRadius:t},e){const{width:n,height:o}=e;let i="m 0 0";if(t){const{topLeft:r,topRight:a,bottomRight:s,bottomLeft:l}=ct(t,e);i+=` m ${r} 0`,i+=` l ${n-r-a} 0 a ${a} ${a} 0 0 1 ${a},${a}`,i+=` l 0 ${o-a-s} a ${s} ${s} 0 0 1 ${-s},${s}`,i+=` l ${s+l-n} 0 a ${l} ${l} 0 0 1 ${-l},${-l}`,i+=` l 0 ${l+r-o} a ${r} ${r} 0 0 1 ${r},${-r}`}else i+=` l ${n} 0`,i+=` l 0 ${o}`,i+=` l ${-n} 0`,i+=" l 0 "+-o;return i+=" z",i},textExtents:t=>at,getControlPoints({borderRadius:t},e,n,o,i){const{topLeft:r,topRight:a,bottomRight:s,bottomLeft:l}=ct(t??st,e),d=mt(e),c=ut(i?ct(i.borderRadius??st,e):t)!==o?"normal":"alternate";return[r,a,s,l].map(((t,e)=>({position:j(d[e],t),style:c,tooltip:{text:`Radius ${t.toFixed(0)}`,position:it[e]},cursor:ot})))},dragControlPoint({borderRadius:t},e,n,o,i,r){const a=mt(e)[n],{width:s,height:l}=e,d=H(a,o);let c;if(ut(t)!==r){const t=R(0,d,rt(l/2,s/2));c={topLeft:t,topRight:t,bottomRight:t,bottomLeft:t}}else switch(c={...t??st},n){case 0:c.topLeft=R(0,d,rt(l-c.bottomLeft,s-c.topRight));break;case 1:c.topRight=R(0,d,rt(s-c.topLeft,l-c.bottomRight));break;case 2:c.bottomRight=R(0,d,rt(l-c.topRight,s-c.bottomLeft));break;case 3:c.bottomLeft=R(0,d,rt(s-c.bottomRight,l-c.topLeft))}return{type:"rectangle",borderRadius:c}}},ht={left:0,top:0,width:1,height:1},ft={discriminator:"shield",clipPath(t,{width:e,height:n}){const o=Math.min(.5*e,.5*n);return B([{cmd:"M",p:{x:0,y:0}},{cmd:"H",v:e},{cmd:"V",v:n-o},{cmd:"A",radius:{x:.5*e,y:o},angle:0,large:!1,sweep:!0,p:{x:0,y:n-o}},{cmd:"V",v:0},{cmd:"Z"}])},textExtents:t=>ht},gt=[{cmd:"M",p:{x:0,y:0}},{cmd:"H",v:210},{cmd:"V",v:175},{cmd:"H",v:129},{cmd:"L",p:{x:40,y:217}},{cmd:"V",v:175},{cmd:"H",v:0},{cmd:"V",v:0},{cmd:"Z"}],yt={left:0,top:0,width:1,height:175/217},_t={discriminator:"speechBubble",clipPath:(t,{width:e,height:n})=>B(gt,e/210,n/217),textExtents:t=>yt},{PI:bt,cos:vt,sin:xt}=Math,$t=-.5*bt,wt=2*bt;function zt(t,e){return $t+wt*(t/e)}function Ct(t,e){return $t+wt*((2*t+1)/(2*e))}const At={left:(1-Math.SQRT1_2)/2,top:(1-Math.SQRT1_2)/2,width:Math.SQRT1_2,height:Math.SQRT1_2};function kt({sidePairs:t},{width:e,height:n}){const o=Ct(t-1,t);return{fromPoint:{x:.5*e,y:.5*n},fromValue:0,toPoint:{x:(.5*vt(o)+.5)*e,y:(.5*xt(o)+.5)*n},toValue:1}}const Lt={discriminator:"star",clipPath({sidePairs:t,innerRadius:e},{width:n,height:o}){const i=[];let r=!0;function a(t,e){const n=vt(t)*e*.5+.5,o=xt(t)*e*.5+.5;i.push({cmd:r?"M":"L",p:{x:n,y:o}}),r=!1}for(let n=0;n<t;n+=1)a(zt(n,t),1),a(Ct(n,t),e);return i.push({cmd:"z"}),B(i,n,o)},textExtents:t=>At,getControlPoints:(t,e)=>[{position:j(kt(t,e),t.innerRadius),style:"normal"}],dragControlPoint(t,e,n,o){const i=H(kt(t,e),o);return{...t,innerRadius:R(.1,i,1)}}},St={discriminator:"triangle",clipPath:({topVertex:t},{width:e,height:n})=>B([{cmd:"M",p:{x:t??.5,y:0}},{cmd:"L",p:{x:0,y:1}},{cmd:"L",p:{x:1,y:1}},{cmd:"Z"}],e,n),textExtents:({topVertex:t})=>({width:.5,height:.5,left:(t??.5)/2,top:.5}),getControlPoints:({topVertex:t},e)=>[{position:j(Et(e)[0],t??.5),style:"normal"}],dragControlPoint:(t,e,n,o)=>({...t,topVertex:R(0,H(Et(e)[n],o),1)})};function Et({width:t}){return[{fromPoint:{x:0,y:0},fromValue:0,toPoint:{x:t,y:0},toValue:1}]}const It=new Map;function Pt(t){It.set(t.discriminator,t)}function Mt(t,e){return It.get(t.type).clipPath(t,e)}Pt(pt),Pt(X),Pt(Lt),Pt(W),Pt(et),Pt(St),Pt(O),Pt(Q),Pt(K),Pt(J),Pt(_t),Pt(ft),Pt(N);var Tt=n(4015),Rt=n.n(Tt);function Ht(t,e,n=Object.keys(t.states.default)){const o=t.states.default,i=structuredClone(t.states[e]);return n.reduce(((t,e)=>(Rt()(t[e])&&(t[e]=structuredClone(o[e])),t)),i)}var jt=n(3134),Vt=n.n(jt);const{Map:Bt}=o.globals;function Dt(t,e,n){const o=t.slice();return o[2]=e[n],o}function Nt(t,e){let n,i;return{key:t,first:null,c(){n=(0,o.element)("link"),(0,o.attr)(n,"rel","prefetch"),(0,o.attr)(n,"href",i=x(e[2])),(0,o.attr)(n,"as","image"),this.first=n},m(t,e){(0,o.insert)(t,n,e)},p(t,r){e=t,1&r&&i!==(i=x(e[2]))&&(0,o.attr)(n,"href",i)},d(t){t&&(0,o.detach)(n)}}}function Ot(t){let e,n=[],i=new Bt,r=(0,o.ensure_array_like)(t[0].values());const a=t=>t[2].id;for(let e=0;e<r.length;e+=1){let o=Dt(t,r,e),s=a(o);i.set(s,n[e]=Nt(s,o))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,o.empty)()},m(t,i){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,o.append)(document.head,e)},p(t,[s]){1&s&&(r=(0,o.ensure_array_like)(t[0].values()),n=(0,o.update_keyed_each)(n,s,a,1,t,r,i,e.parentNode,o.destroy_block,Nt,e,Dt))},i:o.noop,o:o.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,o.detach)(e)}}}function Ft(t,e,n){let o,{items:i}=e;return t.$$set=t=>{"items"in t&&n(1,i=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,o=new Map(i.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[o,i]}class Yt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Ft,Ot,o.safe_not_equal,{items:1})}}const Kt=Yt;function Gt(t){(0,o.append_styles)(t,"svelte-112xmrx",".mondrian__border-holder-3ExtJZ{position:absolute;pointer-events:none}svg.mondrian__border-cMEOUp{position:absolute;top:0;left:0;width:100%;height:100%}svg.mondrian__border-cMEOUp path{fill:none;stroke-linecap:round}")}function qt(t){let e,n,i,r,a,s;return{c(){e=(0,o.element)("div"),n=(0,o.svg_element)("svg"),i=(0,o.svg_element)("path"),(0,o.attr)(i,"stroke-width",t[1]),(0,o.attr)(i,"stroke",r=t[0].color),(0,o.attr)(i,"stroke-dasharray",t[4]),(0,o.attr)(i,"d",t[5]),(0,o.attr)(n,"class","mondrian__border-cMEOUp"),(0,o.attr)(n,"viewBox",t[7]),(0,o.attr)(n,"width",a=t[3]+t[1]),(0,o.attr)(n,"height",s=t[2]+t[1]),(0,o.attr)(n,"preserveAspectRatio","none"),(0,o.set_style)(n,"opacity",t[0].opacity),(0,o.attr)(e,"class","mondrian__border-holder-3ExtJZ"),(0,o.set_style)(e,"inset",t[6])},m(t,r){(0,o.insert)(t,e,r),(0,o.append)(e,n),(0,o.append)(n,i)},p(t,l){2&l&&(0,o.attr)(i,"stroke-width",t[1]),1&l&&r!==(r=t[0].color)&&(0,o.attr)(i,"stroke",r),16&l&&(0,o.attr)(i,"stroke-dasharray",t[4]),32&l&&(0,o.attr)(i,"d",t[5]),128&l&&(0,o.attr)(n,"viewBox",t[7]),10&l&&a!==(a=t[3]+t[1])&&(0,o.attr)(n,"width",a),6&l&&s!==(s=t[2]+t[1])&&(0,o.attr)(n,"height",s),1&l&&(0,o.set_style)(n,"opacity",t[0].opacity),64&l&&(0,o.set_style)(e,"inset",t[6])},d(t){t&&(0,o.detach)(e)}}}function Wt(t){let e,n=t[0].applied&&qt(t);return{c(){n&&n.c(),e=(0,o.empty)()},m(t,i){n&&n.m(t,i),(0,o.insert)(t,e,i)},p(t,[o]){t[0].applied?n?n.p(t,o):(n=qt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),n&&n.d(t)}}}function Ut(t,e,n){let o,i,r,a,s,l,d,c,{width:u}=e,{height:m}=e,{border:p}=e,{clipDef:h}=e;return t.$$set=t=>{"width"in t&&n(8,u=t.width),"height"in t&&n(9,m=t.height),"border"in t&&n(0,p=t.border),"clipDef"in t&&n(10,h=t.clipDef)},t.$$.update=()=>{256&t.$$.dirty&&n(3,o=u.value),512&t.$$.dirty&&n(2,i=m.value),1&t.$$.dirty&&n(1,r=p.width.value),2&t.$$.dirty&&n(11,a=r/2),14&t.$$.dirty&&n(7,s=`0 0 ${o+r} ${i+r}`),2048&t.$$.dirty&&n(6,l=-a+"px"),3084&t.$$.dirty&&n(5,d=`M ${a} ${a} `+Mt(h,{width:o,height:i})),3&t.$$.dirty&&n(4,c="dashed"===p.style?`${2*r} ${2*r}`:"dotted"===p.style?"0 "+2*r:void 0)},[p,r,i,o,c,d,l,s,u,m,h,a]}class Xt extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Ut,Wt,o.safe_not_equal,{width:8,height:9,border:0,clipDef:10},Gt)}}const Zt=Xt;function Qt(t){(0,o.append_styles)(t,"svelte-9hz1lu",".mondrian__fill-color-2P6gBW{stroke:none}")}function Jt(t){let e,n,i,r,a,s;return{c(){e=(0,o.svg_element)("image"),(0,o.attr)(e,"class","fill-image"),(0,o.attr)(e,"role",n=t[2]&&"img"),(0,o.attr)(e,"aria-label",t[2]),(0,o.attr)(e,"preserveAspectRatio","none"),(0,o.attr)(e,"href",t[4]),(0,o.attr)(e,"width",i=t[7]),(0,o.attr)(e,"height",r=t[8]),(0,o.attr)(e,"x",a=t[9]),(0,o.attr)(e,"y",s=t[10]),(0,o.set_style)(e,"opacity",t[3].opacity)},m(t,n){(0,o.insert)(t,e,n)},p(t,l){4&l&&n!==(n=t[2]&&"img")&&(0,o.attr)(e,"role",n),4&l&&(0,o.attr)(e,"aria-label",t[2]),16&l&&(0,o.attr)(e,"href",t[4]),9&l&&i!==(i=t[7])&&(0,o.attr)(e,"width",i),10&l&&r!==(r=t[8])&&(0,o.attr)(e,"height",r),9&l&&a!==(a=t[9])&&(0,o.attr)(e,"x",a),10&l&&s!==(s=t[10])&&(0,o.attr)(e,"y",s),8&l&&(0,o.set_style)(e,"opacity",t[3].opacity)},d(t){t&&(0,o.detach)(e)}}}function te(t){let e,n,i;return{c(){e=(0,o.svg_element)("rect"),(0,o.attr)(e,"class","mondrian__fill-color-2P6gBW"),(0,o.attr)(e,"width",t[0]),(0,o.attr)(e,"height",t[1]),(0,o.attr)(e,"fill",n=t[3].color),(0,o.attr)(e,"opacity",i=t[3].opacity)},m(t,n){(0,o.insert)(t,e,n)},p(t,r){1&r&&(0,o.attr)(e,"width",t[0]),2&r&&(0,o.attr)(e,"height",t[1]),8&r&&n!==(n=t[3].color)&&(0,o.attr)(e,"fill",n),8&r&&i!==(i=t[3].opacity)&&(0,o.attr)(e,"opacity",i)},d(t){t&&(0,o.detach)(e)}}}function ee(t){let e;function n(t,e){return"color"===t[3].type?te:"image"===t[3].type?Jt:void 0}function i(t,e){return e===Jt?function(t){const e=t.slice(),n=e[3];e[6]=n.crop;const o=e[6].width*e[0];e[7]=o;const i=e[6].height*e[1];e[8]=i;const r=.5*(e[0]-e[7])+e[0]*e[6].left;e[9]=r;const a=.5*(e[1]-e[8])+e[1]*e[6].top;return e[10]=a,e}(t):t}let r=n(t),a=r&&r(i(t,r));return{c(){a&&a.c(),e=(0,o.empty)()},m(t,n){a&&a.m(t,n),(0,o.insert)(t,e,n)},p(t,[o]){r===(r=n(t))&&a?a.p(i(t,r),o):(a&&a.d(1),a=r&&r(i(t,r)),a&&(a.c(),a.m(e.parentNode,e)))},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),a&&a.d(t)}}}function ne(t,e,n){let o,{width:i}=e,{height:r}=e,{altText:a}=e,{assets:s}=e,{fill:l}=e;return t.$$set=t=>{"width"in t&&n(0,i=t.width),"height"in t&&n(1,r=t.height),"altText"in t&&n(2,a=t.altText),"assets"in t&&n(5,s=t.assets),"fill"in t&&n(3,l=t.fill)},t.$$.update=()=>{40&t.$$.dirty&&n(4,o="image"===l.type&&s?.[l.assetId]?x(s?.[l.assetId]):null)},[i,r,a,l,o,s]}class oe extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ne,ee,o.safe_not_equal,{width:0,height:1,altText:2,assets:5,fill:3},Qt)}}const ie=oe;function re(t){(0,o.append_styles)(t,"svelte-uspc47",".mondrian__mon-audio-wrapper-1N0BNV{position:absolute;inset:0}audio.mondrian__mon-item-audio-19T-ps{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function ae(t){let e,n,i,r;return{c(){e=(0,o.element)("audio"),(0,o.attr)(e,"class","mondrian__mon-item-audio-19T-ps"),(0,o.src_url_equal)(e.src,n=t[3])||(0,o.attr)(e,"src",n),e.controls=!0},m(n,a){(0,o.insert)(n,e,a),t[7](e),i||(r=[(0,o.listen)(e,"play",t[4]),(0,o.listen)(e,"pause",t[5]),(0,o.listen)(e,"ended",t[6])],i=!0)},p(t,i){8&i&&!(0,o.src_url_equal)(e.src,n=t[3])&&(0,o.attr)(e,"src",n)},d(n){n&&(0,o.detach)(e),t[7](null),i=!1,(0,o.run_all)(r)}}}function se(t){let e,n,i=t[1],r=ae(t);return{c(){e=(0,o.element)("div"),r.c(),(0,o.attr)(e,"class","mondrian__mon-audio-wrapper-1N0BNV"),(0,o.attr)(e,"data-item-id",n=t[0].id)},m(t,n){(0,o.insert)(t,e,n),r.m(e,null)},p(t,[a]){2&a&&(0,o.safe_not_equal)(i,i=t[1])?(r.d(1),r=ae(t),r.c(),r.m(e,null)):r.p(t,a),1&a&&n!==(n=t[0].id)&&(0,o.attr)(e,"data-item-id",n)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),r.d(t)}}}function le(t,e,n){let i,r,{item:a}=e,{stateId:s}=e;function l(t){r.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{itemId:a.id}}))}return(0,_.onDestroy)((()=>{r&&M(a)})),t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(1,s=t.stateId)},t.$$.update=()=>{if(3&t.$$.dirty){const t=(a.states[s].audioSources??a.states.default.audioSources).default,e=t&&a.assets?.[t];n(3,i=e?x(e):void 0)}5&t.$$.dirty&&r&&I(a,r)},[a,s,r,i,function(){l($.H5.mediaPlay)},function(){l($.H5.mediaPause)},function(){l($.H5.mediaEnd)},function(t){o.binding_callbacks[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class de extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,le,se,o.safe_not_equal,{item:0,stateId:1},re)}}const ce=de;function ue(t){(0,o.append_styles)(t,"svelte-w9b72",".mondrian__mon-item-backdrop-34j2QO{position:absolute;top:0;left:0;width:100%;height:100%}.mondrian__mon-item-mouse-trigger-2KZR8D{fill:none}.mondrian__mon-item-mouse-trigger-2KZR8D.mondrian__--visible-3PgcEz{pointer-events:all}.mondrian__mon-item-mouse-trigger-2KZR8D.mondrian__--clickable-1bgRHd{cursor:pointer}")}function me(t){let e,n;return e=new ie({props:{width:t[4],height:t[3],altText:t[6],assets:t[0].assets,fill:t[8]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};16&n&&(o.width=t[4]),8&n&&(o.height=t[3]),64&n&&(o.altText=t[6]),1&n&&(o.assets=t[0].assets),256&n&&(o.fill=t[8]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function pe(t){let e,n;return e=new ie({props:{width:t[4],height:t[3],assets:t[0].assets,fill:t[7]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};16&n&&(o.width=t[4]),8&n&&(o.height=t[3]),1&n&&(o.assets=t[0].assets),128&n&&(o.fill=t[7]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function he(t){let e,n,i,r,a,s,l,d,c,u,m,p=null!=t[8]&&me(t),h=null!=t[7]&&pe(t);return{c(){e=(0,o.svg_element)("svg"),n=(0,o.svg_element)("clipPath"),i=(0,o.svg_element)("path"),r=(0,o.svg_element)("g"),p&&p.c(),a=(0,o.empty)(),h&&h.c(),s=(0,o.svg_element)("rect"),(0,o.attr)(i,"d",t[5]),(0,o.attr)(n,"id",t[9]),(0,o.attr)(s,"class","mondrian__mon-item-mouse-trigger-2KZR8D"),(0,o.attr)(s,"width",t[4]),(0,o.attr)(s,"height",t[3]),(0,o.attr)(s,"role",l=t[2]?"button":void 0),(0,o.attr)(s,"tabindex",d=t[2]?0:void 0),(0,o.toggle_class)(s,"mondrian__--visible-3PgcEz",t[1]),(0,o.toggle_class)(s,"mondrian__--clickable-1bgRHd",t[2]),(0,o.attr)(r,"clip-path",c="url(#"+t[9]+")"),(0,o.attr)(e,"class","mondrian__mon-item-backdrop-34j2QO"),(0,o.attr)(e,"preserveAspectRatio","none"),(0,o.attr)(e,"viewBox",u="0 0 "+t[4]+" "+t[3])},m(t,l){(0,o.insert)(t,e,l),(0,o.append)(e,n),(0,o.append)(n,i),(0,o.append)(e,r),p&&p.m(r,null),(0,o.append)(r,a),h&&h.m(r,null),(0,o.append)(r,s),m=!0},p(t,[n]){(!m||32&n)&&(0,o.attr)(i,"d",t[5]),null!=t[8]?p?(p.p(t,n),256&n&&(0,o.transition_in)(p,1)):(p=me(t),p.c(),(0,o.transition_in)(p,1),p.m(r,a)):p&&((0,o.group_outros)(),(0,o.transition_out)(p,1,1,(()=>{p=null})),(0,o.check_outros)()),null!=t[7]?h?(h.p(t,n),128&n&&(0,o.transition_in)(h,1)):(h=pe(t),h.c(),(0,o.transition_in)(h,1),h.m(r,s)):h&&((0,o.group_outros)(),(0,o.transition_out)(h,1,1,(()=>{h=null})),(0,o.check_outros)()),(!m||16&n)&&(0,o.attr)(s,"width",t[4]),(!m||8&n)&&(0,o.attr)(s,"height",t[3]),(!m||4&n&&l!==(l=t[2]?"button":void 0))&&(0,o.attr)(s,"role",l),(!m||4&n&&d!==(d=t[2]?0:void 0))&&(0,o.attr)(s,"tabindex",d),(!m||2&n)&&(0,o.toggle_class)(s,"mondrian__--visible-3PgcEz",t[1]),(!m||4&n)&&(0,o.toggle_class)(s,"mondrian__--clickable-1bgRHd",t[2]),(!m||24&n&&u!==(u="0 0 "+t[4]+" "+t[3]))&&(0,o.attr)(e,"viewBox",u)},i(t){m||((0,o.transition_in)(p),(0,o.transition_in)(h),m=!0)},o(t){(0,o.transition_out)(p),(0,o.transition_out)(h),m=!1},d(t){t&&(0,o.detach)(e),p&&p.d(),h&&h.d()}}}let fe=0;function ge(t,e,n){let o,i,r,a,s,l,d,c,u,{item:m}=e,{stateId:p}=e,{visible:h}=e,{clickable:f=!1}=e;const g="mon-item-backdrop-clip-"+fe++;return t.$$set=t=>{"item"in t&&n(0,m=t.item),"stateId"in t&&n(10,p=t.stateId),"visible"in t&&n(1,h=t.visible),"clickable"in t&&n(2,f=t.clickable)},t.$$.update=()=>{1&t.$$.dirty&&n(13,o=m.states.default),1025&t.$$.dirty&&n(12,i=m.states[p]),12288&t.$$.dirty&&n(11,r=i.clipDef??o.clipDef),12288&t.$$.dirty&&n(4,a=i.width?.value??o.width.value),12288&t.$$.dirty&&n(3,s=i.height?.value??o.height.value),12288&t.$$.dirty&&n(8,l=i.fill??o.fill),12288&t.$$.dirty&&n(7,d=i.overlay??o.overlay),4096&t.$$.dirty&&n(6,c="altText"in i?i.altText??void 0:void 0),2072&t.$$.dirty&&n(5,u=Mt(r,{width:a,height:s}))},[m,h,f,s,a,u,c,d,l,g,p,r,i,o]}class ye extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ge,he,o.safe_not_equal,{item:0,stateId:10,visible:1,clickable:2},ue)}}const _e=ye;function be(t){(0,o.append_styles)(t,"svelte-11xtlh8",".mondrian__mon-item-transform-35_L4P{position:absolute;pointer-events:none}.mondrian__mon-item-transform-35_L4P.mondrian__--smooth-transitions-1R_oNu{transition:all 100ms ease}")}function ve(t){let e,n,i,r=`${t[8]}px`,a=`${t[7]}px`,s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`;const l=t[15].default,d=(0,o.create_slot)(l,t,t[14],null);return{c(){e=(0,o.element)("div"),d&&d.c(),(0,o.attr)(e,"class","mondrian__mon-item-transform-35_L4P"),(0,o.attr)(e,"data-item-id",n=t[0].id.slice(0,5)),(0,o.toggle_class)(e,"mondrian__--smooth-transitions-1R_oNu",t[9]),(0,o.set_style)(e,"width",r),(0,o.set_style)(e,"height",a),(0,o.set_style)(e,"transform",s),(0,o.set_style)(e,"z-index",t[1])},m(t,n){(0,o.insert)(t,e,n),d&&d.m(e,null),i=!0},p(t,[c]){d&&d.p&&(!i||16384&c)&&(0,o.update_slot_base)(d,l,t,t[14],i?(0,o.get_slot_changes)(l,t[14],c,null):(0,o.get_all_dirty_from_scope)(t[14]),null),(!i||1&c&&n!==(n=t[0].id.slice(0,5)))&&(0,o.attr)(e,"data-item-id",n),256&c&&r!==(r=`${t[8]}px`)&&(0,o.set_style)(e,"width",r),128&c&&a!==(a=`${t[7]}px`)&&(0,o.set_style)(e,"height",a),124&c&&s!==(s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`)&&(0,o.set_style)(e,"transform",s),2&c&&(0,o.set_style)(e,"z-index",t[1])},i(t){i||((0,o.transition_in)(d,t),i=!0)},o(t){(0,o.transition_out)(d,t),i=!1},d(t){t&&(0,o.detach)(e),d&&d.d(t)}}}function xe(t,e,n){let o,i,r,a,s,l,d,c,{$$slots:u={},$$scope:m}=e,{item:p}=e,{stateId:h}=e,{zIndex:f}=e;const g=!(p.parentId===p.blockumentId)&&v();let y,_;return t.$$set=t=>{"item"in t&&n(0,p=t.item),"stateId"in t&&n(10,h=t.stateId),"zIndex"in t&&n(1,f=t.zIndex),"$$scope"in t&&n(14,m=t.$$scope)},t.$$.update=()=>{if(1&t.$$.dirty&&n(12,o=p.states.default),1025&t.$$.dirty&&n(13,i=p.states[h]),12288&t.$$.dirty&&n(8,r=(i.width??o.width).value),12288&t.$$.dirty&&n(7,a=(i.height??o.height).value),12288&t.$$.dirty&&n(6,s=o.x.value+(i.xOffset??0)),12288&t.$$.dirty&&n(5,l=o.y.value+(i.yOffset??0)),14340&t.$$.dirty){const t=i.rotation??o.rotation;if(null==y)n(2,_=t);else if(t!==y){let e=t-y;e>180?e-=360:e<=-180&&(e+=360),n(2,_+=e)}n(11,y=t)}12288&t.$$.dirty&&n(4,d=i.flipX??o.flipX),12288&t.$$.dirty&&n(3,c=i.flipY??o.flipY)},[p,f,_,c,d,l,s,a,r,g,h,y,o,i,m,u]}class $e extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,xe,ve,o.safe_not_equal,{item:0,stateId:10,zIndex:1},be)}}const we=$e;var ze=n(3948);function Ce(t){(0,o.append_styles)(t,"svelte-1hl8f32",".mondrian__text-item-clip-1kBbRD{position:absolute;inset:0}.mondrian__text-item-clip-boundary-1xFGh_{position:absolute}.mondrian__text-item-padding-boundary-1LACOH{position:absolute;inset:var(--top) var(--right) var(--bottom) var(--left)}.mondrian__text-item-padding-boundary-1LACOH[data-vertical-align='top']{--text-item-vertical-align:start}.mondrian__text-item-padding-boundary-1LACOH[data-vertical-align='middle']{--text-item-vertical-align:center}.mondrian__text-item-padding-boundary-1LACOH[data-vertical-align='bottom']{--text-item-vertical-align:end}.mondrian__text-item-padding-boundary-1LACOH .tiptap{align-content:var(--text-item-vertical-align);align-self:var(--text-item-vertical-align);overflow-anchor:none}")}function Ae(t){let e,n,i,r,a,s=`${t[1].top}px`,l=`${t[1].left}px`,d=`${t[1].bottom}px`,c=`${t[1].right}px`,u=`calc(${t[2].left} * 100%)`,m=`calc(${t[2].top} * 100%)`,p=`calc(${t[2].width} * 100%)`,h=`calc(${t[2].height} * 100%)`;const f=t[6].default,g=(0,o.create_slot)(f,t,t[5],null);return{c(){e=(0,o.element)("div"),n=(0,o.element)("div"),i=(0,o.element)("div"),g&&g.c(),(0,o.attr)(i,"class","mondrian__text-item-padding-boundary-1LACOH"),(0,o.attr)(i,"data-vertical-align",r=t[0].textVerticalAlign),(0,o.set_style)(i,"--top",s),(0,o.set_style)(i,"--left",l),(0,o.set_style)(i,"--bottom",d),(0,o.set_style)(i,"--right",c),(0,o.attr)(n,"class","mondrian__text-item-clip-boundary-1xFGh_"),(0,o.set_style)(n,"left",u),(0,o.set_style)(n,"top",m),(0,o.set_style)(n,"width",p),(0,o.set_style)(n,"height",h),(0,o.attr)(e,"class","mondrian__text-item-clip-1kBbRD")},m(t,r){(0,o.insert)(t,e,r),(0,o.append)(e,n),(0,o.append)(n,i),g&&g.m(i,null),a=!0},p(t,[e]){g&&g.p&&(!a||32&e)&&(0,o.update_slot_base)(g,f,t,t[5],a?(0,o.get_slot_changes)(f,t[5],e,null):(0,o.get_all_dirty_from_scope)(t[5]),null),(!a||1&e&&r!==(r=t[0].textVerticalAlign))&&(0,o.attr)(i,"data-vertical-align",r),2&e&&s!==(s=`${t[1].top}px`)&&(0,o.set_style)(i,"--top",s),2&e&&l!==(l=`${t[1].left}px`)&&(0,o.set_style)(i,"--left",l),2&e&&d!==(d=`${t[1].bottom}px`)&&(0,o.set_style)(i,"--bottom",d),2&e&&c!==(c=`${t[1].right}px`)&&(0,o.set_style)(i,"--right",c),4&e&&u!==(u=`calc(${t[2].left} * 100%)`)&&(0,o.set_style)(n,"left",u),4&e&&m!==(m=`calc(${t[2].top} * 100%)`)&&(0,o.set_style)(n,"top",m),4&e&&p!==(p=`calc(${t[2].width} * 100%)`)&&(0,o.set_style)(n,"width",p),4&e&&h!==(h=`calc(${t[2].height} * 100%)`)&&(0,o.set_style)(n,"height",h)},i(t){a||((0,o.transition_in)(g,t),a=!0)},o(t){(0,o.transition_out)(g,t),a=!1},d(t){t&&(0,o.detach)(e),g&&g.d(t)}}}function ke(t,e,n){let o,i,r,{$$slots:a={},$$scope:s}=e,{item:l}=e,{stateId:d}=e;return t.$$set=t=>{"item"in t&&n(3,l=t.item),"stateId"in t&&n(4,d=t.stateId),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{var e;24&t.$$.dirty&&n(0,o=Ht(l,d)),1&t.$$.dirty&&n(2,(e=o.clipDef,i=It.get(e.type).textExtents(e))),1&t.$$.dirty&&n(1,({textPadding:r}=o),r)},[o,r,i,l,d,s,a]}class Le extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,ke,Ae,o.safe_not_equal,{item:3,stateId:4},Ce)}}const Se=Le;function Ee(t){(0,o.append_styles)(t,"svelte-5lzuef",".mondrian__content-wrapper-ypq03R{height:100%;display:flex}.mondrian__content-D3WkuU p:empty{min-height:1lh}.mondrian__content-D3WkuU{word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;font-variant-ligatures:none;font-feature-settings:'liga' 0}")}function Ie(t){let e,n,i,r=(0,ze.Z)(t[2],$.Al)+"";return{c(){e=(0,o.element)("div"),n=(0,o.element)("div"),(0,o.attr)(n,"class","tiptap ProseMirror mondrian__content-D3WkuU"),(0,o.attr)(e,"class",i=sn+" mondrian__content-wrapper-ypq03R")},m(t,i){(0,o.insert)(t,e,i),(0,o.append)(e,n),n.innerHTML=r},p(t,e){4&e&&r!==(r=(0,ze.Z)(t[2],$.Al)+"")&&(n.innerHTML=r)},d(t){t&&(0,o.detach)(e)}}}function Pe(t){let e,n;return e=new Se({props:{item:t[0],stateId:t[1],$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,[n]){const o={};1&n&&(o.item=t[0]),2&n&&(o.stateId=t[1]),12&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Me(t,e,n){let o,{item:i}=e,{stateId:r}=e;return t.$$set=t=>{"item"in t&&n(0,i=t.item),"stateId"in t&&n(1,r=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(2,o=i.states[r].text?.json??i.states.default.text.json)},[i,r,o]}class Te extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Me,Pe,o.safe_not_equal,{item:0,stateId:1},Ee)}}const Re=Te;function He(t){(0,o.append_styles)(t,"svelte-vg4dc1",".mondrian__mon-video-wrapper-37dPyY{position:absolute;inset:0}video.mondrian__mon-item-video-1Wv5W4{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function je(t){let e,n,i,r;return{c(){e=(0,o.element)("video"),(0,o.attr)(e,"class","mondrian__mon-item-video-1Wv5W4"),(0,o.src_url_equal)(e.src,n=t[3])||(0,o.attr)(e,"src",n),e.controls=!0},m(n,a){(0,o.insert)(n,e,a),t[7](e),i||(r=[(0,o.listen)(e,"play",t[4]),(0,o.listen)(e,"pause",t[5]),(0,o.listen)(e,"ended",t[6])],i=!0)},p(t,i){8&i&&!(0,o.src_url_equal)(e.src,n=t[3])&&(0,o.attr)(e,"src",n)},d(n){n&&(0,o.detach)(e),t[7](null),i=!1,(0,o.run_all)(r)}}}function Ve(t){let e,n,i=t[1],r=je(t);return{c(){e=(0,o.element)("div"),r.c(),(0,o.attr)(e,"class","mondrian__mon-video-wrapper-37dPyY"),(0,o.attr)(e,"data-item-id",n=t[0].id)},m(t,n){(0,o.insert)(t,e,n),r.m(e,null)},p(t,[a]){2&a&&(0,o.safe_not_equal)(i,i=t[1])?(r.d(1),r=je(t),r.c(),r.m(e,null)):r.p(t,a),1&a&&n!==(n=t[0].id)&&(0,o.attr)(e,"data-item-id",n)},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e),r.d(t)}}}function Be(t,e,n){let i,r,{item:a}=e,{stateId:s}=e;function l(t){r.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{itemId:a.id}}))}return(0,_.onDestroy)((()=>{r&&E(a)})),t.$$set=t=>{"item"in t&&n(0,a=t.item),"stateId"in t&&n(1,s=t.stateId)},t.$$.update=()=>{if(3&t.$$.dirty){const t=(a.states[s].videoSources??a.states.default.videoSources).default,e=t&&a.assets?.[t];n(3,i=e?x(e):void 0)}5&t.$$.dirty&&r&&L(a,r)},[a,s,r,i,function(){l($.H5.mediaPlay)},function(){l($.H5.mediaPause)},function(){l($.H5.mediaEnd)},function(t){o.binding_callbacks[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class De extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Be,Ve,o.safe_not_equal,{item:0,stateId:1},He)}}const Ne=De;function Oe(t){(0,o.append_styles)(t,"svelte-1xuhpbp",".mondrian__mon-item-2qYEoK{position:absolute;inset:0}.mondrian__mon-item-2qYEoK.mondrian__--smooth-transitions-fWIe80{transition:opacity 100ms ease}.mondrian__mon-item-2qYEoK.mondrian__--hidden-s36Wik{opacity:0}.mondrian__mon-item-children-3w5s3j{isolation:isolate}")}function Fe(t,e,n){const o=t.slice();return o[21]=e[n],o[0]=n,o}function Ye(t){let e,n,i=[],r=new Map,a=(0,o.ensure_array_like)(t[9]);const s=t=>t[21].id;for(let e=0;e<a.length;e+=1){let n=Fe(t,a,e),o=s(n);r.set(o,i[e]=Ke(o,n))}return{c(){e=(0,o.element)("div");for(let t=0;t<i.length;t+=1)i[t].c();(0,o.attr)(e,"class","mondrian__mon-item-children-3w5s3j")},m(t,r){(0,o.insert)(t,e,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);n=!0},p(t,n){512&n&&(a=(0,o.ensure_array_like)(t[9]),(0,o.group_outros)(),i=(0,o.update_keyed_each)(i,n,s,1,t,a,r,e,o.outro_and_destroy_block,Ke,null,Fe),(0,o.check_outros)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,o.transition_in)(i[t]);n=!0}},o(t){for(let t=0;t<i.length;t+=1)(0,o.transition_out)(i[t]);n=!1},d(t){t&&(0,o.detach)(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Ke(t,e){let n,i,r;return i=new Je({props:{itemId:e[21].id,index:e[0]}}),{key:t,first:null,c(){n=(0,o.empty)(),(0,o.create_component)(i.$$.fragment),this.first=n},m(t,e){(0,o.insert)(t,n,e),(0,o.mount_component)(i,t,e),r=!0},p(t,n){e=t;const o={};512&n&&(o.itemId=e[21].id),512&n&&(o.index=e[0]),i.$set(o)},i(t){r||((0,o.transition_in)(i.$$.fragment,t),r=!0)},o(t){(0,o.transition_out)(i.$$.fragment,t),r=!1},d(t){t&&(0,o.detach)(n),(0,o.destroy_component)(i,t)}}}function Ge(t){let e,n;return e=new Re({props:{item:t[8],stateId:t[4]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};256&n&&(o.item=t[8]),16&n&&(o.stateId=t[4]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function qe(t){let e,n;return e=new Ne({props:{item:t[7],stateId:t[4]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};128&n&&(o.item=t[7]),16&n&&(o.stateId=t[4]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function We(t){let e,n;return e=new ce({props:{item:t[6],stateId:t[4]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};64&n&&(o.item=t[6]),16&n&&(o.stateId=t[4]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Ue(t){let e,n,i,r,a,s,l,d,c,u,m,p,h,f;n=new _e({props:{item:t[3],stateId:t[4],visible:t[11],clickable:t[5]}}),r=new Zt({props:{width:t[2].width,height:t[2].height,border:t[2].border,clipDef:t[10]}});let g=t[9]&&Ye(t),y=t[8]&&Ge(t),_=t[7]&&qe(t),b=t[6]&&We(t);return{c(){e=(0,o.element)("div"),(0,o.create_component)(n.$$.fragment),i=(0,o.space)(),(0,o.create_component)(r.$$.fragment),a=(0,o.space)(),g&&g.c(),s=(0,o.space)(),y&&y.c(),l=(0,o.space)(),_&&_.c(),d=(0,o.space)(),b&&b.c(),(0,o.attr)(e,"class","mondrian__mon-item-2qYEoK"),e.inert=c=!t[11],(0,o.attr)(e,"aria-hidden",u=!t[11]),(0,o.toggle_class)(e,"mondrian__--smooth-transitions-fWIe80",t[17]),(0,o.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},m(c,u){(0,o.insert)(c,e,u),(0,o.mount_component)(n,e,null),(0,o.append)(e,i),(0,o.mount_component)(r,e,null),(0,o.append)(e,a),g&&g.m(e,null),(0,o.append)(e,s),y&&y.m(e,null),(0,o.append)(e,l),_&&_.m(e,null),(0,o.append)(e,d),b&&b.m(e,null),p=!0,h||(f=(0,o.action_destroyer)(m=t[12].call(null,e,{item:t[3],triggers:t[1]})),h=!0)},p(t,i){const a={};8&i&&(a.item=t[3]),16&i&&(a.stateId=t[4]),2048&i&&(a.visible=t[11]),32&i&&(a.clickable=t[5]),n.$set(a);const h={};4&i&&(h.width=t[2].width),4&i&&(h.height=t[2].height),4&i&&(h.border=t[2].border),1024&i&&(h.clipDef=t[10]),r.$set(h),t[9]?g?(g.p(t,i),512&i&&(0,o.transition_in)(g,1)):(g=Ye(t),g.c(),(0,o.transition_in)(g,1),g.m(e,s)):g&&((0,o.group_outros)(),(0,o.transition_out)(g,1,1,(()=>{g=null})),(0,o.check_outros)()),t[8]?y?(y.p(t,i),256&i&&(0,o.transition_in)(y,1)):(y=Ge(t),y.c(),(0,o.transition_in)(y,1),y.m(e,l)):y&&((0,o.group_outros)(),(0,o.transition_out)(y,1,1,(()=>{y=null})),(0,o.check_outros)()),t[7]?_?(_.p(t,i),128&i&&(0,o.transition_in)(_,1)):(_=qe(t),_.c(),(0,o.transition_in)(_,1),_.m(e,d)):_&&((0,o.group_outros)(),(0,o.transition_out)(_,1,1,(()=>{_=null})),(0,o.check_outros)()),t[6]?b?(b.p(t,i),64&i&&(0,o.transition_in)(b,1)):(b=We(t),b.c(),(0,o.transition_in)(b,1),b.m(e,null)):b&&((0,o.group_outros)(),(0,o.transition_out)(b,1,1,(()=>{b=null})),(0,o.check_outros)()),(!p||2048&i&&c!==(c=!t[11]))&&(e.inert=c),(!p||2048&i&&u!==(u=!t[11]))&&(0,o.attr)(e,"aria-hidden",u),m&&(0,o.is_function)(m.update)&&10&i&&m.update.call(null,{item:t[3],triggers:t[1]}),(!p||2048&i)&&(0,o.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},i(t){p||((0,o.transition_in)(n.$$.fragment,t),(0,o.transition_in)(r.$$.fragment,t),(0,o.transition_in)(g),(0,o.transition_in)(y),(0,o.transition_in)(_),(0,o.transition_in)(b),p=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),(0,o.transition_out)(r.$$.fragment,t),(0,o.transition_out)(g),(0,o.transition_out)(y),(0,o.transition_out)(_),(0,o.transition_out)(b),p=!1},d(t){t&&(0,o.detach)(e),(0,o.destroy_component)(n),(0,o.destroy_component)(r),g&&g.d(),y&&y.d(),_&&_.d(),b&&b.d(),h=!1,f()}}}function Xe(t){let e,n;return e=new we({props:{item:t[3],stateId:t[4],zIndex:null!=t[0]?-t[0]:void 0,$$slots:{default:[Ue]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,[n]){const o={};8&n&&(o.item=t[3]),16&n&&(o.stateId=t[4]),1&n&&(o.zIndex=null!=t[0]?-t[0]:void 0),8392702&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Ze({event:t}){return"click"===t}function Qe(t,e,n){let i,r,a,s,l,d,c,u,m,p,h,f,{itemId:g}=e,{index:y}=e;const b=function(){const t=(0,_.getContext)(k);if(!t)throw new Error("This component must be provided with an ItemRenderingContext");return t}(),{bindTriggers:x}=b,$=b.getItem(g);(0,o.component_subscribe)(t,$,(t=>n(3,m=t)));const w=b.getState(g);(0,o.component_subscribe)(t,w,(t=>n(4,h=t)));const z=b.getVisible(g);(0,o.component_subscribe)(t,z,(t=>n(11,f=t)));const C=b.getTriggersBySourceId();(0,o.component_subscribe)(t,C,(t=>n(19,p=t)));const A=v();return t.$$set=t=>{"itemId"in t&&n(18,g=t.itemId),"index"in t&&n(0,y=t.index)},t.$$.update=()=>{24&t.$$.dirty&&n(2,i=Ht(m,h)),4&t.$$.dirty&&n(10,r=i.clipDef),12&t.$$.dirty&&n(9,a="group"===m.type?i.children:void 0),8&t.$$.dirty&&n(8,s="shape"===m.type||"text"===m.type?m:void 0),8&t.$$.dirty&&n(7,l="video"===m.type?m:void 0),8&t.$$.dirty&&n(6,d="audio"===m.type?m:void 0),524296&t.$$.dirty&&n(1,c=p.get(m.id)??[]),2&t.$$.dirty&&n(5,u=c.some(Ze))},[y,c,i,m,h,u,d,l,s,a,r,f,x,$,w,z,C,A,g,p]}class Je extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Qe,Xe,o.safe_not_equal,{itemId:18,index:0},Oe)}}const tn=Je;function en(t){(0,o.append_styles)(t,"svelte-1xvfeq0",":root{--mon-color-border:var(--art-color-border-standard);--mon-color-border-selected:var(--art-color-brand-root);--mon-color-primary:var(--art-color-blue-600);--mon-color-secondary:var(--art-color-blue-500);--mon-opacity-inert:var(--art-alpha-50);--mon-color-input:var(--art-color-alpha-black-03);--mon-z-index-select:3000;--mon-z-index-popover:3100;--mon-z-index-context-menu:3200;--mon-z-index-tooltip:4000;--mon-z-index-toast:5000;--mon-input-padding:var(--art-space-0-75) var(--art-space-1);--mon-input-height:3.2rem;--mon-focus-outline-width:0.2rem;--mon-input-hover-box-shadow:inset 0 0 0 0.1rem\n      var(--art-color-border-stark);--mon-input-focus-box-shadow:inset 0 0 0 var(--mon-focus-outline-width)\n      var(--art-color-border-focus);--mon-button-hover-background:var(--art-color-alpha-black-05);--mon-button-active-background:var(--art-color-alpha-black-10)}.mondrian__ui-theme-WL2Yvs{--art-font-family-body:Inter, system-ui, sans-serif;font-family:var(--art-font-family-body);font-size:var(--art-font-size-14)}.mondrian__ui-theme-WL2Yvs *,.mondrian__ui-theme-WL2Yvs *::before,.mondrian__ui-theme-WL2Yvs *::after{box-sizing:border-box;font-synthesis:none}.mondrian__ui-theme-WL2Yvs :where(button, input, textarea){font-family:inherit}.mon-sr-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}:where(.mon-focusable){border-radius:var(--art-border-radius-sm)}:where(.mon-focusable:not(:disabled, :has(:disabled)):hover){box-shadow:inset 0 0 0 0.1rem var(--art-color-neutral-100)}\n      :where(\n          .mon-focusable:is(:focus-visible, :has(:focus-visible), .--mon-open)\n        )\n    {box-shadow:var(--mon-input-focus-box-shadow)}.mon-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}")}function nn(t){let e,n;const i=t[1].default,r=(0,o.create_slot)(i,t,t[0],null);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__ui-theme-WL2Yvs")},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[e]){r&&r.p&&(!n||1&e)&&(0,o.update_slot_base)(r,i,t,t[0],n?(0,o.get_slot_changes)(i,t[0],e,null):(0,o.get_all_dirty_from_scope)(t[0]),null)},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function on(t,e,n){let{$$slots:o={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,o]}class rn extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,on,nn,o.safe_not_equal,{},en)}}const an=rn,sn=g.b;(0,w.writable)(!1);const ln=['input:not([type="checkbox"], [type="radio"])',"art-asset-library","textarea","[contenteditable]"].join(", ");var dn=n(9205);const cn=n.n(dn)()("mondrian").extend("keyboard"),un={activeModifierKeys:new Set,get alt(){return un.activeModifierKeys.has("Alt")},get meta(){return un.activeModifierKeys.has("Meta")||un.activeModifierKeys.has("Control")},get shift(){return un.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[un.meta&&"Meta",un.alt&&"Alt",un.shift&&"Shift",un.key].filter(Boolean).join("+")}};function mn({metaKey:t,altKey:e,shiftKey:n,ctrlKey:o},i){let r=!1;return t!==i.has("Meta")&&(r=!0,t?i.add("Meta"):i.delete("Meta")),e!==i.has("Alt")&&(r=!0,e?i.add("Alt"):i.delete("Alt")),n!==i.has("Shift")&&(r=!0,n?i.add("Shift"):i.delete("Shift")),o!==i.has("Control")&&(r=!0,o?i.add("Control"):i.delete("Control")),r}let pn=!1;const hn={...(0,w.readable)(un,(t=>{function e(e){const n="keydown"===e.type;mn(e,un.activeModifierKeys),un.key=n?e.key:void 0,t(un)}function n(e){mn(e,un.activeModifierKeys)&&t(un)}pn||(pn=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(un.activeModifierKeys.clear(),un.key=void 0,t(un))})),window.addEventListener("blur",(function(){un.activeModifierKeys.clear(),un.key=void 0,t(un)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(un.combo&&cn(`comparing keycombos, store: ${un.combo}, comparison: ${t}`),un.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{!function(){const{activeElement:t}=document;return null!=t&&!!t.matches(ln)}()&&hn.is(t)&&(cn("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},fn=((0,w.derived)(hn,(t=>t.meta)),(0,w.derived)(hn,(t=>t.alt)),(0,w.derived)(hn,(t=>t.shift)),{down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1}),gn=((0,w.readable)(fn,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",o),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)};function e(t){fn.down=!0,fn.downX=fn.x=t.clientX,fn.downY=fn.y=t.clientY,fn.target=t.target,i()}function n(){fn.down=!1,fn.downX=fn.x=fn.downY=fn.y=-1,fn.target=void 0,i()}function o(t){fn.x=t.x,fn.y=t.y,i()}function i(){t(fn)}})),"mondrian-suspense");n(2466),o.SvelteComponent,n(2732);var yn=n(5494);const _n={nw:"top-end",n:"top",ne:"top-start",sw:"bottom-end",s:"bottom",se:"bottom-start"},bn=new ResizeObserver(zn);let vn,xn,$n;function wn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===vn)return;xn&&(xn.removeAttribute("data-active"),bn.unobserve(xn));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return vn=void 0,void(xn=void 0);n.setAttribute("data-active","true"),n.showPopover(),vn=e,xn=n,$n=xn.querySelector("[data-mon-tooltip-arrow]"),zn(),bn.observe(xn)}async function zn(){if(vn&&xn){const{x:t,y:e,middlewareData:n}=await(0,yn.rD)(vn,xn,{middleware:[(0,yn.cY)(5),(0,yn.UU)(),(0,yn.BN)(),(0,yn.UE)({element:$n})],strategy:"fixed",placement:_n[xn.getAttribute("data-position")]});if(xn.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;$n.style.left=null!=t?`${t}px`:"",$n.style.top=null!=e?`${e}px`:""}}}function Cn(t){(0,o.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",wn,{passive:!0}),document.documentElement.addEventListener("mouseleave",wn,{passive:!0}),document.addEventListener("scroll",zn,{passive:!0,capture:!0}),o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,n(9777),o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent;const An=t=>({isLoading:1&t}),kn=t=>({isLoading:t[0]});function Ln(t){let e,n;const i=t[2].default,r=(0,o.create_slot)(i,t,t[1],kn);return{c(){e=(0,o.element)("div"),r&&r.c(),(0,o.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,i){(0,o.insert)(t,e,i),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||3&a)&&(0,o.update_slot_base)(r,i,t,t[1],n?(0,o.get_slot_changes)(i,t[1],a,An):(0,o.get_all_dirty_from_scope)(t[1]),kn),(!n||1&a)&&(0,o.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,o.transition_in)(r,t),n=!0)},o(t){(0,o.transition_out)(r,t),n=!1},d(t){t&&(0,o.detach)(e),r&&r.d(t)}}}function Sn(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=function(){const t=new Set;return(0,_.setContext)(gn,t),t}();let a=!0;return(0,_.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,i=t.$$scope)},[a,i,o]}class En extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Sn,Ln,o.safe_not_equal,{},Cn)}}const In=En;o.SvelteComponent,o.SvelteComponent,o.SvelteComponent,o.SvelteComponent;var Pn=n(4993),Mn=n.n(Pn);const Tn=(t,{item:e,triggers:n})=>{function o(o,i={}){n.filter((t=>t.event===o)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...i})}))}const i=[...new Set(n.map((t=>t.event)))].map((e=>{switch(e){case $.H5.hover:{let n=!1;return[z("mouseenter",t,(t=>{n||(n=!0,o(e,{hovered:n}))})),z("mouseleave",t,(t=>{n&&(n=!1,o(e,{hovered:n}))}))]}case $.H5.click:return[z("click",t,(t=>{o(e)})),z("keyup",t,(t=>{["Space","Enter"].includes(t.code)&&t.target===document.activeElement&&o(e)}))];case $.H5.mediaPlay:case $.H5.mediaPause:case $.H5.mediaEnd:return z(e,t,(t=>{o(e)}));default:return z(e,t,(()=>{o(e)}))}})).flat(2).filter(Boolean);return{destroy(){i.forEach((t=>{t()}))}}},Rn=(t,{items:e,currentStates:n,currentVisibles:o,triggers:i})=>{const r=Vt()(i,"sourceId"),a={[$.zw.changeState](t,o,i){const r="self"===t.targetId?i:e[t.targetId];!1===o.hovered?n.get(r.id)?.revert(t.targetState):n.get(r.id)?.set(t.targetState)},[$.zw.changeVisibility](t,n,i){const r="self"===t.targetId?i:e[t.targetId];!1===n.hovered?o.get(r.id)?.set(!t.targetVisibility):o.get(r.id)?.set(t.targetVisibility)},[$.zw.mediaPause](t,n,o){const i="self"===t.targetId?o:e[t.targetId];if("video"===i.type){const t=S(i);if(!t)return;t.pause()}else if("audio"===i.type){const t=P(i);if(!t)return;t.pause()}},[$.zw.mediaPlay](t,n,o){const i="self"===t.targetId?o:e[t.targetId];if("video"===i.type){const t=S(i);if(!t)return;t.play()}else if("audio"===i.type){const t=P(i);if(!t)return;t.play()}},[$.zw.mediaEnd](t,n,o){const i="self"===t.targetId?o:e[t.targetId];if("video"===i.type){const t=S(i);if(!t)return;t.currentTime=t.duration,t.pause()}else if("audio"===i.type){const t=P(i);if(!t)return;t.currentTime=t.duration,t.pause()}}},s=z("trigger",t,(t=>{const{itemId:n,triggerId:o,...i}=t.detail,s=e[n];if(!s)throw new Error(`Could not execute trigger ${o} on item ${n} because the item could not be found.`);const l=r[s.id]?.find((t=>t.id===o));if(!l)throw new Error(`Could not execute trigger ${o} on item ${n} because the trigger could not be found.`);const d=a[l.action];if(!d)throw new Error(`Could not execute trigger ${o} on item ${n} because an appropriate handler for its '${l.action}' action could not be found.`);d(l,i,s)}));return{destroy(){s()}}},Hn=function(){const t=(0,w.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:o}=t,i=new Map;return{subscribe:e,set:n,update:o,addManifest:(t,e)=>{i.set(t,e),r()},removeManifest:t=>{i.delete(t),r()}};function r(){n((0,$.tr)(...i.values()))}}();function jn(t){(0,o.append_styles)(t,"svelte-16ijcvp",".mondrian__preview-L_XOPz{display:flex;justify-content:center;align-items:center;position:relative;width:100%}.mondrian__preview--empty-1j7eyn{background-color:var(--art-color-neutral-050)}.mondrian__item-wrapper-2afgtL{transform-origin:center;position:relative;overflow:hidden}.mondrian__width-gauge-1yjeUe{position:absolute;width:100%}")}function Vn(t){let e,n;return e=new Kt({props:{items:t[13]}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};8192&n[0]&&(o.items=t[13]),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Bn(t){let e,n;return e=new In({props:{$$slots:{default:[Fn]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};4092&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Dn(t){let e,n,i,r;return{c(){e=(0,o.element)("div"),n=(0,o.text)("Block "),i=(0,o.text)(t[0]),r=(0,o.text)(" could not be loaded")},m(t,a){(0,o.insert)(t,e,a),(0,o.append)(e,n),(0,o.append)(e,i),(0,o.append)(e,r)},p(t,e){1&e[0]&&(0,o.set_data)(i,t[0])},i:o.noop,o:o.noop,d(t){t&&(0,o.detach)(e)}}}function Nn(t){let e,n,i,r,a,s,l,d=`${t[6]}px`,c=`${t[5]}px`;return n=new tn({props:{itemId:t[4]}}),{c(){e=(0,o.element)("div"),(0,o.create_component)(n.$$.fragment),(0,o.attr)(e,"class","mondrian__item-wrapper-2afgtL"),(0,o.attr)(e,"role","region"),(0,o.attr)(e,"aria-label",i=t[3].title),(0,o.attr)(e,"aria-live",t[11]),(0,o.set_style)(e,"width",d),(0,o.set_style)(e,"height",c)},m(i,d){(0,o.insert)(i,e,d),(0,o.mount_component)(n,e,null),a=!0,s||(l=[(0,o.listen)(e,"focus",t[18]),(0,o.listen)(e,"blur",t[19]),(0,o.listen)(e,"focusin",t[18]),(0,o.listen)(e,"mouseover",t[18]),(0,o.listen)(e,"mouseout",t[19]),(0,o.listen)(e,"focusout",t[19]),(0,o.action_destroyer)(r=Rn.call(null,e,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}))],s=!0)},p(t,s){const l={};16&s[0]&&(l.itemId=t[4]),n.$set(l),(!a||8&s[0]&&i!==(i=t[3].title))&&(0,o.attr)(e,"aria-label",i),(!a||2048&s[0])&&(0,o.attr)(e,"aria-live",t[11]),r&&(0,o.is_function)(r.update)&&136&s[0]&&r.update.call(null,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}),64&s[0]&&d!==(d=`${t[6]}px`)&&(0,o.set_style)(e,"width",d),32&s[0]&&c!==(c=`${t[5]}px`)&&(0,o.set_style)(e,"height",c)},i(t){a||((0,o.transition_in)(n.$$.fragment,t),a=!0)},o(t){(0,o.transition_out)(n.$$.fragment,t),a=!1},d(t){t&&(0,o.detach)(e),(0,o.destroy_component)(n),s=!1,(0,o.run_all)(l)}}}function On(t){let e,n,i,r,a,s,l,d,c,u,m,p=`scale(${t[10]})`,h=`${t[6]}px`,f=`${t[5]}px`,g=(t[5]??500)*t[10]+"px";return s=new tn({props:{itemId:t[4]}}),{c(){e=(0,o.element)("div"),n=(0,o.element)("div"),i=(0,o.space)(),r=(0,o.element)("div"),a=(0,o.element)("div"),(0,o.create_component)(s.$$.fragment),(0,o.attr)(n,"class","mondrian__width-gauge-1yjeUe"),(0,o.attr)(a,"class","mondrian__item-wrapper-2afgtL"),(0,o.attr)(a,"role","region"),(0,o.attr)(a,"aria-label",l=t[3].title),(0,o.attr)(a,"aria-live",t[11]),(0,o.set_style)(a,"transform",p),(0,o.set_style)(a,"width",h),(0,o.set_style)(a,"height",f),(0,o.attr)(e,"class","mondrian__preview-L_XOPz"),(0,o.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),(0,o.set_style)(e,"height",g)},m(l,p){(0,o.insert)(l,e,p),(0,o.append)(e,n),t[25](n),(0,o.append)(e,i),(0,o.append)(e,r),(0,o.append)(r,a),(0,o.mount_component)(s,a,null),c=!0,u||(m=[(0,o.listen)(a,"focus",t[18]),(0,o.listen)(a,"blur",t[19]),(0,o.listen)(a,"focusin",t[18]),(0,o.listen)(a,"mouseover",t[18]),(0,o.listen)(a,"mouseout",t[19]),(0,o.listen)(a,"focusout",t[19]),(0,o.action_destroyer)(d=Rn.call(null,a,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}))],u=!0)},p(t,n){const i={};16&n[0]&&(i.itemId=t[4]),s.$set(i),(!c||8&n[0]&&l!==(l=t[3].title))&&(0,o.attr)(a,"aria-label",l),(!c||2048&n[0])&&(0,o.attr)(a,"aria-live",t[11]),d&&(0,o.is_function)(d.update)&&136&n[0]&&d.update.call(null,{items:t[7],currentStates:t[14],currentVisibles:t[15],triggers:t[3].triggers}),1024&n[0]&&p!==(p=`scale(${t[10]})`)&&(0,o.set_style)(a,"transform",p),64&n[0]&&h!==(h=`${t[6]}px`)&&(0,o.set_style)(a,"width",h),32&n[0]&&f!==(f=`${t[5]}px`)&&(0,o.set_style)(a,"height",f),(!c||256&n[0])&&(0,o.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[8]),1056&n[0]&&g!==(g=(t[5]??500)*t[10]+"px")&&(0,o.set_style)(e,"height",g)},i(t){c||((0,o.transition_in)(s.$$.fragment,t),c=!0)},o(t){(0,o.transition_out)(s.$$.fragment,t),c=!1},d(n){n&&(0,o.detach)(e),t[25](null),(0,o.destroy_component)(s),u=!1,(0,o.run_all)(m)}}}function Fn(t){let e,n,i,r;const a=[On,Nn],s=[];function l(t,e){return t[2]?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),i=(0,o.empty)()},m(t,n){s[e].m(t,n),(0,o.insert)(t,i,n),r=!0},p(t,r){let d=e;e=l(t),e===d?s[e].p(t,r):((0,o.group_outros)(),(0,o.transition_out)(s[d],1,1,(()=>{s[d]=null})),(0,o.check_outros)(),n=s[e],n?n.p(t,r):(n=s[e]=a[e](t),n.c()),(0,o.transition_in)(n,1),n.m(i.parentNode,i))},i(t){r||((0,o.transition_in)(n),r=!0)},o(t){(0,o.transition_out)(n),r=!1},d(t){t&&(0,o.detach)(i),s[e].d(t)}}}function Yn(t){let e,n,i,r,a,s=t[1]&&Vn(t);const l=[Dn,Bn],d=[];function c(t,e){return void 0===t[3]||void 0===t[4]?0:1}return n=c(t),i=d[n]=l[n](t),{c(){s&&s.c(),e=(0,o.space)(),i.c(),r=(0,o.empty)()},m(t,i){s&&s.m(t,i),(0,o.insert)(t,e,i),d[n].m(t,i),(0,o.insert)(t,r,i),a=!0},p(t,a){t[1]?s?(s.p(t,a),2&a[0]&&(0,o.transition_in)(s,1)):(s=Vn(t),s.c(),(0,o.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,o.group_outros)(),(0,o.transition_out)(s,1,1,(()=>{s=null})),(0,o.check_outros)());let u=n;n=c(t),n===u?d[n].p(t,a):((0,o.group_outros)(),(0,o.transition_out)(d[u],1,1,(()=>{d[u]=null})),(0,o.check_outros)(),i=d[n],i?i.p(t,a):(i=d[n]=l[n](t),i.c()),(0,o.transition_in)(i,1),i.m(r.parentNode,r))},i(t){a||((0,o.transition_in)(s),(0,o.transition_in)(i),a=!0)},o(t){(0,o.transition_out)(s),(0,o.transition_out)(i),a=!1},d(t){t&&((0,o.detach)(e),(0,o.detach)(r)),s&&s.d(t),d[n].d(t)}}}function Kn(t){let e,n;return e=new an({props:{$$slots:{default:[Yn]},$$scope:{ctx:t}}}),{c(){(0,o.create_component)(e.$$.fragment)},m(t,i){(0,o.mount_component)(e,t,i),n=!0},p(t,n){const o={};12287&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||((0,o.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,o.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,o.destroy_component)(e,t)}}}function Gn(t,e,n){let i,r,a,s,l,d,c,u=o.noop;t.$$.on_destroy.push((()=>u()));let{manifest:m}=e,{blockumentId:p}=e,{prefetch:h=!0}=e,{autoSize:f=!0}=e;(0,_.setContext)(b,!0);const g=Symbol("LearnComponent");let y,v,x=!1;const $=function(){const t=new Map;return{...(0,w.writable)(t),add:(e,n)=>(t.has(e)||t.set(e,function(t){let e,n,o;t.subscribe((t=>{e=t}));const i=(0,w.writable)(e);i.subscribe((t=>{n=o??e,o=t}));const r={...i,revert(t){o===t&&r.set(n)},reset(){r.set(e)}};return r}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No state found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),z=function(){const t=new Map;return{...(0,w.writable)(t),upsert(e,n){if(!t.has(e)){const o=function(t){const e={...(0,w.writable)(t),show(){e.set(!0)},hide(){e.set(!1)},reset(){e.set(t)}};return e}(n);return t.set(e,o),o}const o=t.get(e);return o.set(n),o},get(e){if(!t.has(e))throw new Error(`No visibility found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),C=(0,w.writable)(new Map),A=(0,w.writable)({});(0,o.component_subscribe)(t,A,(t=>n(7,d=t)));const T=(0,w.derived)(A,(t=>Object.values(t)));(0,o.component_subscribe)(t,T,(t=>n(13,c=t))),(0,w.derived)([C,T],(([t,e])=>({triggers:t,items:e}))).subscribe((({items:t})=>{t.forEach((t=>{$.add(t.id,(0,w.readable)(t.initialState)),z.upsert(t.id,t.initialVisible)})),z.resetAll(),$.resetAll()}));const R={getTriggersBySourceId:()=>(0,w.readonly)(C),getItem:t=>(0,w.derived)(A,(e=>e[t])),getState:t=>$.get(t),getVisible:t=>z.get(t),bindTriggers:Tn,registerVideoElement(t,e){L(t,e)},getVideoElement:t=>S(t),unregisterVideoElement(t){E(t)},registerAudioElement(t,e){I(t,e)},getAudioElement:t=>P(t),unregisterAudioElement(t){M(t)}};var H;let j;H=R,(0,_.setContext)(k,H),(0,_.onMount)((()=>{z.resetAll();const t=new ResizeObserver((()=>{j&&N()}));return j&&t.observe(j),()=>{t.disconnect()}})),(0,_.onDestroy)((()=>{Hn.removeManifest(g)}));let V,B,D=1;function N(){if(!(v&&j&&l&&f&&a&&s))return;const t=j.offsetWidth;n(10,D=Math.min(1,t/a))}let O="off";const F=Mn()((t=>{n(11,O=t?"polite":"off")}),100,{maxWait:500,trailing:!0});return t.$$set=t=>{"manifest"in t&&n(20,m=t.manifest),"blockumentId"in t&&n(0,p=t.blockumentId),"prefetch"in t&&n(1,h=t.prefetch),"autoSize"in t&&n(2,f=t.autoSize)},t.$$.update=()=>{if(1048585&t.$$.dirty[0]){const t=function(t,e){const n=structuredClone(t.items)??{};for(const t in n)n[t].blockumentId!==e&&delete n[t];return n}(m,p);n(3,y=m.blockuments?.[p]),n(4,v=y?.children[0]?.id),n(8,x=1===Object.keys(t).length),Hn.addManifest(g,m),C.set((e=y?.triggers??[],new Map(Object.entries(Vt()(e,(t=>t.sourceId??"none")))))),A.set(t)}var e;16&t.$$.dirty[0]&&(n(12,i=v?$.get(v):void 0),u(),u=(0,o.subscribe)(i,(t=>n(24,l=t)))),16777360&t.$$.dirty[0]&&n(23,r=v&&d[v]&&l?Ht(d[v],l,["width","height"]):void 0),8388608&t.$$.dirty[0]&&n(6,a=r?.width.value),8388608&t.$$.dirty[0]&&n(5,s=r?.height.value),6291552&t.$$.dirty[0]&&(V===a&&B===s||(n(21,V=a),n(22,B=s),N()))},[p,h,f,y,v,s,a,d,x,j,D,O,i,c,$,z,A,T,function(){F(!0)},function(){F(!1)},m,V,B,r,l,function(t){o.binding_callbacks[t?"unshift":"push"]((()=>{j=t,n(9,j)}))}]}class qn extends o.SvelteComponent{constructor(t){super(),(0,o.init)(this,t,Gn,Kn,o.safe_not_equal,{manifest:20,blockumentId:0,prefetch:1,autoSize:2},jn,[-1,-1])}}const Wn=qn;var Un=n(6170),Xn=n.n(Un);const Zn=((t,e={width:"100%"},n="div")=>o=>{const i=(0,Un.useRef)(null),r=(0,Un.useRef)(null);return(0,Un.useEffect)((()=>(r.current=new t({target:i.current,props:o}),()=>{r.current?.$destroy()})),[]),(0,Un.useEffect)((()=>{r.current?.$set(o)}),[o]),Xn().createElement(n,{ref:i,style:e})})(Wn),Qn=t=>{const{manifest:e,...n}=t,o=(0,Un.useMemo)((()=>{const t=$.S0.safeParse(e);if(t.success)return t.data}),[e]);return o?Xn().createElement(Zn,{manifest:o,...n}):null}},9378:(t,e,n)=>{n.d(e,{Mw:()=>i,un:()=>r,S0:()=>o.S0,zw:()=>o.zw,H5:()=>o.H5,tr:()=>_,Al:()=>R});var o=n(4526);n(9840);const i={top:20,left:20,bottom:20,right:20},r={top:0,left:0,bottom:0,right:0};var a=n(4198),s=n(2559);const l=14,d=1.2,c="merriweather",u="lato",m="#000000",p={2:{textContent:"Heading 2",fontSize:24,lineHeight:1.4,fontFamily:u},3:{textContent:"Heading 3",fontSize:18,lineHeight:1.4,fontFamily:u},4:{textContent:"Heading 4",fontSize:16,lineHeight:1.3,fontFamily:u},5:{textContent:"Heading 5",fontSize:14,lineHeight:1.3,fontFamily:u}};function h({tr:t}){const{$head:e}=t.selection;return t.setSelection(new s.U3(t.doc.resolve(e.start()),t.doc.resolve(e.end()))),!0}function f(t,e,n){const o=n.getAttributes("textStyle").color,i=n.getAttributes("paragraph").textAlign||n.getAttributes("heading").textAlign||"left";if(t=t.command(h).unsetMark("textStyle").unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),"paragraph"===e)t=t.setParagraph().setTextSize(l).setLineHeight(d).setFontFamily(c);else{const n=parseInt(e.substring(1)),o=p[n];t=t.setHeading({level:n}).setTextSize(o.fontSize).setLineHeight(o.lineHeight).setFontFamily(o.fontFamily)}return(t=t.setColor(o)).setTextAlign(i)}function g(t,e){const n=t.chain(),o=t.isActive("heading"),i=o?t.getAttributes("heading").level:null,r=e.startsWith("h")?parseInt(e.substring(1)):null;if(o&&i===r)return f(n,"paragraph",t).run();const{$head:a}=t.state.selection,s=0===a.parent.content.size;let d=f(n,e,t);if(s)if("paragraph"===e)d=d.setTextSize(l).setFontFamily(c).setColor(m);else{const t=parseInt(e.substring(1)),n=p[t];d=d.setTextSize(n.fontSize).setFontFamily(n.fontFamily).setColor(m)}return d.run()}const y=a.YY.create({name:"headingShortcuts",addKeyboardShortcuts(){return{"Mod-Alt-2":()=>g(this.editor,"h2"),"Mod-Alt-3":()=>g(this.editor,"h3"),"Mod-Alt-4":()=>g(this.editor,"h4"),"Mod-Alt-5":()=>g(this.editor,"h5")}}});function _(...t){const e={blockuments:{},items:{}};for(const n of t)Object.assign(e.blockuments,n.blockuments),Object.assign(e.items,n.items);return e}var b=n(4717),v=n(3004),x=n(4758),$=n(2359),w=n(31),z=n(2740),C=n(5873),A=n(9395);const k=/([a-z%]+)\s*$/i,L=a.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle","highlight"],attributes:{textSize:{default:l,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const o=k.exec(e);if(null==o)return null;switch(o[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e,editor:n})=>{const o=n.isActive("highlight"),i=e().setMark("textStyle",{textSize:t});return o&&i.setMark("highlight",{textSize:t}),i.run()}})}),S=a.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph","heading"],attributes:{lineHeight:{default:d,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>{const n=e.updateAttributes("paragraph",{lineHeight:t}),o=e.updateAttributes("heading",{lineHeight:t});return n&&o}})}),E=a.YY.create({name:"fontFamily",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{fontFamily:{default:c,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}],addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run()})});b.A.configure({types:["textStyle"]});const I=a.YY.create({name:"init",addCommands:()=>({initFontFamily:()=>({chain:t})=>t().setFontFamily(c).run(),initLineHeight:()=>({chain:t})=>t().setLineHeight(d).run(),initTextSize:()=>({chain:t})=>t().setTextSize(l).run(),initColor:()=>({chain:t})=>t().setColor(m).run()})}),P="latestDefocusedSelectionDecoration",M=a.YY.create({name:P,addProseMirrorPlugins:()=>[new s.k_({key:new s.hs(P),state:{init:t=>C.zF.empty,apply(t,e){const{doc:n,selection:o}=t,i=t.getMeta(P),r=o&&o.from!==o.to;if(!r||"focus"===i?.action)return C.zF.empty;if(r&&"blur"===i?.action){const t=C.NZ.inline(o.from,o.to,{class:"latest-defocused-selection",nodeName:"mark"});return C.zF.create(n,[t])}return e}},props:{decorations(t){return this.getState(t)},handleDOMEvents:{blur(t){const{tr:e}=t.state,n=e.setMeta(P,{from:e.selection.from,to:e.selection.to,action:"blur"});t.dispatch(n)},focus(t){const{tr:e}=t.state,n=e.setMeta(P,{from:e.selection.from,to:e.selection.to,action:"focus"});t.dispatch(n)}}}})]}),T=a.YY.create({name:"clearMarksOnEnter",addKeyboardShortcuts(){return{Enter:()=>{const{state:t}=this.editor,{selection:e}=t,{$from:n,empty:o}=e;if(!o)return!1;const i=n.parent;if("heading"!==i.type.name)return!1;const r=n.marks().filter((t=>"textStyle"===t.type.name));let a=null;r.length>0&&(a=r[0].attrs.color||null);const s=i.attrs.textAlign||"left";let l=this.editor.chain().splitBlock().setParagraph().setTextAlign(s);return l=l.unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),l=a?l.setMark("textStyle",{color:a}):l.unsetMark("textStyle"),l.run()}}}}),R=[A.A.configure({history:!1,heading:{levels:[2,3,4,5]}}),$.A.configure({types:["heading","paragraph"]}),v.Ay.configure({multicolor:!0}),y,T,w.A,b.A,L,S,z.A,x.A,E,I,M];(0,a._w)(R);var H=n(6195);class j extends H.z.ZodType{constructor(t){super({}),this._object=t}_parse(t){const e={},{data:n}=t;if(n&&"object"==typeof n&&!Array.isArray(n))for(const[t,o]of Object.entries(this._object.shape))if(Object.hasOwn(n,t)){const i=n[t],r=o.safeParse(i);r.success&&(e[t]=r.data)}return{status:"valid",value:e}}}function V(t){return new j(t)}const B=H.z.object({themeId:H.z.string(),accentContrast:H.z.enum(["AUTO","BLACK","LIGHT","DARK"]).nullable().optional(),allowSearch:H.z.boolean(),animateBlockEntrance:H.z.boolean(),blockCorners:H.z.enum(["ROUNDED","SQUARED"]),blockNavigationType:H.z.enum(["CONTINOUS","STEPPED"]).nullable().optional(),blockPaddingBottom:H.z.number(),blockPaddingTop:H.z.number(),buttonNavigationStyle:H.z.enum(["FULL","FLOATING","FLOATING_FULL"]),buttonInlineStyle:H.z.enum(["ROUNDED","SQUARED"]),buttonScheme:H.z.enum(["ACCENT","DARK","LIGHT","TINT"]),colorAccent:H.z.string(),compactShowLessonCount:H.z.boolean(),coverImage:H.z.string(),coverImageAlpha:H.z.number(),coverImageColor:H.z.enum(["ACCENT","DARK","LIGHT"]).nullable().optional(),coverImageDefault:H.z.string().nullable().optional(),coverPageType:H.z.enum(["ACCENT","CENTERED","CENTERED_ACCENT_TINT","CENTERED_OVERLAY","CENTERED_IMAGE","IMAGE","LEFT","LEFT_OVERLAY","SPLIT_LEFT","SPLIT_LEFT_IMAGE","SPLIT_RIGHT","SPLIT_RIGHT_IMAGE","TWO_THIRDS_LEFT_IMAGE","TWO_THIRDS_RIGHT_IMAGE","WHITE"]),customColorLessonHeaderContrast:H.z.enum(["AUTO","BLACK","LIGHT","DARK"]).nullable().optional(),enableVideoPlaybackSpeed:H.z.boolean().nullable().optional(),hideCoverPage:H.z.boolean().nullable().optional(),hideLessonHeaders:H.z.boolean().nullable().optional(),lessonHeaderColor:H.z.string().nullable().optional(),lessonHeaderImage:H.z.string(),lessonHeaderImageAlpha:H.z.number(),lessonHeaderImageColor:H.z.enum(["ACCENT","DARK","LIGHT"]),lessonHeaderSize:H.z.enum(["LARGE","MEDIUM","SMALL"]),lessonHeaderStyle:H.z.enum(["ACCENT","BLACK","COLOR","DARK","GRAY","IMAGE","LIGHT","TINT"]),navigation:H.z.boolean(),navigationRestricted:H.z.boolean(),navigationStyle:H.z.enum(["ACCENT","DARK","DARK_ACCENT","DARK_IMAGE","LIGHT","LIGHT_ACCENT","LIGHT_IMAGE","GRAY","TINT"]),navigationType:H.z.enum(["COMPACT","OVERLAY","SIDEBAR"]),showAuthor:H.z.boolean(),showLessonCount:H.z.boolean(),showNavigationButtons:H.z.boolean(),sidebarStartsOpen:H.z.boolean(),bodyTypefaceId:H.z.string().nullable().optional(),headingTypefaceId:H.z.string().nullable().optional(),uiTypefaceId:H.z.string().nullable().optional(),colors:H.z.array(H.z.string()).nullable().optional()}),D=H.z.enum(["bold","regular","light","italic","black","semibold","semibolditalic","bolditalic","medium"]),N=H.z.object({id:H.z.string(),key:H.z.string(),original:H.z.string().nullable(),style:D}),O=H.z.object({id:H.z.string(),name:H.z.string(),author:H.z.string().nullable(),createdAt:H.z.string(),default:H.z.boolean(),fonts:H.z.record(N)}),F=H.z.record(O),Y=H.z.union([H.z.boolean(),H.z.number(),H.z.string()]),K=H.z.record(Y),G=H.z.object({backgroundColor:H.z.string().optional()});V(H.z.object({theme:V(B),typefaces:F,featureFlags:K,block:G}))},4526:(t,e,n)=>{n.d(e,{pL:()=>it,S0:()=>rt,zw:()=>st,H5:()=>at});var o=n(6195);const i=o.z.object({id:o.z.string(),path:o.z.string(),name:o.z.string(),width:o.z.number().optional(),height:o.z.number().optional()}),r=o.z.object({unit:o.z.enum(["px","%","auto","fr"]),value:o.z.number()}),a=o.z.object({applied:o.z.boolean().default(!1),type:o.z.enum(["none","fill"]).default("none"),color:o.z.string().default("#000000"),opacity:o.z.number().default(1),style:o.z.enum(["solid","dashed","dotted"]).default("solid"),width:r.default({value:1,unit:"px"})}),s=o.z.object({assetId:o.z.string().optional(),color:o.z.string().optional(),opacity:o.z.number().min(0).max(1).default(1)}),l=s.extend({type:o.z.literal("color"),color:o.z.string().default("#e4e4e4")}),d=o.z.object({width:o.z.number(),height:o.z.number(),left:o.z.number(),top:o.z.number()}),c=s.extend({type:o.z.literal("image"),assetId:o.z.string(),crop:d.default({width:1,height:1,left:0,top:0})}),u=s.extend({type:o.z.literal("none")}),m=o.z.discriminatedUnion("type",[l,c,u]),p=o.z.discriminatedUnion("type",[l,u]),h=o.z.object({top:r.default({value:0,unit:"px"}),left:r.default({value:0,unit:"px"}),bottom:r.default({value:0,unit:"px"}),right:r.default({value:0,unit:"px"})}),f=o.z.object({type:o.z.literal("rectangle"),borderRadius:o.z.object({topLeft:o.z.number(),topRight:o.z.number(),bottomRight:o.z.number(),bottomLeft:o.z.number()}).optional()}),g=o.z.object({type:o.z.literal("ellipse")}),y=o.z.object({type:o.z.literal("star"),sidePairs:o.z.number().min(3),innerRadius:o.z.number().min(.1).max(1)}),_=o.z.object({type:o.z.literal("cloud")}),b=o.z.object({type:o.z.literal("plus"),stroke:o.z.number().min(.01).max(1)}),v=o.z.object({type:o.z.literal("triangle"),topVertex:o.z.number().min(0).max(1).optional()}),x=o.z.object({type:o.z.literal("bookmark"),cutoutInset:o.z.number().min(0).max(.8)}),$=o.z.object({type:o.z.literal("chevron"),outsideCornerXCoords:o.z.number().min(.7).max(1),insideCenterXCoord:o.z.number().min(0).max(.3)}),w=o.z.object({type:o.z.literal("octagon")}),z=o.z.object({type:o.z.literal("parallelogram"),shear:o.z.number().min(0).max(1)}),C=o.z.object({type:o.z.literal("shield")}),A=o.z.object({type:o.z.literal("speechBubble")}),k=o.z.object({type:o.z.literal("arrow"),thickness:o.z.number().min(.1).max(.5),headLength:o.z.number().min(.1).max(.9)}),L=o.z.discriminatedUnion("type",[x,$,_,g,w,b,f,y,v,z,C,A,k]),S=o.z.object({id:o.z.string(),name:o.z.string().max(128)}),E=S.extend({x:r.default({value:0,unit:"px"}),y:r.default({value:0,unit:"px"}),xOffset:o.z.number().default(0),yOffset:o.z.number().default(0),position:o.z.literal("absolute").default("absolute"),width:r.default({value:100,unit:"%"}),height:r.default({value:100,unit:"%"}),padding:h,fill:m,overlay:p,aspectRatioLocked:o.z.boolean(),border:a,clipDef:L.default({type:"rectangle"}),rotation:o.z.number().default(0),flipX:o.z.boolean().default(!1),flipY:o.z.boolean().default(!1),authoringAspectRatioCropLock:o.z.enum(["freeform","preset","none"])}),I=t=>o.z.intersection(S,t.partial()),P=t=>o.z.intersection(o.z.object({default:t}),o.z.record(I(t))),M=t=>o.z.object({id:o.z.string(),blockumentId:o.z.string(),clonedFromId:o.z.string().optional(),parentId:o.z.string(),type:o.z.string(),name:o.z.string().max(128),tagName:o.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:o.z.boolean().default(!1),authoringVisible:o.z.boolean().default(!0),initialVisible:o.z.boolean().default(!0),initialState:o.z.string().default("default"),states:P(t),assets:o.z.record(i).default({}).optional(),removed:o.z.boolean().default(!1),_v:o.z.literal(7)}),T=(I(E),o.z.object({default:o.z.string()})),R=E.extend({audioSources:T}),H=M(R).extend({type:o.z.literal("audio")}),j=(I(R),o.z.object({id:o.z.string(),clonedFromId:o.z.string().optional(),state:o.z.string(),visible:o.z.boolean()})),V=o.z.object({id:o.z.string(),event:o.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:o.z.string().optional()}),B=V.extend({action:o.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:o.z.string()}),D=V.extend({action:o.z.literal("changeState"),targetId:o.z.string(),targetState:o.z.string().default("default")}),N=V.extend({action:o.z.literal("changeVisibility"),targetId:o.z.string(),targetVisibility:o.z.boolean()}),O=o.z.discriminatedUnion("action",[D,N,B]),F=o.z.object({id:o.z.string(),title:o.z.string().max(255),children:o.z.array(j).max(1),triggers:o.z.array(O),fonts:o.z.record(o.z.string()).optional(),_v:o.z.literal(7)}),Y=E.extend({children:o.z.array(j)}),K=M(Y).extend({type:o.z.literal("group")}),G=(I(Y),o.z.intersection(o.z.object({type:o.z.string().optional(),attrs:o.z.record(o.z.any()).optional(),content:o.z.array(o.z.lazy((()=>G))).optional(),marks:o.z.array(o.z.intersection(o.z.object({type:o.z.string(),attrs:o.z.record(o.z.any()).optional()}),o.z.record(o.z.any()))).optional(),text:o.z.string().optional()}),o.z.record(o.z.any()))),q=o.z.object({id:o.z.string(),type:o.z.literal("tiptap"),json:G}),W=o.z.enum(["top","middle","bottom"]),U=o.z.object({top:o.z.number(),left:o.z.number(),bottom:o.z.number(),right:o.z.number()}),X=E.extend({text:q,textVerticalAlign:W.default("top"),textPadding:U}),Z=M(X).extend({type:o.z.literal("text")}),Q=(I(X),X.extend({altText:o.z.string().nullable().default(null)})),J=M(Q).extend({type:o.z.literal("shape")}),tt=(I(Q),o.z.object({default:o.z.string()})),et=E.extend({videoSources:tt}),nt=M(et).extend({type:o.z.literal("video")}),ot=(I(et),o.z.discriminatedUnion("type",[H,K,J,Z,nt])),it=o.z.object({blockuments:o.z.record(F).optional(),items:o.z.record(ot).optional()}),rt=(o.z.object({id:o.z.string(),blockumentId:o.z.string(),name:o.z.string().max(128)}),it),at={click:"click",hover:"hover",mediaPlay:"mediaPlay",mediaPause:"mediaPause",mediaEnd:"mediaEnd"},st={changeState:"changeState",changeVisibility:"changeVisibility",mediaPause:"mediaPause",mediaPlay:"mediaPlay",mediaEnd:"mediaEnd"}}}]);