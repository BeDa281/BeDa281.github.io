"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[811],{8761:(t,e,n)=>{n.d(e,{A:()=>l,b:()=>s});var i=n(1182),o=n.n(i),a=n(2806),r=n.n(a)()(o());r.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2, h3, h4, h5) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2, h3, h4, h5) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2, h3, h4, h5)) {\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2, h3, h4, h5)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);var s="hXRin0tc";const l=r},811:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Si});var i=n(6218),o=(n(9763),n(2604)),a=n.n(o),r=n(101),s=n.n(r),l=n(5863),d=n.n(l),c=n(3124),u=n.n(c),m=n(6896),p=n.n(m),g=n(9917),f=n.n(g),_=n(8761),h={};h.styleTagTransform=f(),h.setAttributes=u(),h.insert=d().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=p(),a()(_.A,h),_.A&&_.A.locals&&_.A.locals;var y=n(7268);const $="isLearn",v=()=>(0,y.getContext)($)??!1;function b(t){return`assets/${t.path}`}var z=n(6195);const x=z.z.object({id:z.z.string(),path:z.z.string(),name:z.z.string(),width:z.z.number().optional(),height:z.z.number().optional()}),w=z.z.object({unit:z.z.enum(["px","%","auto","fr"]),value:z.z.number()}),k=z.z.object({applied:z.z.boolean().default(!1),type:z.z.enum(["none","fill"]).default("none"),color:z.z.string().default("#000000"),opacity:z.z.number().default(1),style:z.z.enum(["solid","dashed","dotted"]).default("solid"),width:w.default({value:1,unit:"px"})}),S=z.z.object({assetId:z.z.string().optional(),color:z.z.string().optional(),opacity:z.z.number().min(0).max(1).default(1)}),A=S.extend({type:z.z.literal("color"),color:z.z.string().default("#e4e4e4")}),C=z.z.object({width:z.z.number(),height:z.z.number(),left:z.z.number(),top:z.z.number()}),I=S.extend({type:z.z.literal("image"),assetId:z.z.string(),crop:C.default({width:1,height:1,left:0,top:0})}),M=S.extend({type:z.z.literal("none")}),E=z.z.discriminatedUnion("type",[A,I,M]),L=z.z.discriminatedUnion("type",[A,M]),j=z.z.object({top:w.default({value:0,unit:"px"}),left:w.default({value:0,unit:"px"}),bottom:w.default({value:0,unit:"px"}),right:w.default({value:0,unit:"px"})}),T=z.z.object({id:z.z.string(),name:z.z.string().max(128)}),P=T.extend({x:w.default({value:0,unit:"px"}),y:w.default({value:0,unit:"px"}),xOffset:z.z.number().default(0),yOffset:z.z.number().default(0),position:z.z.literal("absolute").default("absolute"),width:w.default({value:100,unit:"%"}),height:w.default({value:100,unit:"%"}),padding:j,fill:E,overlay:L,aspectRatioLocked:z.z.boolean(),border:k,borderRadius:z.z.object({applied:z.z.boolean().default(!1),topLeft:w.default({value:0,unit:"px"}),topRight:w.default({value:0,unit:"px"}),bottomRight:w.default({value:0,unit:"px"}),bottomLeft:w.default({value:0,unit:"px"})}),rotation:z.z.number().default(0),flipX:z.z.boolean().default(!1),flipY:z.z.boolean().default(!1)}),F=t=>z.z.intersection(T,t.partial()),H=t=>z.z.intersection(z.z.object({default:t}),z.z.record(F(t))),Y=t=>z.z.object({id:z.z.string(),blockumentId:z.z.string(),clonedFromId:z.z.string().optional(),parentId:z.z.string(),type:z.z.string(),name:z.z.string().max(128),tagName:z.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:z.z.boolean().default(!1),authoringVisible:z.z.boolean().default(!0),initialVisible:z.z.boolean().default(!0),initialState:z.z.string().default("default"),states:H(t),assets:z.z.record(x).default({}).optional(),removed:z.z.boolean().default(!1)}),B=(F(P),z.z.object({id:z.z.string(),clonedFromId:z.z.string().optional(),state:z.z.string(),visible:z.z.boolean()})),R=z.z.object({id:z.z.string(),event:z.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:z.z.string().optional()}),q=R.extend({action:z.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:z.z.string()}),N=R.extend({action:z.z.literal("changeState"),targetId:z.z.string(),targetState:z.z.string().default("default")}),W=R.extend({action:z.z.literal("changeVisibility"),targetId:z.z.string(),targetVisibility:z.z.boolean()}),K=z.z.discriminatedUnion("action",[N,W,q]),O=z.z.object({id:z.z.string(),title:z.z.string().max(255),children:z.z.array(B).max(1),triggers:z.z.array(K)}),V=P.extend({children:z.z.array(B)}),X=Y(V).extend({type:z.z.literal("group")}),U=(F(V),P.extend({altText:z.z.string().default("")})),D=Y(U).extend({type:z.z.literal("image")}),Q=(F(U),z.z.intersection(z.z.object({type:z.z.string().optional(),attrs:z.z.record(z.z.any()).optional(),content:z.z.array(z.z.lazy((()=>Q))).optional(),marks:z.z.array(z.z.intersection(z.z.object({type:z.z.string(),attrs:z.z.record(z.z.any()).optional()}),z.z.record(z.z.any()))).optional(),text:z.z.string().optional()}),z.z.record(z.z.any()))),J=z.z.object({id:z.z.string(),type:z.z.literal("tiptap"),json:Q}),Z=z.z.enum(["top","middle","bottom"]),G=P.extend({text:J,textVerticalAlign:Z.default("top")}),tt=Y(G).extend({type:z.z.literal("text")}),et=(F(G),G.extend({clipPath:z.z.literal("ellipse").nullable().default(null),altText:z.z.string().nullable().default(null)})),nt=Y(et).extend({type:z.z.literal("shape")}),it=(F(et),z.z.object({default:z.z.string()})),ot=P.extend({videoSources:it}),at=Y(ot).extend({type:z.z.literal("video")}),rt=(F(ot),z.z.discriminatedUnion("type",[X,D,nt,tt,at])),st=z.z.object({blockuments:z.z.record(O).optional(),items:z.z.record(rt).optional()}),lt=(z.z.object({accentContrast:z.z.string(),allowSearch:z.z.boolean(),animateBlockEntrance:z.z.boolean(),blockPaddingBottom:z.z.number(),blockPaddingTop:z.z.number(),bodyTypefaceId:z.z.string(),buttonInlineStyle:z.z.string(),buttonNavigationStyle:z.z.string(),buttonScheme:z.z.string(),colorAccent:z.z.string(),compactShowLessonCount:z.z.boolean(),coverImage:z.z.string(),coverImageAlpha:z.z.number(),coverImageDefault:z.z.string(),coverPageType:z.z.string(),customColorLessonHeaderContrast:z.z.string(),enableVideoPlaybackSpeed:z.z.boolean(),headingTypefaceId:z.z.string(),hideLessonHeaders:z.z.boolean(),lessonHeaderColor:z.z.string().nullable(),lessonHeaderImage:z.z.string(),lessonHeaderImageAlpha:z.z.number(),lessonHeaderImageColor:z.z.string(),lessonHeaderSize:z.z.string(),lessonHeaderStyle:z.z.string(),markLessonsComplete:z.z.boolean(),navigation:z.z.boolean(),navigationRestricted:z.z.boolean(),navigationStyle:z.z.string(),showAuthor:z.z.boolean(),showLessonCount:z.z.boolean(),showNavigationButtons:z.z.boolean(),sidebarStartsOpen:z.z.boolean(),themeId:z.z.string(),uiTypefaceId:z.z.string()}),z.z.enum(["bold","regular","light","italic","black","semibold","semibolditalic","bolditalic","medium"])),dt=z.z.object({id:z.z.string(),key:z.z.string(),original:z.z.string().nullable(),style:lt}),ct=z.z.object({id:z.z.string(),name:z.z.string(),author:z.z.string().nullable(),createdAt:z.z.string(),default:z.z.boolean(),fonts:z.z.record(dt)}),ut=(z.z.record(ct),z.z.union([z.z.boolean(),z.z.number(),z.z.string()])),mt=(z.z.record(ut),z.z.object({featureFlags:z.z.any().optional(),theme:z.z.any().optional(),typefaces:z.z.any().optional()}),z.z.object({id:z.z.string(),blockumentId:z.z.string(),name:z.z.string().max(128)}),st);var pt;!function(t){t.APP="app",t.BLOCKUMENT="blockument",t.COURSE="course"}(pt||(pt={})),n(9840);var gt=n(4198),ft=n(2559);const _t=14,ht=1.2,yt="merriweather",$t="lato",vt="#000000",bt={2:{fontSize:24,lineHeight:1.4,fontFamily:$t},3:{fontSize:18,lineHeight:1.4,fontFamily:$t},4:{fontSize:16,lineHeight:1.3,fontFamily:$t},5:{fontSize:14,lineHeight:1.3,fontFamily:$t}};function zt({tr:t}){const{$head:e}=t.selection;return t.setSelection(new ft.U3(t.doc.resolve(e.start()),t.doc.resolve(e.end()))),!0}function xt(t,e,n){const i=n.getAttributes("textStyle").color,o=n.getAttributes("paragraph").textAlign||n.getAttributes("heading").textAlign||"left";if(t=t.command(zt).unsetMark("textStyle").unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),"paragraph"===e)t=t.setParagraph().setTextSize(_t).setLineHeight(ht).setFontFamily(yt);else{const n=parseInt(e.substring(1)),i=bt[n];t=t.setHeading({level:n}).setTextSize(i.fontSize).setLineHeight(i.lineHeight).setFontFamily(i.fontFamily)}return t=t.setColor(i),"left"!==o&&(t=t.setTextAlign(o)),t}function wt(t,e){const n=t.chain(),i=t.isActive("heading"),o=i?t.getAttributes("heading").level:null,a=e.startsWith("h")?parseInt(e.substring(1)):null;if(i&&o===a)return xt(n,"paragraph",t).run();const{$head:r}=t.state.selection,s=0===r.parent.content.size;let l=xt(n,e,t);if(s)if("paragraph"===e)l=l.setTextSize(_t).setFontFamily(yt).setColor(vt);else{const t=parseInt(e.substring(1)),n=bt[t];l=l.setTextSize(n.fontSize).setFontFamily(n.fontFamily).setColor(vt)}return l.run()}const kt=gt.YY.create({name:"headingShortcuts",addKeyboardShortcuts(){return{"Mod-Alt-2":()=>wt(this.editor,"h2"),"Mod-Alt-3":()=>wt(this.editor,"h3"),"Mod-Alt-4":()=>wt(this.editor,"h4"),"Mod-Alt-5":()=>wt(this.editor,"h5")}}});var St=n(4717),At=n(3004),Ct=n(4758),It=n(2359),Mt=n(31),Et=n(2740),Lt=n(5873),jt=n(9395);const Tt=/([a-z%]+)\s*$/i,Pt=gt.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle","highlight"],attributes:{textSize:{default:_t,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const i=Tt.exec(e);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e,editor:n})=>{const i=n.isActive("highlight"),o=e().setMark("textStyle",{textSize:t});return i&&o.setMark("highlight",{textSize:t}),o.run()}})}),Ft=gt.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph","heading"],attributes:{lineHeight:{default:ht,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>{const n=e.updateAttributes("paragraph",{lineHeight:t}),i=e.updateAttributes("heading",{lineHeight:t});return n&&i}})}),Ht=gt.YY.create({name:"fontFamily",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{fontFamily:{default:yt,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}],addCommands:()=>({setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run()})});St.A.configure({types:["textStyle"]});const Yt=gt.YY.create({name:"init",addCommands:()=>({initFontFamily:()=>({chain:t})=>t().setFontFamily(yt).run(),initLineHeight:()=>({chain:t})=>t().setLineHeight(ht).run(),initTextSize:()=>({chain:t})=>t().setTextSize(_t).run(),initColor:()=>({chain:t})=>t().setColor(vt).run()})}),Bt="latestDefocusedSelectionDecoration",Rt=gt.YY.create({name:Bt,addProseMirrorPlugins:()=>[new ft.k_({key:new ft.hs(Bt),state:{init:t=>Lt.zF.empty,apply(t,e){const{doc:n,selection:i}=t,o=t.getMeta(Bt),a=i&&i.from!==i.to;if(!a||"focus"===o?.action)return Lt.zF.empty;if(a&&"blur"===o?.action){const t=Lt.NZ.inline(i.from,i.to,{class:"latest-defocused-selection",nodeName:"mark"});return Lt.zF.create(n,[t])}return e}},props:{decorations(t){return this.getState(t)},handleDOMEvents:{blur(t){const{tr:e}=t.state,n=e.setMeta(Bt,{from:e.selection.from,to:e.selection.to,action:"blur"});t.dispatch(n)},focus(t){const{tr:e}=t.state,n=e.setMeta(Bt,{from:e.selection.from,to:e.selection.to,action:"focus"});t.dispatch(n)}}}})]}),qt=gt.YY.create({name:"clearMarksOnEnter",addKeyboardShortcuts(){return{Enter:()=>{const{state:t}=this.editor,{selection:e}=t,{$from:n,empty:i}=e;if(!i)return!1;if("heading"!==n.parent.type.name)return!1;const o=n.marks().filter((t=>"textStyle"===t.type.name));let a=null;o.length>0&&(a=o[0].attrs.color||null);let r=this.editor.chain().splitBlock().setNode("paragraph");return r=r.unsetMark("bold").unsetMark("italic").unsetMark("underline").unsetMark("strike").unsetMark("highlight"),r=a?r.setMark("textStyle",{color:a}):r.unsetMark("textStyle"),r.run()}}}}),Nt=[jt.A.configure({history:!1,heading:{levels:[2,3,4,5]}}),It.A.configure({types:["heading","paragraph"]}),At.Ay.configure({multicolor:!0}),kt,qt,Mt.A,St.A,Pt,Ft,Et.A,Ct.A,Ht,Yt,Rt],Wt=((0,gt._w)(Nt),"click"),Kt="mediaPlay",Ot="mediaPause",Vt="mediaEnd",Xt="changeState",Ut="changeVisibility",Dt="mediaPause",Qt="mediaPlay",Jt="mediaEnd";var Zt=n(1120);function Gt(t,e,n,i){return e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}}const te=new Map,ee="ItemRenderingContext";function ne(t,e){te.set(t.id,e)}function ie(t){return te.get(t.id)}function oe(t){te.delete(t.id)}const{min:ae}=Math;function re(t,e,n){return t+n<=e?t:t*e/(t+n)}function se(t,e,n,i,o){return ae(re(n,e,t),re(n,i,o))}var le=n(4015),de=n.n(le);function ce(t,e,n=Object.keys(t.states.default)){const i=t.states.default,o=structuredClone(t.states[e]);return n.reduce(((t,e)=>(de()(t[e])&&(t[e]=structuredClone(i[e])),t)),o)}var ue=n(3134),me=n.n(ue);const pe=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}},{Map:ge}=i.globals;function fe(t,e,n){const i=t.slice();return i[2]=e[n],i}function _e(t,e){let n,o;return{key:t,first:null,c(){n=(0,i.element)("link"),(0,i.attr)(n,"rel","prefetch"),(0,i.attr)(n,"href",o=b(e[2])),(0,i.attr)(n,"as","image"),this.first=n},m(t,e){(0,i.insert)(t,n,e)},p(t,a){e=t,1&a&&o!==(o=b(e[2]))&&(0,i.attr)(n,"href",o)},d(t){t&&(0,i.detach)(n)}}}function he(t){let e,n=[],o=new ge,a=(0,i.ensure_array_like)(t[0].values());const r=t=>t[2].id;for(let e=0;e<a.length;e+=1){let i=fe(t,a,e),s=r(i);o.set(s,n[e]=_e(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,i.empty)()},m(t,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,i.append)(document.head,e)},p(t,[s]){1&s&&(a=(0,i.ensure_array_like)(t[0].values()),n=(0,i.update_keyed_each)(n,s,r,1,t,a,o,e.parentNode,i.destroy_block,_e,e,fe))},i:i.noop,o:i.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,i.detach)(e)}}}function ye(t,e,n){let i,{items:o}=e;return t.$$set=t=>{"items"in t&&n(1,o=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=new Map(o.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[i,o]}class $e extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ye,he,i.safe_not_equal,{items:1})}}const ve=$e;function be(t){(0,i.append_styles)(t,"svelte-181z567",".mondrian__mon-clip-path-33A7NL{position:absolute;inset:0;clip-path:content-box}.mondrian__mon-clip-path-33A7NL.mondrian__--ellipse-2-dDi{clip-path:ellipse(50% 50%)}")}function ze(t){let e,n;const o=t[3].default,a=(0,i.create_slot)(o,t,t[2],null);return{c(){e=(0,i.element)("div"),a&&a.c(),(0,i.attr)(e,"class","mondrian__mon-clip-path-33A7NL"),(0,i.toggle_class)(e,"mondrian__--ellipse-2-dDi","ellipse"===t[0]),(0,i.set_style)(e,"border-radius",t[1])},m(t,o){(0,i.insert)(t,e,o),a&&a.m(e,null),n=!0},p(t,[r]){a&&a.p&&(!n||4&r)&&(0,i.update_slot_base)(a,o,t,t[2],n?(0,i.get_slot_changes)(o,t[2],r,null):(0,i.get_all_dirty_from_scope)(t[2]),null),(!n||1&r)&&(0,i.toggle_class)(e,"mondrian__--ellipse-2-dDi","ellipse"===t[0]),2&r&&(0,i.set_style)(e,"border-radius",t[1])},i(t){n||((0,i.transition_in)(a,t),n=!0)},o(t){(0,i.transition_out)(a,t),n=!1},d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function xe(t,e,n){let i,{$$slots:o={},$$scope:a}=e,{clipPath:r}=e;return t.$$set=t=>{"clipPath"in t&&n(0,r=t.clipPath),"$$scope"in t&&n(2,a=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(1,i="ellipse"!==r&&r.applied?[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft].map(pe).join(" "):void 0)},[r,i,a,o]}class we extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,xe,ze,i.safe_not_equal,{clipPath:0},be)}}const ke=we;function Se(t){(0,i.append_styles)(t,"svelte-y172nk",".mondrian__fill-28Ulya{position:absolute;inset:0;transition:inherit;border-radius:inherit}.mondrian__fill-image-3g2lhQ{overflow:hidden}.mondrian__fill-image-3g2lhQ .mondrian__image-lJ-0q6{background-size:cover;background-position:center}")}function Ae(t){let e,n,o=100*t[1].crop.width+"%",a=100*t[1].crop.height+"%",r=`translate(${(50*(1-t[1].crop.width)+100*t[1].crop.left)/t[1].crop.width}%, ${(50*(1-t[1].crop.height)+100*t[1].crop.top)/t[1].crop.height}%`;return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","mondrian__image-lJ-0q6"),(0,i.attr)(n,"aria-label",t[0]),(0,i.set_style)(n,"background-image",t[2]),(0,i.set_style)(n,"opacity",t[1].opacity),(0,i.set_style)(n,"width",o),(0,i.set_style)(n,"height",a),(0,i.set_style)(n,"transform",r),(0,i.attr)(e,"class","mondrian__fill-28Ulya mondrian__fill-image-3g2lhQ")},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,e){1&e&&(0,i.attr)(n,"aria-label",t[0]),4&e&&(0,i.set_style)(n,"background-image",t[2]),2&e&&(0,i.set_style)(n,"opacity",t[1].opacity),2&e&&o!==(o=100*t[1].crop.width+"%")&&(0,i.set_style)(n,"width",o),2&e&&a!==(a=100*t[1].crop.height+"%")&&(0,i.set_style)(n,"height",a),2&e&&r!==(r=`translate(${(50*(1-t[1].crop.width)+100*t[1].crop.left)/t[1].crop.width}%, ${(50*(1-t[1].crop.height)+100*t[1].crop.top)/t[1].crop.height}%`)&&(0,i.set_style)(n,"transform",r)},d(t){t&&(0,i.detach)(e)}}}function Ce(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"class","mondrian__fill-28Ulya fill-color"),(0,i.set_style)(e,"background-color",t[1].color),(0,i.set_style)(e,"opacity",t[1].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,n){2&n&&(0,i.set_style)(e,"background-color",t[1].color),2&n&&(0,i.set_style)(e,"opacity",t[1].opacity)},d(t){t&&(0,i.detach)(e)}}}function Ie(t){let e;function n(t,e){return"color"===t[1].type?Ce:"image"===t[1].type?Ae:void 0}let o=n(t),a=o&&o(t);return{c(){a&&a.c(),e=(0,i.empty)()},m(t,n){a&&a.m(t,n),(0,i.insert)(t,e,n)},p(t,[i]){o===(o=n(t))&&a?a.p(t,i):(a&&a.d(1),a=o&&o(t),a&&(a.c(),a.m(e.parentNode,e)))},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function Me(t,e,n){let i,{altText:o}=e,{assets:a}=e,{fill:r}=e;return t.$$set=t=>{"altText"in t&&n(0,o=t.altText),"assets"in t&&n(3,a=t.assets),"fill"in t&&n(1,r=t.fill)},t.$$.update=()=>{10&t.$$.dirty&&n(2,i="image"===r.type&&a?.[r.assetId]?`url("${b(a?.[r.assetId])}")`:null)},[o,r,i,a]}class Ee extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Me,Ie,i.safe_not_equal,{altText:0,assets:3,fill:1},Se)}}const Le=Ee;function je(t){(0,i.append_styles)(t,"svelte-1h2ri7t","svg.mondrian__border-2E5H6C{position:absolute;pointer-events:none}svg.mondrian__border-2E5H6C path{fill:none;stroke-linecap:round}")}function Te(t){let e,n,o,a,r;return{c(){e=(0,i.svg_element)("svg"),n=(0,i.svg_element)("path"),(0,i.attr)(n,"stroke-width",t[3]),(0,i.attr)(n,"stroke",o=t[2].color),(0,i.attr)(n,"stroke-dasharray",t[4]),(0,i.attr)(n,"d",t[5]),(0,i.attr)(e,"class","mondrian__border-2E5H6C"),(0,i.attr)(e,"viewBox",t[7]),(0,i.attr)(e,"width",a=t[0].value+t[3]),(0,i.attr)(e,"height",r=t[1].value+t[3]),(0,i.set_style)(e,"inset",t[6]),(0,i.set_style)(e,"opacity",t[2].opacity)},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,s){8&s&&(0,i.attr)(n,"stroke-width",t[3]),4&s&&o!==(o=t[2].color)&&(0,i.attr)(n,"stroke",o),16&s&&(0,i.attr)(n,"stroke-dasharray",t[4]),32&s&&(0,i.attr)(n,"d",t[5]),128&s&&(0,i.attr)(e,"viewBox",t[7]),9&s&&a!==(a=t[0].value+t[3])&&(0,i.attr)(e,"width",a),10&s&&r!==(r=t[1].value+t[3])&&(0,i.attr)(e,"height",r),64&s&&(0,i.set_style)(e,"inset",t[6]),4&s&&(0,i.set_style)(e,"opacity",t[2].opacity)},d(t){t&&(0,i.detach)(e)}}}function Pe(t){let e,n=t[2].applied&&Te(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){t[2].applied?n?n.p(t,i):(n=Te(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}function Fe(t,e,n){let i,o,a,r,s,l,d,c,{width:u}=e,{height:m}=e,{border:p}=e,{clipPath:g}=e;return t.$$set=t=>{"width"in t&&n(0,u=t.width),"height"in t&&n(1,m=t.height),"border"in t&&n(2,p=t.border),"clipPath"in t&&n(8,g=t.clipPath)},t.$$.update=()=>{1&t.$$.dirty&&n(10,i=u.value),2&t.$$.dirty&&n(9,o=m.value),4&t.$$.dirty&&n(3,a=p.width.value),8&t.$$.dirty&&n(11,r=a/2),1544&t.$$.dirty&&n(7,s=`0 0 ${i+a} ${o+a}`),2048&t.$$.dirty&&n(6,l=`${-r}px auto auto ${-r}px`),3840&t.$$.dirty&&n(5,d=`M ${r} ${r} `+function(t,e,n){let i="m 0 0";if("ellipse"===n)i+=` m ${t} ${e/2}`,i+=` a ${t/2} ${e/2} 0 0 1 ${-t},0`,i+=` a ${t/2} ${e/2} 0 0 1 ${t},0`;else if(n.applied){const o=n.topRight.value,a=n.bottomRight.value,r=n.bottomLeft.value,s=n.topLeft.value,l=se(s,t,o,e,a),d=se(o,e,a,t,r),c=se(a,t,r,e,s),u=se(r,e,s,t,o);i+=` m ${u} 0`,i+=` l ${t-u-l} 0 a ${l} ${l} 0 0 1 ${l},${l}`,i+=` l 0 ${e-l-d} a ${d} ${d} 0 0 1 ${-d},${d}`,i+=` l ${d+c-t} 0 a ${c} ${c} 0 0 1 ${-c},${-c}`,i+=` l 0 ${c+u-e} a ${u} ${u} 0 0 1 ${u},${-u}`}else i+=` l ${t} 0`,i+=` l 0 ${e}`,i+=` l ${-t} 0`,i+=" l 0 "+-e;return i+=" z",i}(i,o,g)),12&t.$$.dirty&&n(4,c="dashed"===p.style?`${2*a} ${2*a}`:"dotted"===p.style?"0 "+2*a:void 0)},[u,m,p,a,c,d,l,s,g,o,i,r]}class He extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Fe,Pe,i.safe_not_equal,{width:0,height:1,border:2,clipPath:8},je)}}const Ye=He;function Be(t){(0,i.append_styles)(t,"svelte-mb8d5b",".mondrian__mon-item-image-v7gcDy{position:absolute;inset:0}")}function Re(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"aria-label",t[0]),(0,i.attr)(e,"class","mondrian__mon-item-image-v7gcDy"),(0,i.attr)(e,"role","img")},m(t,n){(0,i.insert)(t,e,n)},p(t,[n]){1&n&&(0,i.attr)(e,"aria-label",t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function qe(t,e,n){let i,{item:o}=e,{stateId:a}=e;return t.$$set=t=>{"item"in t&&n(1,o=t.item),"stateId"in t&&n(2,a=t.stateId)},t.$$.update=()=>{6&t.$$.dirty&&n(0,i=o.states[a]?.altText??"")},[i,o,a]}class Ne extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,qe,Re,i.safe_not_equal,{item:1,stateId:2},Be)}}const We=Ne;function Ke(t){(0,i.append_styles)(t,"svelte-1nhg2c9",".mondrian__mon-item-mouse-trigger-2f2dTf{position:absolute;inset:0}.mondrian__mon-item-mouse-trigger-2f2dTf.mondrian__--visible-3hMjQT{pointer-events:initial}.mondrian__mon-item-mouse-trigger-2f2dTf.mondrian__--clickable-2-WSjW{cursor:pointer}")}function Oe(t){let e,n;return e=new Le({props:{altText:t[3],assets:t[0].assets,fill:t[5]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};8&n&&(i.altText=t[3]),1&n&&(i.assets=t[0].assets),32&n&&(i.fill=t[5]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ve(t){let e,n;return e=new Le({props:{assets:t[0].assets,fill:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n&&(i.assets=t[0].assets),16&n&&(i.fill=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Xe(t){let e,n,o,a,r,s,l=null!=t[5]&&Oe(t),d=null!=t[4]&&Ve(t);return{c(){l&&l.c(),e=(0,i.space)(),d&&d.c(),n=(0,i.space)(),o=(0,i.element)("div"),(0,i.attr)(o,"class","mondrian__mon-item-mouse-trigger-2f2dTf"),(0,i.attr)(o,"role",a=t[2]?"button":void 0),(0,i.attr)(o,"tabindex",r=t[2]?0:void 0),(0,i.toggle_class)(o,"mondrian__--visible-3hMjQT",t[1]),(0,i.toggle_class)(o,"mondrian__--clickable-2-WSjW",t[2])},m(t,a){l&&l.m(t,a),(0,i.insert)(t,e,a),d&&d.m(t,a),(0,i.insert)(t,n,a),(0,i.insert)(t,o,a),s=!0},p(t,c){null!=t[5]?l?(l.p(t,c),32&c&&(0,i.transition_in)(l,1)):(l=Oe(t),l.c(),(0,i.transition_in)(l,1),l.m(e.parentNode,e)):l&&((0,i.group_outros)(),(0,i.transition_out)(l,1,1,(()=>{l=null})),(0,i.check_outros)()),null!=t[4]?d?(d.p(t,c),16&c&&(0,i.transition_in)(d,1)):(d=Ve(t),d.c(),(0,i.transition_in)(d,1),d.m(n.parentNode,n)):d&&((0,i.group_outros)(),(0,i.transition_out)(d,1,1,(()=>{d=null})),(0,i.check_outros)()),(!s||4&c&&a!==(a=t[2]?"button":void 0))&&(0,i.attr)(o,"role",a),(!s||4&c&&r!==(r=t[2]?0:void 0))&&(0,i.attr)(o,"tabindex",r),(!s||2&c)&&(0,i.toggle_class)(o,"mondrian__--visible-3hMjQT",t[1]),(!s||4&c)&&(0,i.toggle_class)(o,"mondrian__--clickable-2-WSjW",t[2])},i(t){s||((0,i.transition_in)(l),(0,i.transition_in)(d),s=!0)},o(t){(0,i.transition_out)(l),(0,i.transition_out)(d),s=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(n),(0,i.detach)(o)),l&&l.d(t),d&&d.d(t)}}}function Ue(t){let e,n;return e=new ke({props:{clipPath:t[6],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};64&n&&(i.clipPath=t[6]),1087&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function De(t){return("clipPath"in t?t.clipPath:null)??t.borderRadius}function Qe(t,e,n){let i,o,a,r,s,l,{item:d}=e,{stateId:c}=e,{visible:u}=e,{clickable:m=!1}=e;return t.$$set=t=>{"item"in t&&n(0,d=t.item),"stateId"in t&&n(7,c=t.stateId),"visible"in t&&n(1,u=t.visible),"clickable"in t&&n(2,m=t.clickable)},t.$$.update=()=>{1&t.$$.dirty&&n(9,i=d.states.default),129&t.$$.dirty&&n(8,o=d.states[c]),768&t.$$.dirty&&n(6,a=De(o)??De(i)),768&t.$$.dirty&&n(5,r=o.fill??i.fill),768&t.$$.dirty&&n(4,s=o.overlay??i.overlay),256&t.$$.dirty&&n(3,l="altText"in o?o.altText??void 0:void 0)},[d,u,m,l,s,r,a,c,o,i]}class Je extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Qe,Ue,i.safe_not_equal,{item:0,stateId:7,visible:1,clickable:2},Ke)}}const Ze=Je;function Ge(t){(0,i.append_styles)(t,"svelte-11xtlh8",".mondrian__mon-item-transform-35_L4P{position:absolute;pointer-events:none}.mondrian__mon-item-transform-35_L4P.mondrian__--smooth-transitions-1R_oNu{transition:all 100ms ease}")}function tn(t){let e,n,o,a=`${t[8]}px`,r=`${t[7]}px`,s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`;const l=t[15].default,d=(0,i.create_slot)(l,t,t[14],null);return{c(){e=(0,i.element)("div"),d&&d.c(),(0,i.attr)(e,"class","mondrian__mon-item-transform-35_L4P"),(0,i.attr)(e,"data-item-id",n=t[0].id.slice(0,5)),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-1R_oNu",t[9]),(0,i.set_style)(e,"width",a),(0,i.set_style)(e,"height",r),(0,i.set_style)(e,"transform",s),(0,i.set_style)(e,"z-index",t[1])},m(t,n){(0,i.insert)(t,e,n),d&&d.m(e,null),o=!0},p(t,[c]){d&&d.p&&(!o||16384&c)&&(0,i.update_slot_base)(d,l,t,t[14],o?(0,i.get_slot_changes)(l,t[14],c,null):(0,i.get_all_dirty_from_scope)(t[14]),null),(!o||1&c&&n!==(n=t[0].id.slice(0,5)))&&(0,i.attr)(e,"data-item-id",n),256&c&&a!==(a=`${t[8]}px`)&&(0,i.set_style)(e,"width",a),128&c&&r!==(r=`${t[7]}px`)&&(0,i.set_style)(e,"height",r),124&c&&s!==(s=`translate(${t[6]}px, ${t[5]}px) rotate(${t[2]}deg) scale(${t[4]?-1:1}, ${t[3]?-1:1})`)&&(0,i.set_style)(e,"transform",s),2&c&&(0,i.set_style)(e,"z-index",t[1])},i(t){o||((0,i.transition_in)(d,t),o=!0)},o(t){(0,i.transition_out)(d,t),o=!1},d(t){t&&(0,i.detach)(e),d&&d.d(t)}}}function en(t,e,n){let i,o,a,r,s,l,d,c,{$$slots:u={},$$scope:m}=e,{item:p}=e,{stateId:g}=e,{zIndex:f}=e;const _=!(p.parentId===p.blockumentId)&&v();let h,y;return t.$$set=t=>{"item"in t&&n(0,p=t.item),"stateId"in t&&n(10,g=t.stateId),"zIndex"in t&&n(1,f=t.zIndex),"$$scope"in t&&n(14,m=t.$$scope)},t.$$.update=()=>{if(1&t.$$.dirty&&n(12,i=p.states.default),1025&t.$$.dirty&&n(13,o=p.states[g]),12288&t.$$.dirty&&n(8,a=(o.width??i.width).value),12288&t.$$.dirty&&n(7,r=(o.height??i.height).value),12288&t.$$.dirty&&n(6,s=i.x.value+(o.xOffset??0)),12288&t.$$.dirty&&n(5,l=i.y.value+(o.yOffset??0)),14340&t.$$.dirty){const t=o.rotation??i.rotation;if(null==h)n(2,y=t);else if(t!==h){let e=t-h;e>180?e-=360:e<=-180&&(e+=360),n(2,y+=e)}n(11,h=t)}12288&t.$$.dirty&&n(4,d=o.flipX??i.flipX),12288&t.$$.dirty&&n(3,c=o.flipY??i.flipY)},[p,f,y,c,d,l,s,r,a,_,g,h,i,o,m,u]}class nn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,en,tn,i.safe_not_equal,{item:0,stateId:10,zIndex:1},Ge)}}const on=nn;var an=n(3948);function rn(t){(0,i.append_styles)(t,"svelte-1xyxqy6",".mondrian__text-item-clip-1Mu5To{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.mondrian__text-item-clip-boundary-2wobao{width:100%;height:100%;position:relative}.mondrian__text-item-clip-boundary-2wobao.mondrian__--ellipse-2khF1W{width:calc(100% / sqrt(2));height:calc(100% / sqrt(2))}.mondrian__text-item-padding-boundary-1chpMl{display:flex;flex-direction:column;position:absolute;inset:0}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl{inset:16px}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl.mondrian__--small-3z35LY{left:8px;right:8px}.mondrian__--padded-1zvee6.mondrian__text-item-padding-boundary-1chpMl.mondrian__--large-3QCvMY{left:32px;right:32px}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-padding-boundary-1chpMl[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-clip-1Mu5To .tiptap{height:auto}")}function sn(t){let e,n,o,a,r;const s=t[6].default,l=(0,i.create_slot)(s,t,t[5],null);return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.element)("div"),l&&l.c(),(0,i.attr)(o,"class","mondrian__text-item-padding-boundary-1chpMl"),(0,i.attr)(o,"data-vertical-align",a=t[1].textVerticalAlign),(0,i.toggle_class)(o,"mondrian__--small-3z35LY",t[3]<=100),(0,i.toggle_class)(o,"mondrian__--large-3QCvMY",t[3]>300),(0,i.toggle_class)(o,"mondrian__--padded-1zvee6","shape"===t[0].type),(0,i.attr)(n,"class","mondrian__text-item-clip-boundary-2wobao"),(0,i.toggle_class)(n,"mondrian__--ellipse-2khF1W",t[2]),(0,i.attr)(e,"class","mondrian__text-item-clip-1Mu5To")},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),(0,i.append)(n,o),l&&l.m(o,null),r=!0},p(t,[e]){l&&l.p&&(!r||32&e)&&(0,i.update_slot_base)(l,s,t,t[5],r?(0,i.get_slot_changes)(s,t[5],e,null):(0,i.get_all_dirty_from_scope)(t[5]),null),(!r||2&e&&a!==(a=t[1].textVerticalAlign))&&(0,i.attr)(o,"data-vertical-align",a),(!r||8&e)&&(0,i.toggle_class)(o,"mondrian__--small-3z35LY",t[3]<=100),(!r||8&e)&&(0,i.toggle_class)(o,"mondrian__--large-3QCvMY",t[3]>300),(!r||1&e)&&(0,i.toggle_class)(o,"mondrian__--padded-1zvee6","shape"===t[0].type),(!r||4&e)&&(0,i.toggle_class)(n,"mondrian__--ellipse-2khF1W",t[2])},i(t){r||((0,i.transition_in)(l,t),r=!0)},o(t){(0,i.transition_out)(l,t),r=!1},d(t){t&&(0,i.detach)(e),l&&l.d(t)}}}function ln(t,e,n){let i,o,a,{$$slots:r={},$$scope:s}=e,{item:l}=e,{stateId:d}=e;return t.$$set=t=>{"item"in t&&n(0,l=t.item),"stateId"in t&&n(4,d=t.stateId),"$$scope"in t&&n(5,s=t.$$scope)},t.$$.update=()=>{17&t.$$.dirty&&n(1,i=ce(l,d)),2&t.$$.dirty&&n(3,o=i.width.value),2&t.$$.dirty&&n(2,a="clipPath"in i&&"ellipse"===i.clipPath)},[l,i,a,o,d,s,r]}class dn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ln,sn,i.safe_not_equal,{item:0,stateId:4},rn)}}const cn=dn;function un(t){(0,i.append_styles)(t,"svelte-bkp4g6",".mondrian__content-yaszMT p:empty{min-height:1lh}.mondrian__content-yaszMT{word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;font-variant-ligatures:none;font-feature-settings:'liga' 0}")}function mn(t){let e,n,o=(0,an.Z)(t[2],Nt)+"";return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap ProseMirror mondrian__content-yaszMT"),(0,i.attr)(e,"class",Fn)},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),n.innerHTML=o},p(t,e){4&e&&o!==(o=(0,an.Z)(t[2],Nt)+"")&&(n.innerHTML=o)},d(t){t&&(0,i.detach)(e)}}}function pn(t){let e,n;return e=new cn({props:{item:t[0],stateId:t[1],$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),12&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function gn(t,e,n){let i,{item:o}=e,{stateId:a}=e;return t.$$set=t=>{"item"in t&&n(0,o=t.item),"stateId"in t&&n(1,a=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(2,i=o.states[a].text?.json??o.states.default.text.json)},[o,a,i]}class fn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,gn,pn,i.safe_not_equal,{item:0,stateId:1},un)}}const _n=fn;function hn(t){(0,i.append_styles)(t,"svelte-vg4dc1",".mondrian__mon-video-wrapper-37dPyY{position:absolute;inset:0}video.mondrian__mon-item-video-1Wv5W4{pointer-events:initial;object-fit:cover;width:100%;height:100%}")}function yn(t){let e,n,o,a;return{c(){e=(0,i.element)("video"),(0,i.attr)(e,"class","mondrian__mon-item-video-1Wv5W4"),(0,i.src_url_equal)(e.src,n=t[3])||(0,i.attr)(e,"src",n),e.controls=!0},m(n,r){(0,i.insert)(n,e,r),t[7](e),o||(a=[(0,i.listen)(e,"play",t[4]),(0,i.listen)(e,"pause",t[5]),(0,i.listen)(e,"ended",t[6])],o=!0)},p(t,o){8&o&&!(0,i.src_url_equal)(e.src,n=t[3])&&(0,i.attr)(e,"src",n)},d(n){n&&(0,i.detach)(e),t[7](null),o=!1,(0,i.run_all)(a)}}}function $n(t){let e,n,o=t[1],a=yn(t);return{c(){e=(0,i.element)("div"),a.c(),(0,i.attr)(e,"class","mondrian__mon-video-wrapper-37dPyY"),(0,i.attr)(e,"data-item-id",n=t[0].id)},m(t,n){(0,i.insert)(t,e,n),a.m(e,null)},p(t,[r]){2&r&&(0,i.safe_not_equal)(o,o=t[1])?(a.d(1),a=yn(t),a.c(),a.m(e,null)):a.p(t,r),1&r&&n!==(n=t[0].id)&&(0,i.attr)(e,"data-item-id",n)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),a.d(t)}}}function vn(t,e,n){let o,a,{item:r}=e,{stateId:s}=e;function l(t){a.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{itemId:r.id}}))}return(0,y.onDestroy)((()=>{a&&oe(r)})),t.$$set=t=>{"item"in t&&n(0,r=t.item),"stateId"in t&&n(1,s=t.stateId)},t.$$.update=()=>{if(3&t.$$.dirty){const t=(r.states[s].videoSources??r.states.default.videoSources).default,e=t&&r.assets?.[t];n(3,o=e?b(e):void 0)}5&t.$$.dirty&&a&&ne(r,a)},[r,s,a,o,function(){l(Kt)},function(){l(Ot)},function(){l(Vt)},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class bn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,vn,$n,i.safe_not_equal,{item:0,stateId:1},hn)}}const zn=bn;function xn(t){(0,i.append_styles)(t,"svelte-1xuhpbp",".mondrian__mon-item-2qYEoK{position:absolute;inset:0}.mondrian__mon-item-2qYEoK.mondrian__--smooth-transitions-fWIe80{transition:opacity 100ms ease}.mondrian__mon-item-2qYEoK.mondrian__--hidden-s36Wik{opacity:0}.mondrian__mon-item-children-3w5s3j{isolation:isolate}")}function wn(t,e,n){const i=t.slice();return i[21]=e[n],i[0]=n,i}function kn(t){let e,n,o=[],a=new Map,r=(0,i.ensure_array_like)(t[9]);const s=t=>t[21].id;for(let e=0;e<r.length;e+=1){let n=wn(t,r,e),i=s(n);a.set(i,o[e]=Sn(i,n))}return{c(){e=(0,i.element)("div");for(let t=0;t<o.length;t+=1)o[t].c();(0,i.attr)(e,"class","mondrian__mon-item-children-3w5s3j")},m(t,a){(0,i.insert)(t,e,a);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,n){512&n&&(r=(0,i.ensure_array_like)(t[9]),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,t,r,a,e,i.outro_and_destroy_block,Sn,null,wn),(0,i.check_outros)())},i(t){if(!n){for(let t=0;t<r.length;t+=1)(0,i.transition_in)(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,i.transition_out)(o[t]);n=!1},d(t){t&&(0,i.detach)(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Sn(t,e){let n,o,a;return o=new Tn({props:{itemId:e[21].id,index:e[0]}}),{key:t,first:null,c(){n=(0,i.empty)(),(0,i.create_component)(o.$$.fragment),this.first=n},m(t,e){(0,i.insert)(t,n,e),(0,i.mount_component)(o,t,e),a=!0},p(t,n){e=t;const i={};512&n&&(i.itemId=e[21].id),512&n&&(i.index=e[0]),o.$set(i)},i(t){a||((0,i.transition_in)(o.$$.fragment,t),a=!0)},o(t){(0,i.transition_out)(o.$$.fragment,t),a=!1},d(t){t&&(0,i.detach)(n),(0,i.destroy_component)(o,t)}}}function An(t){let e,n;return e=new _n({props:{item:t[8],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};256&n&&(i.item=t[8]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Cn(t){let e,n;return e=new zn({props:{item:t[7],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};128&n&&(i.item=t[7]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function In(t){let e,n;return e=new We({props:{item:t[6],stateId:t[4]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};64&n&&(i.item=t[6]),16&n&&(i.stateId=t[4]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Mn(t){let e,n,o,a,r,s,l,d,c,u,m,p,g,f;n=new Ze({props:{item:t[3],stateId:t[4],visible:t[11],clickable:t[5]}}),a=new Ye({props:{width:t[2].width,height:t[2].height,border:t[2].border,clipPath:t[10]}});let _=t[9]&&kn(t),h=t[8]&&An(t),y=t[7]&&Cn(t),$=t[6]&&In(t);return{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),o=(0,i.space)(),(0,i.create_component)(a.$$.fragment),r=(0,i.space)(),_&&_.c(),s=(0,i.space)(),h&&h.c(),l=(0,i.space)(),y&&y.c(),d=(0,i.space)(),$&&$.c(),(0,i.attr)(e,"class","mondrian__mon-item-2qYEoK"),e.inert=c=!t[11],(0,i.attr)(e,"aria-hidden",u=!t[11]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-fWIe80",t[17]),(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},m(c,u){(0,i.insert)(c,e,u),(0,i.mount_component)(n,e,null),(0,i.append)(e,o),(0,i.mount_component)(a,e,null),(0,i.append)(e,r),_&&_.m(e,null),(0,i.append)(e,s),h&&h.m(e,null),(0,i.append)(e,l),y&&y.m(e,null),(0,i.append)(e,d),$&&$.m(e,null),p=!0,g||(f=(0,i.action_destroyer)(m=t[12].call(null,e,{item:t[3],triggers:t[1]})),g=!0)},p(t,o){const r={};8&o&&(r.item=t[3]),16&o&&(r.stateId=t[4]),2048&o&&(r.visible=t[11]),32&o&&(r.clickable=t[5]),n.$set(r);const g={};4&o&&(g.width=t[2].width),4&o&&(g.height=t[2].height),4&o&&(g.border=t[2].border),1024&o&&(g.clipPath=t[10]),a.$set(g),t[9]?_?(_.p(t,o),512&o&&(0,i.transition_in)(_,1)):(_=kn(t),_.c(),(0,i.transition_in)(_,1),_.m(e,s)):_&&((0,i.group_outros)(),(0,i.transition_out)(_,1,1,(()=>{_=null})),(0,i.check_outros)()),t[8]?h?(h.p(t,o),256&o&&(0,i.transition_in)(h,1)):(h=An(t),h.c(),(0,i.transition_in)(h,1),h.m(e,l)):h&&((0,i.group_outros)(),(0,i.transition_out)(h,1,1,(()=>{h=null})),(0,i.check_outros)()),t[7]?y?(y.p(t,o),128&o&&(0,i.transition_in)(y,1)):(y=Cn(t),y.c(),(0,i.transition_in)(y,1),y.m(e,d)):y&&((0,i.group_outros)(),(0,i.transition_out)(y,1,1,(()=>{y=null})),(0,i.check_outros)()),t[6]?$?($.p(t,o),64&o&&(0,i.transition_in)($,1)):($=In(t),$.c(),(0,i.transition_in)($,1),$.m(e,null)):$&&((0,i.group_outros)(),(0,i.transition_out)($,1,1,(()=>{$=null})),(0,i.check_outros)()),(!p||2048&o&&c!==(c=!t[11]))&&(e.inert=c),(!p||2048&o&&u!==(u=!t[11]))&&(0,i.attr)(e,"aria-hidden",u),m&&(0,i.is_function)(m.update)&&10&o&&m.update.call(null,{item:t[3],triggers:t[1]}),(!p||2048&o)&&(0,i.toggle_class)(e,"mondrian__--hidden-s36Wik",!t[11])},i(t){p||((0,i.transition_in)(n.$$.fragment,t),(0,i.transition_in)(a.$$.fragment,t),(0,i.transition_in)(_),(0,i.transition_in)(h),(0,i.transition_in)(y),(0,i.transition_in)($),p=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),(0,i.transition_out)(a.$$.fragment,t),(0,i.transition_out)(_),(0,i.transition_out)(h),(0,i.transition_out)(y),(0,i.transition_out)($),p=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),(0,i.destroy_component)(a),_&&_.d(),h&&h.d(),y&&y.d(),$&&$.d(),g=!1,f()}}}function En(t){let e,n;return e=new on({props:{item:t[3],stateId:t[4],zIndex:null!=t[0]?-t[0]:void 0,$$slots:{default:[Mn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};8&n&&(i.item=t[3]),16&n&&(i.stateId=t[4]),1&n&&(i.zIndex=null!=t[0]?-t[0]:void 0),8392702&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ln({event:t}){return"click"===t}function jn(t,e,n){let o,a,r,s,l,d,c,u,m,p,g,f,{itemId:_}=e,{index:h}=e;const $=function(){const t=(0,y.getContext)(ee);if(!t)throw new Error("This component must be provided with an ItemRenderingContext");return t}(),{bindTriggers:b}=$,z=$.getItem(_);(0,i.component_subscribe)(t,z,(t=>n(3,m=t)));const x=$.getState(_);(0,i.component_subscribe)(t,x,(t=>n(4,g=t)));const w=$.getVisible(_);(0,i.component_subscribe)(t,w,(t=>n(11,f=t)));const k=$.getTriggersBySourceId();(0,i.component_subscribe)(t,k,(t=>n(19,p=t)));const S=v();return t.$$set=t=>{"itemId"in t&&n(18,_=t.itemId),"index"in t&&n(0,h=t.index)},t.$$.update=()=>{24&t.$$.dirty&&n(2,o=ce(m,g)),4&t.$$.dirty&&n(10,a=("clipPath"in o?o.clipPath:null)??o.borderRadius),12&t.$$.dirty&&n(9,r="group"===m.type?o.children:void 0),8&t.$$.dirty&&n(8,s="shape"===m.type||"text"===m.type?m:void 0),8&t.$$.dirty&&n(7,l="video"===m.type?m:void 0),8&t.$$.dirty&&n(6,d="image"===m.type?m:void 0),524296&t.$$.dirty&&n(1,c=p.get(m.id)??[]),2&t.$$.dirty&&n(5,u=c.some(Ln))},[h,c,o,m,g,u,d,l,s,r,a,f,b,z,x,w,k,S,_,p]}class Tn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,jn,En,i.safe_not_equal,{itemId:18,index:0},xn)}}const Pn=Tn;i.SvelteComponent;const Fn=_.b,Hn=['input:not([type="checkbox"], [type="radio"])',"textarea","[contenteditable]"].join(", ");var Yn=n(9205);const Bn=n.n(Yn)()("mondrian").extend("keyboard"),Rn={activeModifierKeys:new Set,get alt(){return Rn.activeModifierKeys.has("Alt")},get meta(){return Rn.activeModifierKeys.has("Meta")||Rn.activeModifierKeys.has("Control")},get shift(){return Rn.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[Rn.meta&&"Meta",Rn.alt&&"Alt",Rn.shift&&"Shift",Rn.key].filter(Boolean).join("+")}};function qn({metaKey:t,altKey:e,shiftKey:n,ctrlKey:i},o){let a=!1;return t!==o.has("Meta")&&(a=!0,t?o.add("Meta"):o.delete("Meta")),e!==o.has("Alt")&&(a=!0,e?o.add("Alt"):o.delete("Alt")),n!==o.has("Shift")&&(a=!0,n?o.add("Shift"):o.delete("Shift")),i!==o.has("Control")&&(a=!0,i?o.add("Control"):o.delete("Control")),a}let Nn=!1;const Wn={...(0,Zt.readable)(Rn,(t=>{function e(e){const n="keydown"===e.type;qn(e,Rn.activeModifierKeys),Rn.key=n?e.key:void 0,t(Rn)}function n(e){qn(e,Rn.activeModifierKeys)&&t(Rn)}Nn||(Nn=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(Rn.activeModifierKeys.clear(),Rn.key=void 0,t(Rn))})),window.addEventListener("blur",(function(){Rn.activeModifierKeys.clear(),Rn.key=void 0,t(Rn)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(Rn.combo&&Bn(`comparing keycombos, store: ${Rn.combo}, comparison: ${t}`),Rn.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{!function(){const{activeElement:t}=document;return null!=t&&!!t.matches(Hn)}()&&Wn.is(t)&&(Bn("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},Kn=((0,Zt.derived)(Wn,(t=>t.meta)),(0,Zt.derived)(Wn,(t=>t.alt)),(0,Zt.derived)(Wn,(t=>t.shift)),{down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1}),On=((0,Zt.readable)(Kn,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function e(t){Kn.down=!0,Kn.downX=Kn.x=t.clientX,Kn.downY=Kn.y=t.clientY,Kn.target=t.target,o()}function n(){Kn.down=!1,Kn.downX=Kn.x=Kn.downY=Kn.y=-1,Kn.target=void 0,o()}function i(t){Kn.x=t.x,Kn.y=t.y,o()}function o(){t(Kn)}})),"mondrian-suspense");n(2466),i.SvelteComponent,n(2732);var Vn=n(5494);const Xn={nw:"top-start",n:"top",ne:"top-end",sw:"bottom-start",s:"bottom",se:"bottom-end"},Un=new ResizeObserver(Gn);let Dn,Qn,Jn;function Zn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===Dn)return;Qn&&(Qn.removeAttribute("data-active"),Un.unobserve(Qn));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return Dn=void 0,void(Qn=void 0);n.setAttribute("data-active","true"),n.showPopover(),Dn=e,Qn=n,Jn=Qn.querySelector("[data-mon-tooltip-arrow]"),Gn(),Un.observe(Qn)}async function Gn(){if(Dn&&Qn){const{x:t,y:e,middlewareData:n}=await(0,Vn.rD)(Dn,Qn,{middleware:[(0,Vn.cY)(5),(0,Vn.UU)(),(0,Vn.BN)(),(0,Vn.UE)({element:Jn})],strategy:"fixed",placement:Xn[Qn.getAttribute("data-position")]});if(Qn.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;Jn.style.left=null!=t?`${t}px`:"",Jn.style.top=null!=e?`${e}px`:""}}}function ti(t){(0,i.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",Zn,{passive:!0}),document.documentElement.addEventListener("mouseleave",Zn,{passive:!0}),document.addEventListener("scroll",Gn,{passive:!0,capture:!0}),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const ei=t=>({isLoading:1&t}),ni=t=>({isLoading:t[0]});function ii(t){let e,n;const o=t[2].default,a=(0,i.create_slot)(o,t,t[1],ni);return{c(){e=(0,i.element)("div"),a&&a.c(),(0,i.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,o){(0,i.insert)(t,e,o),a&&a.m(e,null),n=!0},p(t,[r]){a&&a.p&&(!n||3&r)&&(0,i.update_slot_base)(a,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],r,ei):(0,i.get_all_dirty_from_scope)(t[1]),ni),(!n||1&r)&&(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,i.transition_in)(a,t),n=!0)},o(t){(0,i.transition_out)(a,t),n=!1},d(t){t&&(0,i.detach)(e),a&&a.d(t)}}}function oi(t,e,n){let{$$slots:i={},$$scope:o}=e;const a=function(){const t=new Set;return(0,y.setContext)(On,t),t}();let r=!0;return(0,y.onMount)((()=>{Promise.all(a).then((()=>{n(0,r=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[r,o,i]}class ai extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,oi,ii,i.safe_not_equal,{},ti)}}const ri=ai;i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;var si=n(4993),li=n.n(si);const di=(t,{item:e,triggers:n})=>{function i(i,o={}){n.filter((t=>t.event===i)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...o})}))}const o=[...new Set(n.map((t=>t.event)))].map((e=>{switch(e){case"hover":{let n=!1;return[Gt("mouseenter",t,(t=>{n||(n=!0,i(e,{hovered:n}))})),Gt("mouseleave",t,(t=>{n&&(n=!1,i(e,{hovered:n}))}))]}case Wt:return[Gt("click",t,(t=>{i(e)})),Gt("keyup",t,(t=>{["Space","Enter"].includes(t.code)&&t.target===document.activeElement&&i(e)}))];case Kt:case Ot:case Vt:return Gt(e,t,(t=>{i(e)}));default:return Gt(e,t,(()=>{i(e)}))}})).flat(2).filter(Boolean);return{destroy(){o.forEach((t=>{t()}))}}},ci=(t,{items:e,currentStates:n,currentVisibles:i,triggers:o})=>{const a=me()(o,"sourceId"),r={[Xt](t,i,o){const a="self"===t.targetId?o:e[t.targetId];!1===i.hovered?n.get(a.id)?.revert(t.targetState):n.get(a.id)?.set(t.targetState)},[Ut](t,n,o){const a="self"===t.targetId?o:e[t.targetId];!1===n.hovered?i.get(a.id)?.set(!t.targetVisibility):i.get(a.id)?.set(t.targetVisibility)},[Dt](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"!==o.type)return;const a=ie(o);a&&a.pause()},[Qt](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"!==o.type)return;const a=ie(o);a&&a.play()},[Jt](t,n,i){const o="self"===t.targetId?i:e[t.targetId];if("video"!==o.type)return;const a=ie(o);a&&(a.currentTime=a.duration,a.pause())}},s=Gt("trigger",t,(t=>{const{itemId:n,triggerId:i,...o}=t.detail,s=e[n];if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const l=a[s.id]?.find((t=>t.id===i));if(!l)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const d=r[l.action];if(!d)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${l.action}' action could not be found.`);d(l,o,s)}));return{destroy(){s()}}},ui=function(){const t=(0,Zt.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:i}=t,o=new Map;return{subscribe:e,set:n,update:i,addManifest:(t,e)=>{o.set(t,e),a()},removeManifest:t=>{o.delete(t),a()}};function a(){n(function(...t){const e={blockuments:{},items:{}};for(const n of t)Object.assign(e.blockuments,n.blockuments),Object.assign(e.items,n.items);return e}(...o.values()))}}();function mi(t){(0,i.append_styles)(t,"svelte-16ijcvp",".mondrian__preview-L_XOPz{display:flex;justify-content:center;align-items:center;position:relative;width:100%}.mondrian__preview--empty-1j7eyn{background-color:var(--art-color-neutral-050)}.mondrian__item-wrapper-2afgtL{transform-origin:center;position:relative;overflow:hidden}.mondrian__width-gauge-1yjeUe{position:absolute;width:100%}")}function pi(t){let e,n;return e=new ve({props:{items:t[13]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p:i.noop,i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function gi(t){let e,n;return e=new ri({props:{$$slots:{default:[yi]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};268436220&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function fi(t){let e,n,o,a;return{c(){e=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(t[0]),a=(0,i.text)(" could not be loaded")},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(e,o),(0,i.append)(e,a)},p(t,e){1&e&&(0,i.set_data)(o,t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function _i(t){let e,n,o,a,r,s,l,d=`${t[4]}px`,c=`${t[3]}px`;return n=new Pn({props:{itemId:t[12]}}),{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),(0,i.attr)(e,"class","mondrian__item-wrapper-2afgtL"),(0,i.attr)(e,"role","region"),(0,i.attr)(e,"aria-label",o=t[10].title),(0,i.attr)(e,"aria-live",t[7]),(0,i.set_style)(e,"width",d),(0,i.set_style)(e,"height",c)},m(o,d){(0,i.insert)(o,e,d),(0,i.mount_component)(n,e,null),r=!0,s||(l=[(0,i.listen)(e,"focus",t[16]),(0,i.listen)(e,"blur",t[17]),(0,i.listen)(e,"focusin",t[16]),(0,i.listen)(e,"mouseover",t[16]),(0,i.listen)(e,"mouseout",t[17]),(0,i.listen)(e,"focusout",t[17]),(0,i.action_destroyer)(a=ci.call(null,e,{items:t[11],currentStates:t[14],currentVisibles:t[15],triggers:t[10].triggers}))],s=!0)},p(t,n){(!r||128&n)&&(0,i.attr)(e,"aria-live",t[7]),16&n&&d!==(d=`${t[4]}px`)&&(0,i.set_style)(e,"width",d),8&n&&c!==(c=`${t[3]}px`)&&(0,i.set_style)(e,"height",c)},i(t){r||((0,i.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),r=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),s=!1,(0,i.run_all)(l)}}}function hi(t){let e,n,o,a,r,s,l,d,c,u,m,p=`scale(${t[6]})`,g=`${t[4]}px`,f=`${t[3]}px`,_=(t[3]??500)*t[6]+"px";return s=new Pn({props:{itemId:t[12]}}),{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.space)(),a=(0,i.element)("div"),r=(0,i.element)("div"),(0,i.create_component)(s.$$.fragment),(0,i.attr)(n,"class","mondrian__width-gauge-1yjeUe"),(0,i.attr)(r,"class","mondrian__item-wrapper-2afgtL"),(0,i.attr)(r,"role","region"),(0,i.attr)(r,"aria-label",l=t[10].title),(0,i.attr)(r,"aria-live",t[7]),(0,i.set_style)(r,"transform",p),(0,i.set_style)(r,"width",g),(0,i.set_style)(r,"height",f),(0,i.attr)(e,"class","mondrian__preview-L_XOPz"),(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[9]),(0,i.set_style)(e,"height",_)},m(l,p){(0,i.insert)(l,e,p),(0,i.append)(e,n),t[23](n),(0,i.append)(e,o),(0,i.append)(e,a),(0,i.append)(a,r),(0,i.mount_component)(s,r,null),c=!0,u||(m=[(0,i.listen)(r,"focus",t[16]),(0,i.listen)(r,"blur",t[17]),(0,i.listen)(r,"focusin",t[16]),(0,i.listen)(r,"mouseover",t[16]),(0,i.listen)(r,"mouseout",t[17]),(0,i.listen)(r,"focusout",t[17]),(0,i.action_destroyer)(d=ci.call(null,r,{items:t[11],currentStates:t[14],currentVisibles:t[15],triggers:t[10].triggers}))],u=!0)},p(t,n){(!c||128&n)&&(0,i.attr)(r,"aria-live",t[7]),64&n&&p!==(p=`scale(${t[6]})`)&&(0,i.set_style)(r,"transform",p),16&n&&g!==(g=`${t[4]}px`)&&(0,i.set_style)(r,"width",g),8&n&&f!==(f=`${t[3]}px`)&&(0,i.set_style)(r,"height",f),(!c||512&n)&&(0,i.toggle_class)(e,"mondrian__preview--empty-1j7eyn",t[9]),72&n&&_!==(_=(t[3]??500)*t[6]+"px")&&(0,i.set_style)(e,"height",_)},i(t){c||((0,i.transition_in)(s.$$.fragment,t),c=!0)},o(t){(0,i.transition_out)(s.$$.fragment,t),c=!1},d(n){n&&(0,i.detach)(e),t[23](null),(0,i.destroy_component)(s),u=!1,(0,i.run_all)(m)}}}function yi(t){let e,n,o,a;const r=[hi,_i],s=[];function l(t,e){return t[2]?0:1}return e=l(t),n=s[e]=r[e](t),{c(){n.c(),o=(0,i.empty)()},m(t,n){s[e].m(t,n),(0,i.insert)(t,o,n),a=!0},p(t,a){let d=e;e=l(t),e===d?s[e].p(t,a):((0,i.group_outros)(),(0,i.transition_out)(s[d],1,1,(()=>{s[d]=null})),(0,i.check_outros)(),n=s[e],n?n.p(t,a):(n=s[e]=r[e](t),n.c()),(0,i.transition_in)(n,1),n.m(o.parentNode,o))},i(t){a||((0,i.transition_in)(n),a=!0)},o(t){(0,i.transition_out)(n),a=!1},d(t){t&&(0,i.detach)(o),s[e].d(t)}}}function $i(t){let e,n,o,a,r,s=t[1]&&pi(t);const l=[fi,gi],d=[];return n=function(t,e){return void 0===t[10]||void 0===t[12]?0:1}(t),o=d[n]=l[n](t),{c(){s&&s.c(),e=(0,i.space)(),o.c(),a=(0,i.empty)()},m(t,o){s&&s.m(t,o),(0,i.insert)(t,e,o),d[n].m(t,o),(0,i.insert)(t,a,o),r=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&(0,i.transition_in)(s,1)):(s=pi(t),s.c(),(0,i.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,i.group_outros)(),(0,i.transition_out)(s,1,1,(()=>{s=null})),(0,i.check_outros)()),o.p(t,n)},i(t){r||((0,i.transition_in)(s),(0,i.transition_in)(o),r=!0)},o(t){(0,i.transition_out)(s),(0,i.transition_out)(o),r=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(a)),s&&s.d(t),d[n].d(t)}}}function vi(t,e,n){let o,a,r,s,l,d,c=i.noop;t.$$.on_destroy.push((()=>c()));let{manifest:u}=e,{blockumentId:m}=e,{prefetch:p=!0}=e,{autoSize:g=!0}=e;(0,y.setContext)($,!0);const f=Symbol("LearnComponent"),_=u.blockuments?.[m],h=function(t,e){const n=structuredClone(t.items)??{};for(const t in n)n[t].blockumentId!==e&&delete n[t];return n}(u,m),v=_?.children[0]?.id,b=Object.values(h),z=function(){const t=new Map;return{...(0,Zt.writable)(t),add:(e,n)=>(t.has(e)||t.set(e,function(t){let e,n,i;t.subscribe((t=>{e=t}));const o=(0,Zt.writable)(e);o.subscribe((t=>{n=i??e,i=t}));const a={...o,revert(t){i===t&&a.set(n)},reset(){a.set(e)}};return a}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No state found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}(),x=function(){const t=new Map;return{...(0,Zt.writable)(t),add:(e,n)=>(t.set(e,function(t){let e;t.subscribe((t=>{e=t}));const n={...(0,Zt.writable)(e),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(e)}};return n}(n)),t.get(e)),get(e){if(!t.has(e))throw new Error(`No visibility found for item ${e}`);return t.get(e)},resetAll(){[...t.values()].forEach((t=>{t.reset()}))}}}();var w;let k;w={getTriggersBySourceId(){return(0,Zt.readable)((t=_?.triggers??[],new Map(Object.entries(me()(t,(t=>t.sourceId??"none"))))));var t},getItem(t){const e=h[t];return(0,Zt.readable)(e)},getState:t=>z.get(t),getVisible:t=>x.get(t),bindTriggers:di,registerVideoElement(t,e){ne(t,e)},getVideoElement:t=>ie(t),unregisterVideoElement(t){oe(t)}},(0,y.setContext)(ee,w),ui.addManifest(f,u),b.forEach((t=>{z.add(t.id,(0,Zt.readable)(t.initialState)),x.add(t.id,(0,Zt.readable)(t.initialVisible))})),(0,y.onMount)((()=>{x.resetAll();const t=new ResizeObserver((()=>{k&&I()}));return k&&t.observe(k),()=>{t.disconnect()}})),(0,y.onDestroy)((()=>{ui.removeManifest(f)}));let S,A,C=1;function I(){if(!(v&&k&&d&&g&&s&&l))return;const t=k.offsetWidth;n(6,C=Math.min(1,t/s))}let M="off";const E=li()((t=>{n(7,M=t?"polite":"off")}),100,{maxWait:500,trailing:!0});return t.$$set=t=>{"manifest"in t&&n(18,u=t.manifest),"blockumentId"in t&&n(0,m=t.blockumentId),"prefetch"in t&&n(1,p=t.prefetch),"autoSize"in t&&n(2,g=t.autoSize)},t.$$.update=()=>{4194304&t.$$.dirty&&n(21,r=v&&h[v]&&d?ce(h[v],d,["width","height"]):void 0),2097152&t.$$.dirty&&n(4,s=r?.width.value),2097152&t.$$.dirty&&n(3,l=r?.height.value),1572888&t.$$.dirty&&(S===s&&A===l||(n(19,S=s),n(20,A=l),I()))},n(9,o=1===Object.keys(h).length),n(8,a=v?z.get(v):void 0),c(),c=(0,i.subscribe)(a,(t=>n(22,d=t))),[m,p,g,l,s,k,C,M,a,o,_,h,v,b,z,x,function(){E(!0)},function(){E(!1)},u,S,A,r,d,function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{k=t,n(5,k)}))}]}class bi extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,vi,$i,i.safe_not_equal,{manifest:18,blockumentId:0,prefetch:1,autoSize:2},mi)}}const zi=bi;var xi=n(2834),wi=n.n(xi);const ki=((t,e={width:"100%"},n="div")=>i=>{const o=(0,xi.useRef)(null),a=(0,xi.useRef)(null);return(0,xi.useEffect)((()=>(a.current=new t({target:o.current,props:i}),()=>{a.current?.$destroy()})),[]),(0,xi.useEffect)((()=>{a.current?.$set(i)}),[i]),wi().createElement(n,{ref:o,style:e})})(zi),Si=t=>{const{manifest:e,...n}=t,i=(0,xi.useMemo)((()=>{const t=mt.safeParse(e);if(t.success)return t.data}),[e]);return i?wi().createElement(ki,{manifest:i,...n}):null}}}]);